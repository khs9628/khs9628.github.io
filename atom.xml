<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>현수쓰</title>
  
  <subtitle>하루를 기록하다</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="https://khs9628.github.io/"/>
  <updated>2020-10-27T09:20:36.321Z</updated>
  <id>https://khs9628.github.io/</id>
  
  <author>
    <name>현수쓰</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>TIL 10월</title>
    <link href="https://khs9628.github.io/2020/10/31/2010_TIL/"/>
    <id>https://khs9628.github.io/2020/10/31/2010_TIL/</id>
    <published>2020-10-31T07:27:38.000Z</published>
    <updated>2020-10-27T09:20:36.321Z</updated>
    
    <content type="html"><![CDATA[<h1 id="하루를-기록하다"><a href="#하루를-기록하다" class="headerlink" title="하루를 기록하다"></a>하루를 기록하다</h1><h2 id="좋은-습관은-좋은사람을-만든다"><a href="#좋은-습관은-좋은사람을-만든다" class="headerlink" title="좋은 습관은 좋은사람을 만든다."></a>좋은 습관은 좋은사람을 만든다.</h2><h1 id="TO-DO"><a href="#TO-DO" class="headerlink" title="TO-DO"></a>TO-DO</h1><ol><li>일 1회 알고리즘 문제 1개 이상 풀기</li><li>Spring 프로젝트 </li><li>Django Rest-Framework 구조 연습</li><li>Nosql 공부</li><li>면접 준비 및 자소서 준비</li><li>포트폴리오 준비</li></ol><h2 id="2020-10-19"><a href="#2020-10-19" class="headerlink" title="2020-10-19"></a>2020-10-19</h2><ol><li><del>정렬알고리즘 풀이</del></li></ol><ul><li><del>K번째수</del></li><li><del>가장 큰 수</del></li></ul><ol start="2"><li><del>Django Mongo DB 세팅</del></li><li><del>회사 리스트업</del></li></ol><h2 id="2020-10-20"><a href="#2020-10-20" class="headerlink" title="2020-10-20"></a>2020-10-20</h2><ol><li><del>알고리즘 풀이</del></li></ol><ul><li><del>H-Index(정렬)</del></li><li><del>모의고사(완전탐색)</del></li></ul><ol start="2"><li><del>Django Mongo DB 테스트</del></li></ol><h2 id="2020-10-21"><a href="#2020-10-21" class="headerlink" title="2020-10-21"></a>2020-10-21</h2><ol><li><del>알고리즘 풀이</del></li></ol><ul><li><del>소수 찾기(완전탐색)</del></li><li><del>카펫(완전탐색)</del></li></ul><ol start="2"><li><del>TDD 연습</del></li></ol><h2 id="2020-10-22"><a href="#2020-10-22" class="headerlink" title="2020-10-22"></a>2020-10-22</h2><ol><li><del>알고리즘 2개 풀이</del></li></ol><ul><li><del>체육복</del></li><li><del>큰 수 만들기</del></li></ul><ol start="2"><li><del>단순복사 vs 얕은복사 vs 깊은복사</del></li></ol><h2 id="2020-10-23"><a href="#2020-10-23" class="headerlink" title="2020-10-23"></a>2020-10-23</h2><ol><li>알고리즘 풀이</li></ol><ul><li><del>조이스틱</del></li><li><del>구명보트</del></li></ul><ol start="2"><li><del>이력서 작성</del></li><li><del>FitFinder 포트폴리오 작성</del></li></ol><h2 id="2020-10-26"><a href="#2020-10-26" class="headerlink" title="2020-10-26"></a>2020-10-26</h2><ol><li>알고리즘 풀이</li></ol><ul><li><del>섬 연결하기</del></li><li><del>타겟 넘버</del></li></ul><ol start="2"><li><p><del>DRF 연습</del><br><a href="https://github.com/Nifled/drf-cheat-sheet" rel="external nofollow noopener noreferrer" target="_blank">URL</a></p></li><li><p><del>사진찍기</del></p></li></ol><h2 id="2020-10-27"><a href="#2020-10-27" class="headerlink" title="2020-10-27"></a>2020-10-27</h2><ol><li><p>회사지원</p></li><li><p>알고리즘 풀기</p></li></ol><ul><li><del>네트워크</del></li><li><del>단어 변환</del></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;하루를-기록하다&quot;&gt;&lt;a href=&quot;#하루를-기록하다&quot; class=&quot;headerlink&quot; title=&quot;하루를 기록하다&quot;&gt;&lt;/a&gt;하루를 기록하다&lt;/h1&gt;&lt;h2 id=&quot;좋은-습관은-좋은사람을-만든다&quot;&gt;&lt;a href=&quot;#좋은-습관은-좋은사람을-
      
    
    </summary>
    
    
      <category term="TIL" scheme="https://khs9628.github.io/categories/TIL/"/>
    
    
      <category term="TIL" scheme="https://khs9628.github.io/tags/TIL/"/>
    
  </entry>
  
  <entry>
    <title>DRF 주요개념</title>
    <link href="https://khs9628.github.io/2020/10/22/201023-DRF/"/>
    <id>https://khs9628.github.io/2020/10/22/201023-DRF/</id>
    <published>2020-10-22T09:11:36.000Z</published>
    <updated>2020-10-26T10:24:47.607Z</updated>
    
    <content type="html"><![CDATA[<h1 id="REST-Framework란"><a href="#REST-Framework란" class="headerlink" title="REST Framework란?"></a>REST Framework란?</h1><ul><li><p><code>REST</code> 란 <code>Representational State Transfer</code> 의 약자이다. 월드 와이드 웹과 같은 분산 하이퍼미디어 시스템을 위한 소프트웨어 아키텍처의 한 형식이다.</p></li><li><p>REST란, “웹에 존재하는 모든 자원(이미지, 동영상, DB 자원)에 고유한 <code>URI</code>를 부여해 활용”하는 것으로, 자원을 정의하고 자원에 대한 주소를 지정하는 방법론을 의미한다고 한다.</p></li><li><p>이런 REST의 형식을 따른 시스템을 RESTful 이라고 부른다.</p></li><li><p>HTTP URI 를 통해 자원을 명시하고 HTTP Method를 통해 해당 자원의 대한 CRUD Operation을 적용한다.</p></li></ul><h2 id="CRUD-Operation-HTTP-Method"><a href="#CRUD-Operation-HTTP-Method" class="headerlink" title="CRUD Operation , HTTP Method"></a>CRUD Operation , HTTP Method</h2><ul><li>Create : POST (자원 생성)</li><li>Read : GET (자원의 정보 조회)</li><li>Update : PUT (자원의 정보 업데이트)</li><li>Delete : DELETE (자원 삭제)</li></ul><h2 id="REST-구성요소"><a href="#REST-구성요소" class="headerlink" title="REST 구성요소"></a>REST 구성요소</h2><ul><li>자원(Resource) , URI<br>모든 자원은 고유한 ID를 가지고 ID는 서버에 존재하고 클라이언트는 각 자원의 상태를 조작하기 위해 요청을 보낸다. HTTP에서 이러한 자원을 구별하는 ID는 ‘Students/1’ 같은 HTTP URI 이다.</li></ul><p><code>cf) URI : 통합 자원 식별자(Uniform Resource Identifier, URI)는 인터넷에 있는 자원을 나타내는 유일한 주소이다.</code></p><ul><li><p>행위(Verb) , Method<br>클라이언트는 URI를 이용해 자원을 지정하고 자원을 조작하기 위해 Method를 사용한다. HTTP 프로토콜에서는 GET , POST , PUT , DELETE 같은 Method를 제공한다.</p></li><li><p>표현(Representation)<br>클라이언트가 서버로 요청을 보냈을 때 서버가 응답으로 보내주는 자원의 상태를 Representation이라고 한다. REST에서 하나의 자원은 JSON , XML , TEXT , RSS 등 여러형태의 Representation으로 나타낼수 있다.</p></li></ul><h2 id="REST-의-특징"><a href="#REST-의-특징" class="headerlink" title="REST 의 특징"></a>REST 의 특징</h2><ul><li><p>클라이언트 / 서버 구조 (Client-Server)<br>자원이 있는 Server , 자원을 요청하는 Client의 구조를 가진다.</p></li><li><p>무상태 (Stateless)<br>HTTP는 Stateless 프로토콜 이므로 REST 역시 무상태성을 가진다. 클라이언트의 Context 를 서버에 저장하지 않는다.</p></li><li><p>캐시 처리 가능 (Cachealble)<br>웹 표준 HTTP 프로토콜을 그대로 사용하므로 , 웹에서 사용하는 기존의 인프라를 그대로 활용 가능하다.</p></li><li><p>계층화<br>API 서버는 순수 비즈니스 로직을 수행하고 그 앞단에 사용자 인증 , 암호화 , 로드밸런싱 등을 하는 계층을 추가하여 구조상의 유연성을 줄 수 있다.</p></li><li><p>인터페이스 일관성(Uniform Interface)<br>URI로 지정한 자원에 대한 조작을 통일되고 한정적인 인터페이스로 수행한다. HTTP 표준에만 따른다면 모든 플랫폼에 사용이 가능하다.</p></li><li><p>자체 표현 구조<br>동사(Method) + 명사(URI) 로 이루어져있어 어떤 메서드에 무슨 행위를 하는지 알 수 있으며 REST API 자체가 매우 쉬워서 API 메세지 자체만 보고도 API를 이해할 수 있다</p></li></ul><h2 id="REST의-장단점"><a href="#REST의-장단점" class="headerlink" title="REST의 장단점"></a>REST의 장단점</h2><h3 id="장점"><a href="#장점" class="headerlink" title="장점"></a><code>장점</code></h3><ul><li><p>쉬운 사용<br>HTTP 프로토콜 인프라를 그대로 사용하므로 별도의 인프라를 구축할 필요가 없다.</p></li><li><p>클라이언트-서버 역할의 명확한 분리<br>클라이언트는 REST API를 통해 서버와 정보를 주고받는다. REST의 특징인 Stateless에 따라 서버는 클라이언트의 Context를 유지할 필요가 없다.</p></li><li><p>특정 데이터 표현을 사용가능<br>REST API는 헤더 부분에 URI 처리 메소드를 명시하고 필요한 실제 데이터를 ‘body’에 표현할 수 있도록 분리시켰다. JSON , XML 등 원하는 Representation 언어로 사용 가능하다.</p></li></ul><h3 id="단점"><a href="#단점" class="headerlink" title="단점"></a><code>단점</code></h3><ul><li><p>메소드의 한계<br>REST는 HTTP 메소드를 이용하여 URI를 표현한다. 이러한 표현은 쉬운 사용이 가능하다는 장점이 있지만 반대로 메소드 형태가 제한적인 단점이 있다.</p></li><li><p>표준이 없음<br>REST는 설계 가이드 일 뿐이지 표준이 아니다. 명확한 표준이 없다.</p></li></ul><h1 id="실제-DRF-구현"><a href="#실제-DRF-구현" class="headerlink" title="실제 DRF 구현"></a>실제 DRF 구현</h1><p><a href="https://github.com/Nifled/drf-cheat-sheet" rel="external nofollow noopener noreferrer" target="_blank">참고 URL</a></p><p><code>ModelSerializer</code> VS <code>HyperlinkedModelSerializer</code></p><p>The only difference is, as in citation you included, that primary and foreign keys are represented by URLs that point to those resources, instead of just actual key values.</p><p>RestFramework는 URI 즉 자원들이 URI 형태로 지정되기 때문에 Frontend에서 해당 자원을 요청하기 쉽게 url 형태로 리턴하는 것이 바람직하다.</p><p><strong><em>그러므로 DRF에서는 ModelSerializer보다 HyperlinkedModelSerializer를 권장하고 있다.</em></strong></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;REST-Framework란&quot;&gt;&lt;a href=&quot;#REST-Framework란&quot; class=&quot;headerlink&quot; title=&quot;REST Framework란?&quot;&gt;&lt;/a&gt;REST Framework란?&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;code&gt;R
      
    
    </summary>
    
    
      <category term="Django" scheme="https://khs9628.github.io/categories/Django/"/>
    
    
      <category term="Django" scheme="https://khs9628.github.io/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>CodeTest 연습 (DFS/BFS)</title>
    <link href="https://khs9628.github.io/2020/10/22/201026-codeTest/"/>
    <id>https://khs9628.github.io/2020/10/22/201026-codeTest/</id>
    <published>2020-10-22T04:55:30.000Z</published>
    <updated>2020-10-27T09:51:05.432Z</updated>
    
    <content type="html"><![CDATA[<h1 id="깊이-너비-우선탐색"><a href="#깊이-너비-우선탐색" class="headerlink" title="깊이/너비 우선탐색"></a>깊이/너비 우선탐색</h1><p><a href="https://itholic.github.io/python-bfs-dfs/" rel="external nofollow noopener noreferrer" target="_blank">참고 URL</a></p><p><img alt="DFS/BFS" data-src="/img/codingtest/DFS.png" class="lozad"></p><ol><li><p>A - B - C - H - D - I - J - M - E - G - K - F - L</p></li><li><p>A - B- C - D - E - F - G - H - I - J - K - L - M</p></li></ol><p>1번 방식은 한 단계씩 나아가면서 해당 노드와 같은 레벨에 있는 노드들(즉, 형제 노드들)을 먼저 순회하는 방식이다.</p><p>이러한 방식을 <code>Breath First Search (너비 우선 탐색, BFS)</code> 라고 한다.</p><p>2번 방식은 한 노드의 자식을 타고 끝까지 순회한 다음에, 다시 돌아와서 다른 형제의 자식을 타고 내려가며 순회하는 방식이다.</p><p>이러한 방식은 <code>Depth First Search (깊이 우선 탐색, DFS)</code> 라고 한다.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">graph = &#123;</span><br><span class="line">    <span class="string">'A'</span>: [<span class="string">'B'</span>],</span><br><span class="line">    <span class="string">'B'</span>: [<span class="string">'A'</span>, <span class="string">'C'</span>, <span class="string">'H'</span>],</span><br><span class="line">    <span class="string">'C'</span>: [<span class="string">'B'</span>, <span class="string">'D'</span>],</span><br><span class="line">    <span class="string">'D'</span>: [<span class="string">'C'</span>, <span class="string">'E'</span>, <span class="string">'G'</span>],</span><br><span class="line">    <span class="string">'E'</span>: [<span class="string">'D'</span>, <span class="string">'F'</span>],</span><br><span class="line">    <span class="string">'F'</span>: [<span class="string">'E'</span>],</span><br><span class="line">    <span class="string">'G'</span>: [<span class="string">'D'</span>],</span><br><span class="line">    <span class="string">'H'</span>: [<span class="string">'B'</span>, <span class="string">'I'</span>, <span class="string">'J'</span>, <span class="string">'M'</span>],</span><br><span class="line">    <span class="string">'I'</span>: [<span class="string">'H'</span>],</span><br><span class="line">    <span class="string">'J'</span>: [<span class="string">'H'</span>, <span class="string">'K'</span>],</span><br><span class="line">    <span class="string">'K'</span>: [<span class="string">'J'</span>, <span class="string">'L'</span>],</span><br><span class="line">    <span class="string">'L'</span>: [<span class="string">'K'</span>],</span><br><span class="line">    <span class="string">'M'</span>: [<span class="string">'H'</span>]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="BFS-Python"><a href="#BFS-Python" class="headerlink" title="BFS (Python)"></a>BFS (Python)</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bfs</span><span class="params">(graph, start_node)</span>:</span></span><br><span class="line">    visit = list()</span><br><span class="line">    queue = list()</span><br><span class="line"></span><br><span class="line">    queue.append(start_node)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> queue:</span><br><span class="line">        node = queue.pop(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">if</span> node <span class="keyword">not</span> <span class="keyword">in</span> visit:</span><br><span class="line">            visit.append(node)</span><br><span class="line">            queue.extend(graph[node])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> visit</span><br></pre></td></tr></table></figure><h2 id="DFS-Python"><a href="#DFS-Python" class="headerlink" title="DFS (Python)"></a>DFS (Python)</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(graph, start_node)</span>:</span></span><br><span class="line">    visit = list()</span><br><span class="line">    stack = list()</span><br><span class="line"></span><br><span class="line">    stack.append(start_node)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> stack:</span><br><span class="line">        node = stack.pop()</span><br><span class="line">        <span class="keyword">if</span> node <span class="keyword">not</span> <span class="keyword">in</span> visit:</span><br><span class="line">            visit.append(node)</span><br><span class="line">            stack.extend(graph[node])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> visit</span><br></pre></td></tr></table></figure><p><code>cf) append() vs extend()</code></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">x = [<span class="string">"my"</span>, <span class="string">"name"</span>, <span class="string">"is"</span>]</span><br><span class="line">y = [<span class="string">"kim"</span>, <span class="string">"hyun"</span>, <span class="string">"soo"</span>]</span><br><span class="line">x.append(y)</span><br><span class="line"><span class="comment"># x: ["my", "name", "is", ["kim", "hyun", "soo"]]</span></span><br><span class="line">x.extend(y)</span><br><span class="line"><span class="comment"># x: ["my", "name", "is", "kim", "hyun", "soo"]</span></span><br></pre></td></tr></table></figure><h1 id="타겟-넘버"><a href="#타겟-넘버" class="headerlink" title="타겟 넘버"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/43165" rel="external nofollow noopener noreferrer" target="_blank">타겟 넘버</a></h1><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(numbers, target)</span>:</span></span><br><span class="line">    tree = [<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> numbers:</span><br><span class="line">        sub_tree = []</span><br><span class="line">        <span class="keyword">for</span> tree_num <span class="keyword">in</span> tree:</span><br><span class="line">            sub_tree.append(tree_num + num)</span><br><span class="line">            sub_tree.append(tree_num - num)</span><br><span class="line">        tree = sub_tree</span><br><span class="line"></span><br><span class="line">        <span class="comment"># print("Tree : "+ str(tree))</span></span><br><span class="line">    <span class="keyword">return</span> tree.count(target)</span><br></pre></td></tr></table></figure><p>그래프의 깊이 만큼 더한 값을 리스트에 저장 후 해당 합이 target값과 같다면 count 한다.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">numbers = [<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line">target = <span class="number">3</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 1 : Tree : [1, -1]</span></span><br><span class="line"><span class="comment"># 2 : Tree : [2, 0, 0, -2]</span></span><br><span class="line"><span class="comment"># 3 : Tree : [3, 1, 1, -1, 1, -1, -1, -3]</span></span><br><span class="line"><span class="comment"># 4: Tree : [4, 2, 2, 0, 2, 0, 0, -2, 2, 0, 0, -2, 0, -2, -2, -4]</span></span><br><span class="line"><span class="comment"># 5 : Tree : [5, 3, 3, 1, 3, 1, 1, -1, 3, 1, 1, -1, 1, -1, -1, -3, 3, 1, 1, -1, 1, -1, -1, -3, 1, -1, -1, -3, -1, -3, -3, -5]</span></span><br><span class="line"><span class="comment"># return tree.count(target) = 3</span></span><br></pre></td></tr></table></figure><h1 id="네트워크"><a href="#네트워크" class="headerlink" title="네트워크"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/43162" rel="external nofollow noopener noreferrer" target="_blank">네트워크</a></h1><h2 id="1차-답안"><a href="#1차-답안" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(n, computers)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 1. 네트워크으 상태를 가지고 있는 배열 생성</span></span><br><span class="line">    <span class="comment"># A = [0] * n</span></span><br><span class="line">    <span class="comment"># 2. 서로 연결되어 있다면 해당 네트워크의 제외한 나머지 1로 지정</span></span><br><span class="line">    <span class="comment"># 0의 개수 + 1 개 =&gt; 네트워크의 수</span></span><br><span class="line">    </span><br><span class="line">    netStat = [<span class="number">0</span>] * n</span><br><span class="line">    i = <span class="number">-1</span> </span><br><span class="line">    <span class="keyword">for</span> computer <span class="keyword">in</span> computers:</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">        j = <span class="number">-1</span></span><br><span class="line">        <span class="keyword">for</span> net <span class="keyword">in</span> computer:</span><br><span class="line"></span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> j != i <span class="keyword">and</span> net == <span class="number">1</span>:</span><br><span class="line">                netStat[j] = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> netStat.count(<span class="number">0</span>) + <span class="number">1</span></span><br></pre></td></tr></table></figure><p><code>테스트 케이스 4, 5, 7 실패</code></p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">5</span></span><br><span class="line"></span><br><span class="line">computers = [[<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>], [<span class="number">1</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>],[<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>], [<span class="number">0</span>, <span class="number">0</span>, <span class="number">1</span>, <span class="number">0</span>, <span class="number">1</span>]]</span><br></pre></td></tr></table></figure><p><strong><em>해당 경우 [A, B] , [C, E], [D] 3개의 네트워크가 생성되지만 return 값은 2로 결과가 다르게 나옵니다.</em></strong></p><h2 id="다른-사람-답안"><a href="#다른-사람-답안" class="headerlink" title="다른 사람 답안"></a>다른 사람 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(n, computers)</span>:</span></span><br><span class="line">    answer = <span class="number">0</span></span><br><span class="line">    visit = [<span class="number">0</span> <span class="keyword">for</span> _ <span class="keyword">in</span> range(n)]</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(start)</span>:</span></span><br><span class="line">        st = [start]</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">while</span> st:</span><br><span class="line">            com_num = st.pop()</span><br><span class="line">            <span class="keyword">if</span> visit[com_num] == <span class="number">0</span>:</span><br><span class="line">                visit[com_num] = <span class="number">1</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> range(len(computers[<span class="number">0</span>])):</span><br><span class="line">                <span class="keyword">if</span> computers[com_num][i] == <span class="number">1</span> <span class="keyword">and</span> visit[i] == <span class="number">0</span>:</span><br><span class="line">                    st.append(i)</span><br><span class="line">                    </span><br><span class="line">    i = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">0</span> <span class="keyword">in</span> visit:</span><br><span class="line">        <span class="keyword">if</span> visit[i] == <span class="number">0</span>:</span><br><span class="line">            dfs(i)</span><br><span class="line">            answer += <span class="number">1</span></span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p>DFS/BFS의 개념에 대해 이해하지 않고 문제만 풀다보니 계속 잘못된 풀이로 이어졌다.</p><p>DFS/BFS를 이용하지 않고 해당 문제를 풀어보려 했지만 시간상 너무 오래걸려 해당 문제를 해결하지 못하고 DFS/BFS 개념 정리 후 해당 답안을 참고해 문제를 풀었다.</p><h1 id="단어-변환"><a href="#단어-변환" class="headerlink" title="단어 변환"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/43163" rel="external nofollow noopener noreferrer" target="_blank">단어 변환</a></h1><h2 id="1차답안"><a href="#1차답안" class="headerlink" title="1차답안"></a>1차답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="2차-답안"><a href="#2차-답안" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">answer = <span class="number">0</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dfs</span><span class="params">(begin,target,words,visited)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> answer</span><br><span class="line">    stacks = [begin]</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">while</span> stacks:</span><br><span class="line">        <span class="comment"># 스택을 활용한 dfs 구현</span></span><br><span class="line">        stack = stacks.pop()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> stack == target:</span><br><span class="line">            <span class="keyword">return</span> answer</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> w <span class="keyword">in</span> range(<span class="number">0</span>,len(words)):</span><br><span class="line">            <span class="comment"># 조건 1. 한 개의 알파벳만 다른 경우</span></span><br><span class="line">            <span class="keyword">if</span> len([i <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">0</span>,len(words[w])) <span class="keyword">if</span> words[w][i]!=stack[i]]) == <span class="number">1</span>:</span><br><span class="line"> </span><br><span class="line">                <span class="keyword">if</span> visited[w] != <span class="number">0</span>:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line"> </span><br><span class="line">                visited[w] = <span class="number">1</span></span><br><span class="line"> </span><br><span class="line">                <span class="comment"># stack에 추가</span></span><br><span class="line">                stacks.append(words[w])</span><br><span class="line">        </span><br><span class="line">        <span class="comment"># depth +</span></span><br><span class="line">        answer +=<span class="number">1</span></span><br><span class="line">        </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(begin, target, words)</span>:</span></span><br><span class="line">    <span class="keyword">global</span> answer</span><br><span class="line">    <span class="keyword">if</span> target <span class="keyword">not</span> <span class="keyword">in</span> words:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    visited = [<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> words]</span><br><span class="line">    dfs(begin,target,words,visited)</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;깊이-너비-우선탐색&quot;&gt;&lt;a href=&quot;#깊이-너비-우선탐색&quot; class=&quot;headerlink&quot; title=&quot;깊이/너비 우선탐색&quot;&gt;&lt;/a&gt;깊이/너비 우선탐색&lt;/h1&gt;&lt;p&gt;&lt;a href=&quot;https://itholic.github.io/pyt
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>CodeTest 연습 (탐욕법)</title>
    <link href="https://khs9628.github.io/2020/10/22/201022-codeTest/"/>
    <id>https://khs9628.github.io/2020/10/22/201022-codeTest/</id>
    <published>2020-10-22T04:54:30.000Z</published>
    <updated>2020-10-26T07:23:42.346Z</updated>
    
    <content type="html"><![CDATA[<h1 id="탐욕법-Greedy"><a href="#탐욕법-Greedy" class="headerlink" title="탐욕법 (Greedy)"></a>탐욕법 (Greedy)</h1><ul><li>탐욕적인 방법이란?<br>결정 할 때마다 그 순간에 가장 좋다고 생각되는 것을 선택하며 최적의 해답에 도달하는 것<br>탐욕적인 방법은 그 순간에는 최적이지만, 전체적인 관점에서 최적이라는 보장이 없기 때문에 반드시 검증해야 한다.</li></ul><h1 id="체육복"><a href="#체육복" class="headerlink" title="체육복"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/42862" rel="external nofollow noopener noreferrer" target="_blank">체육복</a></h1><h2 id="1차-답안"><a href="#1차-답안" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(n, lost, reserve)</span>:</span></span><br><span class="line">    tmp = lost.copy()</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> lost:</span><br><span class="line">        <span class="keyword">if</span> i <span class="keyword">in</span> reserve:</span><br><span class="line">            tmp.remove(i)</span><br><span class="line">            reserve.remove(i)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">elif</span> i - <span class="number">1</span> <span class="keyword">in</span> reserve:</span><br><span class="line">            tmp.remove(i)</span><br><span class="line">            reserve.remove(i<span class="number">-1</span>)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">elif</span> i + <span class="number">1</span> <span class="keyword">in</span> reserve <span class="keyword">and</span> i + <span class="number">1</span> <span class="keyword">not</span> <span class="keyword">in</span> lost:</span><br><span class="line">            tmp.remove(i)</span><br><span class="line">            reserve.remove(i+<span class="number">1</span>)</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span>  n - len(tmp)</span><br></pre></td></tr></table></figure><p><code>tmp = lost.copy()</code><br>초기에 tmp = lost로 리스트 자체를 복사했더니<br>tmp.remove(value)를 해버리니 lost의 값도 삭제가 되는 문제가 발생했다.</p><p><code>단순복사 vs 얕은복사 vs 깊은복사</code></p><p><code>단순 복사</code></p><p>단순 복사는 완전히 동일한 객체를 복사합니다.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line">b = a</span><br><span class="line">b[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">b[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># [100, [100, 3, 4]]</span></span><br><span class="line">print(b)</span><br><span class="line"><span class="comment"># [100, [100, 3, 4]]</span></span><br></pre></td></tr></table></figure><p><code>얕은 복사(shallow copy)</code></p><ul><li>복합개체 ([1, [2, 3, 4]])만 새로운 객체로 복사하고 내부객체 ([2, 3, 4])는 동일한 객체를 참조합니다.</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line">b = a.copy()</span><br><span class="line"></span><br><span class="line">b[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">b[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># [1, [100, 3, 4]]</span></span><br><span class="line">print(b)</span><br><span class="line"><span class="comment"># [100, [100, 3, 4]]</span></span><br></pre></td></tr></table></figure><p><code>깊은 복사(deep copy)</code></p><ul><li>깊은복사는 복합객체와 내부객체를 재귀적으로 복사합니다.</li><li>둘다 완전 다른 객체로 기존 객체의 값 변경에 영향 받지 않습니다. (객체 전체를 복사하여 새로운 객체를 만듭니다.)</li></ul><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, [<span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>]]</span><br><span class="line">b = a.copy()</span><br><span class="line"></span><br><span class="line">b[<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line">b[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">100</span></span><br><span class="line"></span><br><span class="line">print(a)</span><br><span class="line"><span class="comment"># [1, [2, 3, 4]]</span></span><br><span class="line">print(b)</span><br><span class="line"><span class="comment"># [100, [100, 3, 4]]</span></span><br></pre></td></tr></table></figure><p><code>복사방식이 두가지인 이유는?</code></p><ul><li>자기 자신을 참조하는 객체를 복사하면 recursive loop가 발생할 수 있기 때문입니다.</li><li>깊은 복사는 원본과 공유해야 하는 데이터까지 새로운 객체로 복사하기 때문입니다.</li></ul><h2 id="큰-수-만들기"><a href="#큰-수-만들기" class="headerlink" title="큰 수 만들기"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/42883" rel="external nofollow noopener noreferrer" target="_blank">큰 수 만들기</a></h2><h2 id="1차-답안-1"><a href="#1차-답안-1" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(number, k)</span>:</span></span><br><span class="line">    list_num = list(number)</span><br><span class="line">    idx = <span class="number">-1</span></span><br><span class="line">    max_num = <span class="number">0</span></span><br><span class="line">    answer_list = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(list_num) - k, <span class="number">0</span> , <span class="number">-1</span>):</span><br><span class="line"></span><br><span class="line">        max_num = max(list_num[idx+<span class="number">1</span>: len(list_num) - i +<span class="number">1</span>])</span><br><span class="line">        </span><br><span class="line">        idx = list_num.index(max_num)</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(idx+<span class="number">1</span>):</span><br><span class="line">            list_num[i] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        answer_list.append(max_num)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span>.join(answer_list)</span><br></pre></td></tr></table></figure><p>효율성 문제로 실패</p><h2 id="2차-답안"><a href="#2차-답안" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line"><span class="keyword">import</span> operator</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(number, k)</span>:</span></span><br><span class="line">    list_num = list(map(int, number))</span><br><span class="line"></span><br><span class="line">    idx = <span class="number">-1</span></span><br><span class="line">    max_num = <span class="number">0</span></span><br><span class="line">    answer_list = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(list_num) - k, <span class="number">0</span> , <span class="number">-1</span>):</span><br><span class="line">        idx, max_num, = max(enumerate(list_num[idx+<span class="number">1</span>: len(list_num) - i +<span class="number">1</span>], idx+<span class="number">1</span>), key=operator.itemgetter(<span class="number">1</span>))</span><br><span class="line">        answer_list.append(str(max_num))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> <span class="string">''</span>.join(answer_list)</span><br></pre></td></tr></table></figure><p><code>enumerate</code>를 사용해서 해당 max인 값의 idx와 max_num을 가져와 저장 -&gt; 0으로 초기화했던 값들 해결</p><p>테스트 케이스 10 시간초과로 통과 x</p><p>테스트 케이스 10 : 99999999999999999999999999999999 , 9999999999999 -&gt; max를 사용하다면  시간초과 발생</p><h2 id="3차-답안"><a href="#3차-답안" class="headerlink" title="3차 답안"></a>3차 답안</h2><p>max 함수를 사용하게 된다면 시간초과가 발생함 (테스트 케이스 10 통과 불가)</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(number, k)</span>:</span></span><br><span class="line">    answer = <span class="string">''</span></span><br><span class="line">    stack=<span class="string">''</span></span><br><span class="line">    <span class="keyword">while</span> k!=<span class="number">0</span>:</span><br><span class="line">        <span class="keyword">if</span> number!=<span class="string">''</span>:</span><br><span class="line">            stack+=number[<span class="number">0</span>]   </span><br><span class="line">            number=number[<span class="number">1</span>:]   </span><br><span class="line">            len_stack=len(stack)</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> reversed(range(len_stack)):</span><br><span class="line">                <span class="keyword">if</span> number==<span class="string">''</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">if</span> number[<span class="number">0</span>]&gt;stack[i]:</span><br><span class="line">                    stack=stack[:i]</span><br><span class="line">                    k-=<span class="number">1</span></span><br><span class="line">                    <span class="keyword">if</span> k==<span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            stack=stack[:<span class="number">-1</span>]</span><br><span class="line">            k-=<span class="number">1</span></span><br><span class="line">    answer=stack+number</span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><h1 id="조이스틱"><a href="#조이스틱" class="headerlink" title="조이스틱"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/42860" rel="external nofollow noopener noreferrer" target="_blank">조이스틱</a></h1><h2 id="1차-답안-2"><a href="#1차-답안-2" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(name)</span>:</span></span><br><span class="line"></span><br><span class="line">    idx , answer = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    str_Alpabet = <span class="string">"ABCDEFGHIJKLMNOPQRSTUVWXYZ"</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 모두 A로 이루어진 이름이라면 움직일 필요 X</span></span><br><span class="line">    <span class="keyword">if</span> name  == <span class="string">"A"</span> * len(name):</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 오른쪽으로 갈지 왼쪽으로 갈지 나타내주는 지표</span></span><br><span class="line">        l_index = <span class="number">0</span> <span class="comment">#1이면 왼쪽방향</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(name)):</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">                idx = str_Alpabet.index(name[i])</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> idx &lt; len(str_Alpabet) / <span class="number">2</span>: </span><br><span class="line">                    answer += idx</span><br><span class="line">                <span class="comment"># z에 더 가까울 경우</span></span><br><span class="line">                <span class="keyword">else</span>: </span><br><span class="line">                    idx = len(str_Alpabet) - idx</span><br><span class="line">                    answer += idx</span><br><span class="line"></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">if</span> name[i<span class="number">-1</span>] == name[i+<span class="number">1</span>]:</span><br><span class="line">                    answer += <span class="number">1</span></span><br><span class="line">                    l_index = <span class="number">0</span></span><br><span class="line">                <span class="keyword">elif</span> name[i+<span class="number">1</span>] == <span class="string">'A'</span>:</span><br><span class="line">                <span class="comment"># 왼쪽으로 커서 이동</span></span><br><span class="line">                    answer += <span class="number">1</span></span><br><span class="line">                    l_index = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                <span class="comment"># 오른쪽으로 커서 이동</span></span><br><span class="line">                    answer += <span class="number">1</span></span><br><span class="line">                    l_index = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> l_index == <span class="number">0</span>:</span><br><span class="line">                idx = str_Alpabet.index(name[i])</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> idx  &lt; len(str_Alpabet) / <span class="number">2</span>:</span><br><span class="line">                    answer += idx</span><br><span class="line">                <span class="comment"># z에 더 가까울 경우</span></span><br><span class="line">                <span class="keyword">else</span>: </span><br><span class="line">                    idx = len(str_Alpabet) - idx</span><br><span class="line">                    answer += idx</span><br><span class="line"></span><br><span class="line">                <span class="comment"># 커서 이동</span></span><br><span class="line">                <span class="keyword">if</span> i == len(name) <span class="number">-1</span> <span class="keyword">and</span> name[i+<span class="number">1</span>] == <span class="string">"A"</span>:</span><br><span class="line">                    <span class="comment"># 1. 마지막 요소가 A일 경우 옮기지 않아도 완성</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> i == len(name) <span class="number">-1</span>:</span><br><span class="line">                    <span class="comment"># 마지막요소일 경우 + 1 하지 않는다.</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># 오른쪽으로 커서 1</span></span><br><span class="line">                    answer += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">elif</span> l_index == <span class="number">1</span>:</span><br><span class="line">                idx = str_Alpabet.index((name[len(name)-i]))</span><br><span class="line">                <span class="keyword">if</span> idx &lt; len(str_Alpabet) / <span class="number">2</span>: </span><br><span class="line">                    answer += idx</span><br><span class="line">                <span class="keyword">else</span>: </span><br><span class="line">                    idx = len(str_Alpabet) - idx</span><br><span class="line">                    answer += idx</span><br><span class="line"></span><br><span class="line">                <span class="comment"># 왼쪽으로 커서 이동</span></span><br><span class="line">                <span class="keyword">if</span> i == len(name) <span class="number">-2</span> <span class="keyword">and</span> name[len(name)-i <span class="number">-1</span>] == <span class="string">"A"</span>:</span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">elif</span> i == len(name) - <span class="number">1</span>:</span><br><span class="line">                    <span class="comment"># 마지막 요소일 경우 + 1 안한다. </span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    <span class="comment"># 왼쪽 으로 커서 이동</span></span><br><span class="line">                    answer += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p><code>테스트 케이스 10, 11 통과 X</code></p><p><code>name = &quot;AZAAAAAAAZZ&quot;</code> 일 경우 오른쪽으로 처리 후 왼쪽으로 돌아가 처리를 하는 것이 효율적이다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">A▶(1) Z▼(2) ◀◀(4) Z▼(5) ◀(6) Z▼(7)</span><br><span class="line"></span><br><span class="line">A▶(1) Z▼(2) ▶▶▶▶▶▶▶(9) Z▼(10) ▶(10) Z▼(11)</span><br></pre></td></tr></table></figure><h2 id="2차-답안-1"><a href="#2차-답안-1" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(name)</span>:</span></span><br><span class="line">    answer = <span class="number">0</span></span><br><span class="line">    name=list(name)</span><br><span class="line">    index=<span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span>(<span class="literal">True</span>):</span><br><span class="line">        right=<span class="number">1</span></span><br><span class="line">        left=<span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> name[index] != <span class="string">'A'</span>: </span><br><span class="line">            updown = min(ord(name[index])-ord(<span class="string">'A'</span>),(ord(<span class="string">'Z'</span>)-ord(name[index])+<span class="number">1</span>))</span><br><span class="line">            answer += updown</span><br><span class="line">        name[index] = <span class="string">'A'</span></span><br><span class="line">        <span class="keyword">if</span> name == [<span class="string">"A"</span>]*len(name): <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(name)):</span><br><span class="line">            <span class="keyword">if</span> name[index+i]==<span class="string">"A"</span>: right+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>,len(name)):</span><br><span class="line">            <span class="keyword">if</span> name[index-i]==<span class="string">"A"</span>: left+=<span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>: <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> right&gt;left:</span><br><span class="line">            answer+=left</span><br><span class="line">            index-=left</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            answer+=right</span><br><span class="line">            index+=right</span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p><code>ord()</code><br>특정 한 문자를 아스키 코드 값으로 변환해 주는 함수</p><p>cf) <code>chr()</code><br>아스키 코드 값을 문자로 변환해 주는 함수</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">print(ord(<span class="string">'A'</span>))</span><br><span class="line"><span class="comment"># 65</span></span><br><span class="line">print(ord(<span class="string">'a'</span>))</span><br><span class="line"><span class="comment"># 97</span></span><br><span class="line">print(hex(ord(<span class="string">'b'</span>)))</span><br><span class="line"><span class="comment"># 0x62</span></span><br><span class="line"></span><br><span class="line">print(chr(<span class="number">65</span>))</span><br><span class="line"><span class="comment"># 'A'</span></span><br><span class="line">print(chr(<span class="number">97</span>))</span><br><span class="line"><span class="comment"># 'a'</span></span><br><span class="line">print(chr(<span class="number">0x62</span>))</span><br><span class="line"><span class="comment"># 'b'</span></span><br></pre></td></tr></table></figure><h1 id="구명보트"><a href="#구명보트" class="headerlink" title="구명보트"></a><a href>구명보트</a></h1><ol><li>한 번에 최대 2명씩 밖에 탈 수 없고</li><li>구명보트의 무게 제한은 항상 사람들의 몸무게 중 최댓값보다 크게 주어지므로 사람들을 구출할 수 없는 경우는 없습니다.</li></ol><p>-&gt; 한번에 최대 2명이 탄다 -&gt; 정렬 후 최소값과 최대값을 더해 limit 보다 작다면 2명타고 크다면 1명만 타도록 알고리즘 구현</p><h2 id="1차-답안-3"><a href="#1차-답안-3" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(people, limit)</span>:</span></span><br><span class="line">    people.sort()</span><br><span class="line">    cnt = <span class="number">0</span></span><br><span class="line">    i, j = <span class="number">0</span>, len(people) <span class="number">-1</span></span><br><span class="line">    <span class="keyword">while</span>(i &lt;= j):</span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> people[j] + people[i] &lt;= limit:</span><br><span class="line">            i+=<span class="number">1</span></span><br><span class="line">        j -= <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><p><code>통과</code></p><h1 id="섬-연결하기"><a href="#섬-연결하기" class="headerlink" title="섬 연결하기"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/42861" rel="external nofollow noopener noreferrer" target="_blank">섬 연결하기</a></h1><p><code>Kruskal 알고리즘</code></p><ul><li>탐욕적인 방법(greedy method) 을 이용하여 가중치를 간선에 할당한 그래프(네트워크)의 모든 정점을 최소 비용으로 연결하는 최적 해답을 구하는 것</li></ul><p><code>Kruskal 전재조건</code><br>1) 최소 비용 신장 트리(MST)가 최소 비용의 간선으로 구성되었는가<br>2) 사이클을 포함하지 않음 의 조건에 근거하여 각 단계에서 사이클을 이루지 않는 최소 비용 간선을 선택 한다. </p><p><img alt="img" data-src="/img/codingtest/kruskal.png" class="lozad"></p><p><a href="https://gmlwjd9405.github.io/2018/08/29/algorithm-kruskal-mst.html" rel="external nofollow noopener noreferrer" target="_blank">참고URL</a></p><h2 id="1차답안"><a href="#1차답안" class="headerlink" title="1차답안"></a>1차답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(n, costs)</span>:</span></span><br><span class="line">    answer = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 순서대로  (거리순)</span></span><br><span class="line">    costs.sort(key = <span class="keyword">lambda</span> x : x[<span class="number">2</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 연결된 섬 리스트</span></span><br><span class="line">    islands = []</span><br><span class="line">    cost_islands = []</span><br><span class="line">    <span class="keyword">while</span> n != len(islands):</span><br><span class="line">        <span class="keyword">for</span> cost <span class="keyword">in</span> costs:</span><br><span class="line">            print(cost)</span><br><span class="line">            <span class="comment"># 아예 두 요소가 islands에 없다면 두요소의 최솟값 더하고 섬연결  </span></span><br><span class="line">            <span class="keyword">if</span> cost[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> islands <span class="keyword">and</span> cost[<span class="number">1</span>] <span class="keyword">not</span> <span class="keyword">in</span> islands:</span><br><span class="line">                islands.append(cost[<span class="number">0</span>])</span><br><span class="line">                islands.append(cost[<span class="number">1</span>])</span><br><span class="line">                answer += cost[<span class="number">2</span>]</span><br><span class="line">                cost_islands.append(cost)</span><br><span class="line">            <span class="comment"># cost[0] 가 없다면 cost[0 넣고]</span></span><br><span class="line">            <span class="keyword">elif</span> cost[<span class="number">0</span>] <span class="keyword">not</span> <span class="keyword">in</span> islands:</span><br><span class="line">                islands.append(cost[<span class="number">0</span>])</span><br><span class="line">                answer += cost[<span class="number">2</span>]</span><br><span class="line">                cost_islands.append(cost)</span><br><span class="line">            <span class="keyword">elif</span> cost[<span class="number">1</span>] <span class="keyword">not</span> <span class="keyword">in</span> islands:</span><br><span class="line">                islands.append(cost[<span class="number">1</span>])</span><br><span class="line">                answer += cost[<span class="number">2</span>]</span><br><span class="line">                cost_islands.append(cost)</span><br><span class="line">                </span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p>테스트케이스 2,3,4,5,6,7 통과 불가 25점…</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">n = <span class="number">5</span></span><br><span class="line">costs = [[<span class="number">0</span>, <span class="number">1</span>, <span class="number">1</span>], [<span class="number">2</span>, <span class="number">3</span>, <span class="number">1</span>], [<span class="number">3</span>, <span class="number">4</span>, <span class="number">2</span>], [<span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>], [<span class="number">0</span>, <span class="number">4</span> <span class="number">100</span>]]</span><br></pre></td></tr></table></figure><p>위 와 같은 사례에 <code>[024]</code> <code>[13]</code> 두 영역이 연결된 상태가 아니지만 다 연결되었다고 표시가 되어 오류가 발생한다.</p><h2 id="2차-답안-2"><a href="#2차-답안-2" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">parent = &#123;&#125;</span><br><span class="line">rank = &#123;&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">make_set</span><span class="params">(v)</span>:</span></span><br><span class="line">    parent[v] = v</span><br><span class="line">    rank[v] = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">find_root</span><span class="params">(v)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> parent[v] != v:</span><br><span class="line">        parent[v] = find_root(parent[v])</span><br><span class="line">    <span class="keyword">return</span> parent[v]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">union</span><span class="params">(r1, r2)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> r1 != r2:</span><br><span class="line">        <span class="keyword">if</span> rank[r1] &gt; rank[r2]:</span><br><span class="line">            parent[r2] = r1</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            parent[r1] = r2</span><br><span class="line">            <span class="keyword">if</span> rank[r1] == rank[r2]:</span><br><span class="line">                rank[r2] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(n, costs)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(n):</span><br><span class="line">        make_set(i)</span><br><span class="line">    s = <span class="number">0</span></span><br><span class="line">    costs = sorted(costs, key=<span class="keyword">lambda</span> x: x[<span class="number">2</span>])</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> costs:</span><br><span class="line">        v, u, w = j</span><br><span class="line">        r1 = find_root(v)</span><br><span class="line">        r2 = find_root(u)</span><br><span class="line">        <span class="keyword">if</span> r1 != r2:</span><br><span class="line">            union(r1, r2)</span><br><span class="line">            s += w</span><br><span class="line">    <span class="keyword">return</span> s</span><br></pre></td></tr></table></figure><p>2차 답안은 Union의 개념을 코드로 적용하기 힘들어<br>Kruskal 알고리즘 코드를 참고해서 작성했다..</p><h2 id="다른사람-풀이"><a href="#다른사람-풀이" class="headerlink" title="다른사람 풀이"></a>다른사람 풀이</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">ancestor</span><span class="params">(node, parents)</span>:</span></span><br><span class="line">    <span class="keyword">if</span> parents[node] == node:</span><br><span class="line">        <span class="keyword">return</span> node</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> ancestor(parents[node], parents)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(n, costs)</span>:</span></span><br><span class="line">    answer = <span class="number">0</span></span><br><span class="line">    edges = sorted([(x[<span class="number">2</span>], x[<span class="number">0</span>], x[<span class="number">1</span>]) <span class="keyword">for</span> x <span class="keyword">in</span> costs])</span><br><span class="line">    parents = [i <span class="keyword">for</span> i <span class="keyword">in</span> range(n)]</span><br><span class="line">    bridges = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> w, f, t <span class="keyword">in</span> edges:</span><br><span class="line">        <span class="keyword">if</span> ancestor(f, parents) != ancestor(t, parents):</span><br><span class="line">            answer += w</span><br><span class="line">            parents[ancestor(f, parents)] = t</span><br><span class="line">            bridges += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> bridges == n - <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p>Kruskal 알고리즘에서 Rank 개념을 삭제해 더 간소한 코드를 작성했다.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;탐욕법-Greedy&quot;&gt;&lt;a href=&quot;#탐욕법-Greedy&quot; class=&quot;headerlink&quot; title=&quot;탐욕법 (Greedy)&quot;&gt;&lt;/a&gt;탐욕법 (Greedy)&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;탐욕적인 방법이란?&lt;br&gt;결정 할 때마다 그 순간에
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>Django TDD (UnitTest)</title>
    <link href="https://khs9628.github.io/2020/10/21/201021-TDD/"/>
    <id>https://khs9628.github.io/2020/10/21/201021-TDD/</id>
    <published>2020-10-21T07:21:33.000Z</published>
    <updated>2020-10-22T09:17:18.659Z</updated>
    
    <content type="html"><![CDATA[<h2 id="Unit-Test-란"><a href="#Unit-Test-란" class="headerlink" title="Unit Test 란?"></a>Unit Test 란?</h2><ul><li><p>Unit test란 내가 작성한 코드의 <code>가장 작은 단위</code>인 함수를 테스트 하는 메소드이다. </p></li><li><p>작성한 로직을 테스트하는 유닛테스트 코드를 작성하여 테스트 하게 된다.</p></li><li><p>TestCase : Unit Test 프레임 워크의 테스트 조직 기본 단위</p></li><li><p>Fixture : 테스트 진행 시 필요한 데이터 혹은 설정을 의미</p></li><li><p>assertion : Unit Test시 검증이 제대로 되었는지 확인 하는 부분</p></li></ul><h2 id="테스트-방법"><a href="#테스트-방법" class="headerlink" title="테스트 방법"></a>테스트 방법</h2><p>시스템을 테스트 할때 크게 3가지 방법으로 나눌 수 있습니다.</p><ul><li><p>UI Testing / End-To-End Testing</p></li><li><p>Integration Testing</p></li><li><p>Unit Testing</p></li><li><p>이중 UI Testing이 가장 어렵고 까다롭습니다.</p></li><li><p>Manual Testing은 실행하기 쉽다는 장점이 있지만 비용이 많이 들고 부정확 하며 실행 시간이 오래 걸립니다.</p></li><li><p>자동화 할 수 있지만 UI Testing은 자동화 하기가 가장 까다랍고 또 실행하기도 까다롭습니다.</p></li><li><p>Integration Testing이 그 다음으로 공수가 많이 듭니다.</p></li><li><p>Unit Testing이 가장 쉬우며 가장 효과가 좋습니다.</p></li></ul><p>cf) UI Testing은 10%, Integrating Testing은 20%, 그리고 Unit Testing을 70% 전체 테스트 coverage를 구현 하는것이 권장</p><h2 id="실제-적용"><a href="#실제-적용" class="headerlink" title="실제 적용"></a>실제 적용</h2><p>해당 Unit Test는 MongoDB CRUD 프로젝트에 적용되었습니다.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># tests.py</span></span><br><span class="line"><span class="comment"># Post 글을 쓰고 읽고 수정하고 삭제하는 test 코드 </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.test <span class="keyword">import</span> TestCase</span><br><span class="line"><span class="keyword">import</span> unittest</span><br><span class="line"></span><br><span class="line"><span class="comment"># http 통신을 위해 import</span></span><br><span class="line"><span class="keyword">import</span> requests</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> json</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> time <span class="keyword">import</span> sleep</span><br><span class="line"><span class="comment"># Create your tests here.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">UnitTestCase</span><span class="params">(unittest.TestCase)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># UnitTest 하기전 사전 준비 작업을 하는 Method</span></span><br><span class="line">    </span><br><span class="line">    <span class="comment"># def setUp(self):</span></span><br><span class="line">    <span class="comment">#     print("SetUP Unit Test")</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># # clean up 처리를 위해 작업하는 Method</span></span><br><span class="line">    <span class="comment"># def tearDown(self):</span></span><br><span class="line">    <span class="comment">#     print("Cleaning Unit Test")</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_01_addPost</span><span class="params">(self)</span>:</span></span><br><span class="line">        print(<span class="string">"============test_addPost================"</span>)</span><br><span class="line">        url = <span class="string">"http://127.0.0.1:8000/add_post/"</span></span><br><span class="line"></span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">"post_title"</span> : <span class="string">"First Post"</span>,</span><br><span class="line">            <span class="string">"post_description"</span> :  <span class="string">"Test TDD"</span>,</span><br><span class="line">            <span class="string">"comment"</span> : <span class="string">"commnet2, commnet3"</span>,</span><br><span class="line">            <span class="string">"tags"</span> : <span class="string">"1,2"</span>,</span><br><span class="line">            <span class="string">"user_details"</span> : &#123; <span class="string">"first_name"</span> : <span class="string">"KIM"</span>, <span class="string">"last_name"</span> : <span class="string">"hyunsoo"</span>&#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        response = requests.post(url, json= data).json()</span><br><span class="line">        <span class="keyword">global</span> id </span><br><span class="line">        id = response[<span class="string">'id'</span>]</span><br><span class="line">        </span><br><span class="line">        print(<span class="string">"response: "</span>)</span><br><span class="line">        print(response)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_02_readPost</span><span class="params">(self)</span>:</span></span><br><span class="line">        </span><br><span class="line">        print(<span class="string">"============test_readPost================"</span>)</span><br><span class="line"></span><br><span class="line">        url = <span class="string">"http://127.0.0.1:8000/read_post/"</span> + str(id)</span><br><span class="line">    </span><br><span class="line">        response = requests.get(url).json()</span><br><span class="line"></span><br><span class="line">        print(<span class="string">"response: "</span>)</span><br><span class="line">        print(response)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_03_updatePost</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        print(<span class="string">"============test_updatePost================"</span>)</span><br><span class="line"></span><br><span class="line">        url = <span class="string">"http://127.0.0.1:8000/update_post/"</span> + str(id)</span><br><span class="line">        </span><br><span class="line">        data = &#123;</span><br><span class="line">            <span class="string">"post_title"</span> : <span class="string">"First Post_Update"</span>,</span><br><span class="line">            <span class="string">"post_description"</span> :  <span class="string">"Test TDD_Update"</span>,</span><br><span class="line">            <span class="string">"comment"</span> : <span class="string">"commnet2, commnet3"</span> ,</span><br><span class="line">            <span class="string">"tags"</span> : <span class="string">"1,2"</span> ,</span><br><span class="line">            <span class="string">"user_details"</span> : &#123; <span class="string">"first_name"</span> : <span class="string">"LEE"</span>, <span class="string">"last_name"</span> : <span class="string">"hyunsoo"</span>&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        </span><br><span class="line">        response = requests.post(url, json=data).json()</span><br><span class="line"></span><br><span class="line">        print(<span class="string">"response: "</span>)</span><br><span class="line">        print(response)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">test_04_deletePost</span><span class="params">(self)</span>:</span></span><br><span class="line"></span><br><span class="line">        print(<span class="string">"============test_deletePost================"</span>)</span><br><span class="line">        url = <span class="string">"http://127.0.0.1:8000/delete_post/"</span> + str(id)</span><br><span class="line"></span><br><span class="line">        response = requests.get(url).json()</span><br><span class="line"></span><br><span class="line">        print(<span class="string">"response: "</span>)</span><br><span class="line">        print(response)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;Unit-Test-란&quot;&gt;&lt;a href=&quot;#Unit-Test-란&quot; class=&quot;headerlink&quot; title=&quot;Unit Test 란?&quot;&gt;&lt;/a&gt;Unit Test 란?&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Unit test란 내가 작성한 코드의 &lt;
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>CodeTest 연습 (완전탐색)</title>
    <link href="https://khs9628.github.io/2020/10/20/201020-codeTest/"/>
    <id>https://khs9628.github.io/2020/10/20/201020-codeTest/</id>
    <published>2020-10-20T04:54:30.000Z</published>
    <updated>2020-10-21T06:53:59.482Z</updated>
    
    <content type="html"><![CDATA[<h1 id="완전탐색"><a href="#완전탐색" class="headerlink" title="완전탐색"></a>완전탐색</h1><h1 id="모의고사"><a href="#모의고사" class="headerlink" title="모의고사"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/42840" rel="external nofollow noopener noreferrer" target="_blank">모의고사</a></h1><h2 id="1차-답안"><a href="#1차-답안" class="headerlink" title="1차 답안"></a>1차 답안</h2><ol><li><p><code>first</code>, <code>second</code>, <code>third</code><br>먼저 수포자들 1, 2, 3이 찍는 패턴을 분석해서 3개의 리스트를 만들 었습니다.</p></li><li><p><code>f_idx</code>, <code>s_idx</code>, <code>t_idx</code><br>각 수포자들의 패턴이 담겨있는 리스트의 길이가 다르기 때문에 해당 리스트 크기를 answer리스트의 인덱스로 나눈 나머지를 가지고 해당 답을 비교하려고 계획했습니다.</p></li><li><p><code>answer_cnt = [0,0,0]</code><br>수포자들의 답을 맞춘 개수를 저장하는 리스트를 하나더 만들어 가장 많이 맞춘 사람의 값을 비교하려고 계획했습니다.</p></li><li><p>모든 반복문이 끝나게 되면 수포자마다 정답을 맞춘 개수가 <code>answer_cnt</code>에 저장되게되고 max 값을 구한 후 해당 개수와 같은 리스트의 인덱스를 리턴하면 답을 구하게 됩니다.</p></li></ol><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(answers)</span>:</span></span><br><span class="line">    first = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">    second = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">2</span>, <span class="number">5</span>]</span><br><span class="line">    third = [<span class="number">3</span>, <span class="number">3</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">2</span>, <span class="number">4</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">5</span>]</span><br><span class="line">    </span><br><span class="line">    answer_cnt = [<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i,k <span class="keyword">in</span> enumerate(answers):</span><br><span class="line">        </span><br><span class="line">        f_idx = i % <span class="number">5</span></span><br><span class="line">        s_idx = i % <span class="number">8</span></span><br><span class="line">        t_idx = i % <span class="number">10</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> first[f_idx] == k:</span><br><span class="line">            answer_cnt[<span class="number">0</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> second[s_idx] == k:</span><br><span class="line">            answer_cnt[<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> third[t_idx] == k:</span><br><span class="line">            answer_cnt[<span class="number">2</span>] += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">    m = max(answer_cnt)</span><br><span class="line"></span><br><span class="line">    answer  = [i <span class="keyword">for</span> i, j <span class="keyword">in</span> enumerate(answer_cnt,<span class="number">1</span>) <span class="keyword">if</span> j == m]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><h2 id="다른사람-풀이"><a href="#다른사람-풀이" class="headerlink" title="다른사람 풀이"></a>다른사람 풀이</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> cycle</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(answers)</span>:</span></span><br><span class="line">    giveups = [</span><br><span class="line">        cycle([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>]),</span><br><span class="line">        cycle([<span class="number">2</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">5</span>]),</span><br><span class="line">        cycle([<span class="number">3</span>,<span class="number">3</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">4</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">5</span>]),</span><br><span class="line">    ]</span><br><span class="line">    scores = [<span class="number">0</span>, <span class="number">0</span>, <span class="number">0</span>]</span><br><span class="line">    <span class="keyword">for</span> num <span class="keyword">in</span> answers:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">            <span class="keyword">if</span> next(giveups[i]) == num:</span><br><span class="line">                scores[i] += <span class="number">1</span></span><br><span class="line">    highest = max(scores)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [i + <span class="number">1</span> <span class="keyword">for</span> i, v <span class="keyword">in</span> enumerate(scores) <span class="keyword">if</span> v == highest]</span><br></pre></td></tr></table></figure><p>동작 방식은 동일하나 <code>cycle</code> 함수를 통해서 해당 리스트가 반복되도록 구현하는 점이 인상 깊었습니다. </p><h1 id="소수-찾기"><a href="#소수-찾기" class="headerlink" title="소수 찾기"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/42839" rel="external nofollow noopener noreferrer" target="_blank">소수 찾기</a></h1><h2 id="1차-답안-1"><a href="#1차-답안-1" class="headerlink" title="1차 답안"></a>1차 답안</h2><ol><li><p>문자열로된 숫자조합을 하나씩 나누어 순열로 모든 배열의 개수를 만들어야한다.</p></li><li><p>중복된 요소는 제거해야하므로 set을 사용해서 제거한다.</p></li></ol><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(numbers)</span>:</span></span><br><span class="line">    </span><br><span class="line">    list_num = list(numbers)</span><br><span class="line"></span><br><span class="line">    list_numbers = list(map(<span class="string">''</span>.join, permutations(list_num)))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 모든 원소 합치기</span></span><br><span class="line">    list_numbers = list_num + list_numbers</span><br><span class="line"></span><br><span class="line">    <span class="comment"># int 배열로 변환 및 set으로 중복 제거</span></span><br><span class="line">    list_numbers = list(set([int(x) <span class="keyword">for</span> x <span class="keyword">in</span> list_numbers]))</span><br><span class="line"></span><br><span class="line">    answer = len(list_numbers)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> list_numbers:</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> i == <span class="number">1</span>:</span><br><span class="line">            answer -= <span class="number">1</span></span><br><span class="line">    </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span>(j&lt;i):</span><br><span class="line">                j = j+<span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> j == <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">pass</span></span><br><span class="line">                </span><br><span class="line">                <span class="keyword">elif</span> i == j:</span><br><span class="line">                    <span class="keyword">pass</span> </span><br><span class="line">                </span><br><span class="line">                <span class="keyword">elif</span> i%j == <span class="number">0</span>:</span><br><span class="line">                    answer -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p>테스트케이스 7, 9, 10 ,11, 12 실패<br>-&gt; <code>permutations</code>은 모든 요소가 포함된 것만 리턴하기 때문에 포함안된 부분에 대해서는 트래킹할 수 없음 </p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## ex) </span></span><br><span class="line"></span><br><span class="line">list a = [<span class="number">0</span>,<span class="number">1</span>,<span class="number">2</span>]</span><br><span class="line"></span><br><span class="line">list_numbers = list(map(<span class="string">''</span>.join, permutations(list_num)))</span><br><span class="line"></span><br><span class="line">print(list_numbers)</span><br><span class="line"><span class="comment"># ['123', '132', '213', '231', '312', '321']</span></span><br><span class="line"><span class="comment">## -&gt; 12, 13과 같이 2개만 사용하는 요소 포함 x</span></span><br></pre></td></tr></table></figure><h2 id="2차-답안"><a href="#2차-답안" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(numbers)</span>:</span></span><br><span class="line"></span><br><span class="line">    list_numbers = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, len(numbers)+<span class="number">1</span>):</span><br><span class="line">        list_numbers += list(map(<span class="string">''</span>.join, permutations(numbers,i)))</span><br><span class="line"></span><br><span class="line">    list_numbers = list(set([int(x) <span class="keyword">for</span> x <span class="keyword">in</span> list_numbers]))</span><br><span class="line"></span><br><span class="line">    answer = len(list_numbers)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> list_numbers:</span><br><span class="line">        j = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> i == <span class="number">1</span>:</span><br><span class="line">            answer -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span>(j&lt;i):</span><br><span class="line">                j = j+<span class="number">1</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> j == <span class="number">1</span>:</span><br><span class="line">                    <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">                <span class="keyword">elif</span> i == j:</span><br><span class="line">                    <span class="keyword">pass</span> </span><br><span class="line"></span><br><span class="line">                <span class="keyword">elif</span> i%j == <span class="number">0</span>:</span><br><span class="line">                    answer -= <span class="number">1</span></span><br><span class="line">                    <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p><code>set(집합)</code><br>파이썬 2.3부터 지원된 자료형으로 중복이 없고, 집합형태의 자료형을 편리하게 관리 할 수 있도록 만들어진 자료형 입니다.</p><p><code>순열 Permutation</code><br>순열이란 순서를 정해서 나열한 것을 말합니다.<br>nPr로 표시하며 n * (n-1) * (n-2) * … * (n-r+1)로 계산됩니다.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> permutations</span><br><span class="line">permutations(list, idx)</span><br></pre></td></tr></table></figure><p><code>조합 Combination</code><br>조합이란 서로 다른 n개에서 순서를 생각하지 않고 r개를 뽑는 것을 말합니다.<br>nCr로 표시하며 n! / r(n-r)!로 계산됩니다.</p><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> itertools <span class="keyword">import</span> combinations</span><br><span class="line">combinations(list, idx)</span><br></pre></td></tr></table></figure><h1 id="카펫"><a href="#카펫" class="headerlink" title="카펫"></a><a href="https://programmers.co.kr/learn/courses/30/lessons/42842" rel="external nofollow noopener noreferrer" target="_blank">카펫</a></h1><h2 id="1차풀이"><a href="#1차풀이" class="headerlink" title="1차풀이"></a>1차풀이</h2><ol><li><p>total 블록의 개수는 brown 블록과  yellow 블록의 총합이다. (total)</p></li><li><p>total 블록의 약수들을 구해 가로와 세로가 될 수 있는 집합을 저장한다 (div)</p></li><li><p>brown은 사각형의 둘레이므로 가로 x 2 + (세로 - 2) x 2 를 하면 브라운 블록의 개수와 동일하다.</p></li><li><p>약수의 집합에서 큰 수가 가로의 길이이기 때문에 둘레를 고려해 브라운 블록과 비교한다.</p></li></ol><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(brown, yellow)</span>:</span></span><br><span class="line">    total = brown + yellow</span><br><span class="line">    div = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">1</span>, total+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> total % i == <span class="number">0</span> <span class="keyword">and</span> i &lt;= total//i:</span><br><span class="line">            div.append([i, total//i])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j, k <span class="keyword">in</span> div:</span><br><span class="line">        <span class="keyword">if</span> brown == k * <span class="number">2</span>  + (j - <span class="number">2</span>) * <span class="number">2</span>:</span><br><span class="line">            <span class="keyword">return</span> [k,j]</span><br></pre></td></tr></table></figure><p>수학적 생각이 중요한 문제였던 것 같다.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;완전탐색&quot;&gt;&lt;a href=&quot;#완전탐색&quot; class=&quot;headerlink&quot; title=&quot;완전탐색&quot;&gt;&lt;/a&gt;완전탐색&lt;/h1&gt;&lt;h1 id=&quot;모의고사&quot;&gt;&lt;a href=&quot;#모의고사&quot; class=&quot;headerlink&quot; title=&quot;모의고사&quot;&gt;&lt;/a
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>MongoDB</title>
    <link href="https://khs9628.github.io/2020/10/19/201019_MongoDB/"/>
    <id>https://khs9628.github.io/2020/10/19/201019_MongoDB/</id>
    <published>2020-10-19T07:40:02.000Z</published>
    <updated>2020-10-22T09:35:22.178Z</updated>
    
    <content type="html"><![CDATA[<h1 id="NoSQL"><a href="#NoSQL" class="headerlink" title="NoSQL??"></a>NoSQL??</h1><p>Not Only SQL’이라고 해석하는 게 더 적절하다.<br>그리고 NoSQL은 “관계형 데이터베이스이지 않은” 모든 데이터베이스의 데이터 모델과 제품을 아우른다.</p><h2 id="Nosql-특징"><a href="#Nosql-특징" class="headerlink" title="Nosql 특징?"></a>Nosql 특징?</h2><ul><li><p><code>유연성</code><br>NoSQL 데이터베이스는 일반적으로 유연한 스키마를 제공하여 보다 빠르고 반복적인 개발을 가능하게 해줍니다. 이같은 유연한 데이터 모델은 NoSQL 데이터베이스를 반정형 및 비정형 데이터에 이상적으로 만들어 줍니다.</p></li><li><p><code>확장성</code><br>NoSQL 데이터베이스는 일반적으로 고가의 강력한 서버를 추가하는 대신 분산형 하드웨어 클러스터를 이용해 확장하도록 설계되었습니다. 일부 클라우드 제공자들은 완전관리형 서비스로서 이런 운영 작업을 보이지 않게 처리합니다.</p></li><li><p><code>고성능</code><br>NoSQL 데이터베이스는 특정 데이터 모델 및 액세스 패턴에 대해 최적화되어 관계형 데이터베이스를 통해 유사한 기능을 충족하려 할 때보다 뛰어난 성능을 얻게 해줍니다.</p></li><li><p><code>고기능성</code><br>NoSQL 데이터베이스는 각 데이터 모델에 맞춰 특별히 구축된 뛰어난 기능의 API와 데이터 유형을 제공합니다.</p></li></ul><h1 id="MongoDB"><a href="#MongoDB" class="headerlink" title="MongoDB"></a>MongoDB</h1><h2 id="MongoDB-설정"><a href="#MongoDB-설정" class="headerlink" title="MongoDB 설정"></a>MongoDB 설정</h2><ol><li><a href="https://www.mongodb.com/" rel="external nofollow noopener noreferrer" target="_blank">URL</a>을 클릭 후 해당 사이트 이동</li><li>Start free 클릭 후 or 부분에 input box 입력</li><li>무료버전의 Cluster 생성 후 Get Start 버튼의 순서대로 생성 시나리오 진행 </li></ol><h2 id="Django-프로젝트-및-APP-생성"><a href="#Django-프로젝트-및-APP-생성" class="headerlink" title="Django 프로젝트 및 APP 생성"></a>Django 프로젝트 및 APP 생성</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># MongoDB라는 프로젝트 생성</span></span><br><span class="line">$ django-admin startproject MongoDB</span><br><span class="line"></span><br><span class="line"><span class="comment"># 해당 폴더로 진입</span></span><br><span class="line">$ <span class="built_in">cd</span> MongoDB</span><br><span class="line"></span><br><span class="line"><span class="comment"># nosql이라는 app 생성</span></span><br><span class="line">$ python manage.py startapp nosql</span><br></pre></td></tr></table></figure><h2 id="DRF-설치-및-MongoDB-설치"><a href="#DRF-설치-및-MongoDB-설치" class="headerlink" title="DRF 설치 및 MongoDB 설치"></a>DRF 설치 및 MongoDB 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ pip install djangorestframework</span><br><span class="line">$ pip install djongo</span><br><span class="line">$ pip install django-cors-headers</span><br><span class="line">$ pip install dnspython</span><br></pre></td></tr></table></figure><h2 id="settings-py-INSTALLED-APPS에-APP-등록-및-설정"><a href="#settings-py-INSTALLED-APPS에-APP-등록-및-설정" class="headerlink" title="settings.py INSTALLED_APPS에 APP 등록 및 설정"></a>settings.py INSTALLED_APPS에 APP 등록 및 설정</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">INSTALLED_APPS = [</span><br><span class="line">    <span class="string">'django.contrib.admin'</span>,</span><br><span class="line">    <span class="string">'django.contrib.auth'</span>,</span><br><span class="line">    <span class="string">'django.contrib.contenttypes'</span>,</span><br><span class="line">    <span class="string">'django.contrib.sessions'</span>,</span><br><span class="line">    <span class="string">'django.contrib.messages'</span>,</span><br><span class="line">    <span class="string">'django.contrib.staticfiles'</span>,</span><br><span class="line">    <span class="string">'nosql'</span>, <span class="comment"># app등록</span></span><br><span class="line">    <span class="string">'rest_framework'</span>, <span class="comment"># DRF</span></span><br><span class="line">    <span class="string">'corsheaders'</span>, <span class="comment"># CORS</span></span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="comment"># CORS 설정</span></span><br><span class="line">CORS_ORIGIN_ALLOW_ALL = <span class="literal">False</span></span><br><span class="line">CORS_ORIGIN_WHITELIST = (</span><br><span class="line">    <span class="string">'http://localhost:8000'</span>,</span><br><span class="line">)</span><br><span class="line"></span><br><span class="line"><span class="comment"># DB 설정</span></span><br><span class="line">DATABASES = &#123;</span><br><span class="line"><span class="string">"default"</span>: &#123;</span><br><span class="line">    <span class="string">"ENGINE"</span>: <span class="string">"djongo"</span>,</span><br><span class="line">    <span class="string">"CLIENT"</span>: &#123;</span><br><span class="line">        <span class="string">"host"</span>: <span class="string">"mongodb+srv://&lt;db id&gt;:&lt;db pw&gt;@hyunsoo.dagbh.mongodb.net/&lt;db name&gt;?retryWrites=true&amp;w=majority"</span>,</span><br><span class="line">        <span class="string">"username"</span>: <span class="string">"&lt;db id&gt;"</span>,</span><br><span class="line">        <span class="string">"password"</span>: <span class="string">"&lt;db pw&gt;"</span>,</span><br><span class="line">        <span class="string">"name"</span>: <span class="string">"&lt;db name&gt;"</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;&#125;</span><br></pre></td></tr></table></figure><h2 id="models-py-설정"><a href="#models-py-설정" class="headerlink" title="models.py 설정"></a>models.py 설정</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> djongo <span class="keyword">import</span> models</span><br><span class="line"></span><br><span class="line"><span class="comment"># Create your models here.</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Posts</span><span class="params">(models.Model)</span>:</span></span><br><span class="line">    id = models.ObjectIdField()</span><br><span class="line">    post_title = models.CharField(max_length=<span class="number">255</span>)</span><br><span class="line">    post_description = models.TextField()</span><br><span class="line">    comment = models.JSONField()</span><br><span class="line">    tags = models.JSONField()</span><br><span class="line">    user_details = models.JSONField()</span><br><span class="line">    objects= models.DjongoManager()</span><br></pre></td></tr></table></figure><h2 id="urls-py"><a href="#urls-py" class="headerlink" title="urls.py"></a>urls.py</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.urls <span class="keyword">import</span> path</span><br><span class="line"><span class="keyword">from</span> nosql <span class="keyword">import</span> views </span><br><span class="line"></span><br><span class="line">urlpatterns = [ </span><br><span class="line">    path(<span class="string">'add_post/'</span>, views.add_post),</span><br><span class="line">    path(<span class="string">'update_post/&lt;int:id&gt;'</span>, views.update_post),</span><br><span class="line">    path(<span class="string">'delete_post/&lt;int:id&gt;'</span>, views.delete_post),</span><br><span class="line">    path(<span class="string">'read_post/&lt;int:id&gt;'</span>, views.read_post),</span><br><span class="line">    path(<span class="string">'read_posts/'</span>, views.read_posts),</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="views-py-설정"><a href="#views-py-설정" class="headerlink" title="views.py 설정"></a>views.py 설정</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> django.views.decorators.csrf <span class="keyword">import</span> csrf_exempt</span><br><span class="line"><span class="keyword">from</span> bson <span class="keyword">import</span> ObjectId</span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse</span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_post</span><span class="params">(requests)</span>:</span></span><br><span class="line">    comment = requests.POST.get(<span class="string">"comment"</span>).split(<span class="string">","</span>)</span><br><span class="line">    tags = requests.POST.get(<span class="string">"tags"</span>).split(<span class="string">","</span>)</span><br><span class="line">    user_details = &#123;<span class="string">"first_name"</span> : requests.POST.get(<span class="string">"first_name"</span>), <span class="string">"last_name"</span> : requests.POST.get(<span class="string">"last_name"</span>)&#125;</span><br><span class="line">    post = Posts(</span><br><span class="line">        post_title=requests.POST.get(<span class="string">"post_title"</span>),</span><br><span class="line">        post_description=requests.POST.get(<span class="string">"post_description"</span>),</span><br><span class="line">        comment =comment,</span><br><span class="line">        tags = tags,</span><br><span class="line">        user_details = user_details</span><br><span class="line">    )</span><br><span class="line">    post.save()</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"Inserted_ID"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_post</span><span class="params">(requests,id)</span>:</span></span><br><span class="line">    post = Posts.objects.get(id=id)</span><br><span class="line">    post.user_details[<span class="string">"first_name"</span>] = requests.POST.get(<span class="string">"first_name"</span>)</span><br><span class="line">    post.save()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"Updated_UserDetail"</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_post</span><span class="params">(requests,id)</span>:</span></span><br><span class="line">    post = Posts.objects.get(id=id)</span><br><span class="line">    post.delete()</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(<span class="string">"Deleted_Post"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_post</span><span class="params">(requests,id)</span>:</span></span><br><span class="line">    post = Posts.objects.get(id=id)</span><br><span class="line">    stringval= <span class="string">"First Name: "</span> + post.user_details[<span class="string">'first_name'</span>] + <span class="string">"Last name: "</span> + post.user_details[<span class="string">'last_name'</span>] + <span class="string">" Post Title : "</span> + post.post_title</span><br><span class="line">    <span class="keyword">return</span> HttpResponse(stringval)</span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_posts</span><span class="params">(requests)</span>:</span></span><br><span class="line">    posts = Posts.objects.all()</span><br><span class="line">    stringval = <span class="string">''</span></span><br><span class="line">    <span class="keyword">for</span> post <span class="keyword">in</span> posts:</span><br><span class="line">        stringval += <span class="string">"First Name: "</span> + post.user_details[<span class="string">'first_name'</span>] + <span class="string">" Last name: "</span> + post.user_details[<span class="string">'last_name'</span>] + <span class="string">" Post Title : "</span> + post.post_title + <span class="string">"&lt;br&gt;"</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> HttpResponse(stringval)</span><br></pre></td></tr></table></figure><h2 id="Views-py-DRF-수정"><a href="#Views-py-DRF-수정" class="headerlink" title="Views.py(DRF 수정)"></a>Views.py(DRF 수정)</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> .models <span class="keyword">import</span> *</span><br><span class="line"><span class="keyword">from</span> .serializers <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.shortcuts <span class="keyword">import</span> render</span><br><span class="line"><span class="keyword">from</span> rest_framework.parsers <span class="keyword">import</span> JSONParser</span><br><span class="line"><span class="keyword">from</span> rest_framework.decorators <span class="keyword">import</span> api_view</span><br><span class="line"><span class="keyword">from</span> django.views.decorators.csrf <span class="keyword">import</span> csrf_exempt</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> bson <span class="keyword">import</span> ObjectId</span><br><span class="line"></span><br><span class="line"><span class="keyword">from</span> django.http <span class="keyword">import</span> HttpResponse, JsonResponse</span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="meta">@api_view(['POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_post</span><span class="params">(request)</span>:</span></span><br><span class="line">    data = JSONParser().parse(request)</span><br><span class="line">    comment = data[<span class="string">'comment'</span>].split(<span class="string">","</span>)</span><br><span class="line">    tags = data[<span class="string">'tags'</span>].split(<span class="string">","</span>)</span><br><span class="line">    user_details = &#123;<span class="string">"first_name"</span> : data[<span class="string">'user_details'</span>][<span class="string">'first_name'</span>], <span class="string">"last_name"</span> : data[<span class="string">'user_details'</span>][<span class="string">'last_name'</span>],&#125;</span><br><span class="line">    post = Posts(</span><br><span class="line">        post_title= data[<span class="string">'post_title'</span>],</span><br><span class="line">        post_description= data[<span class="string">'post_description'</span>],</span><br><span class="line">        comment =comment,</span><br><span class="line">        tags = tags,</span><br><span class="line">        user_details = user_details</span><br><span class="line">    )</span><br><span class="line">    post.save()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        serializer = PostSerializer(post)</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(serializer.data , status=<span class="number">201</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(serializer.errors, status=<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="meta">@api_view(['POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">update_post</span><span class="params">(request,id)</span>:</span></span><br><span class="line"></span><br><span class="line">    data = JSONParser().parse(request)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        post = Posts.objects.get(id=id)</span><br><span class="line"></span><br><span class="line">        post.comment = data[<span class="string">'comment'</span>].split(<span class="string">","</span>)</span><br><span class="line">        post.tags = data[<span class="string">'tags'</span>].split(<span class="string">","</span>)</span><br><span class="line">        post.user_details = &#123;<span class="string">"first_name"</span> : data[<span class="string">'user_details'</span>][<span class="string">'first_name'</span>], <span class="string">"last_name"</span> : data[<span class="string">'user_details'</span>][<span class="string">'last_name'</span>]&#125;</span><br><span class="line">        post.post_title= data[<span class="string">'post_title'</span>]</span><br><span class="line">        post.post_description= data[<span class="string">'post_description'</span>]</span><br><span class="line">        </span><br><span class="line">        post.save()</span><br><span class="line"></span><br><span class="line">        result = &#123;<span class="string">"received"</span>: <span class="literal">True</span>, <span class="string">"detail"</span> : <span class="string">"updated_"</span> + str(id)&#125;</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(result, status=<span class="number">201</span>)  </span><br><span class="line"></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        result= &#123;<span class="string">"error"</span> : &#123;<span class="string">"code"</span>: <span class="number">404</span>, <span class="string">"detail"</span> : <span class="string">"Post Not Found"</span>&#125;&#125;</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(result, status=<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="meta">@api_view(['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">delete_post</span><span class="params">(request,id)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        post = Posts.objects.get(id=id)</span><br><span class="line">        post.delete()</span><br><span class="line"></span><br><span class="line">        result = &#123;<span class="string">"received"</span>: <span class="literal">True</span>, <span class="string">"detail"</span> : <span class="string">"deleted_"</span> + str(id) &#125;</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(result, status=<span class="number">201</span>)   </span><br><span class="line">    <span class="keyword">except</span>: </span><br><span class="line">        result= &#123;<span class="string">"error"</span> : &#123;<span class="string">"code"</span>: <span class="number">404</span>, <span class="string">"detail"</span> : <span class="string">"Post Not Found"</span>&#125;&#125;</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(result, status=<span class="number">201</span>)   </span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="meta">@api_view(['GET'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_post</span><span class="params">(requests,id)</span>:</span></span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        post = Posts.objects.get(id=id)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        result= &#123;<span class="string">"error"</span> : &#123;<span class="string">"code"</span>: <span class="number">404</span>, <span class="string">"detail"</span> : <span class="string">"Post Not Found"</span>&#125;&#125;</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(result, status=<span class="number">201</span>)  </span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        serializer = PostSerializer(post)</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(serializer.data , status=<span class="number">201</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(serializer.errors, status=<span class="number">400</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@csrf_exempt</span></span><br><span class="line"><span class="meta">@api_view(['POST'])</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">read_posts</span><span class="params">(request)</span>:</span></span><br><span class="line">    posts = Posts.objects.all()</span><br><span class="line">    <span class="keyword">if</span> len(posts) == <span class="number">0</span>:</span><br><span class="line">        result= &#123;<span class="string">"error"</span> : &#123;<span class="string">"code"</span>: <span class="number">404</span>, <span class="string">"detail"</span> : <span class="string">"Post Not Found"</span>&#125;&#125;</span><br><span class="line">        <span class="keyword">return</span> JsonResponse(result, status=<span class="number">400</span>)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result = &#123;<span class="string">"answer"</span> : []&#125;</span><br><span class="line">        <span class="keyword">for</span> post <span class="keyword">in</span> posts:</span><br><span class="line">            serializer = PostSerializer(post)</span><br><span class="line">            result[<span class="string">'answer'</span>].append(serializer.data)</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> JsonResponse(result , status=<span class="number">201</span>)</span><br></pre></td></tr></table></figure><h2 id="Serailizers-py"><a href="#Serailizers-py" class="headerlink" title="Serailizers.py"></a>Serailizers.py</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> rest_framework <span class="keyword">import</span> serializers </span><br><span class="line"><span class="keyword">from</span> nosql.models <span class="keyword">import</span> *</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">PostSerializer</span><span class="params">(serializers.ModelSerializer)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="class"><span class="keyword">class</span> <span class="title">Meta</span>:</span></span><br><span class="line">        model = Posts</span><br><span class="line">        fields = (<span class="string">'id'</span>, <span class="string">'post_title'</span>, <span class="string">'post_description'</span>, <span class="string">'comment'</span>, <span class="string">'tags'</span>, <span class="string">'user_details'</span>)</span><br></pre></td></tr></table></figure><h2 id="결과"><a href="#결과" class="headerlink" title="결과"></a>결과</h2><p><code>insert</code><br><img alt="insert" data-src="/img/Django/MongoDB/insert.PNG" class="lozad"><br><code>read</code><br><img alt="read" data-src="/img/Django/MongoDB/insert.PNG" class="lozad"><br><code>update</code><br><img alt="update" data-src="/img/Django/MongoDB/update.PNG" class="lozad"><br><code>delete</code><br><img alt="delete" data-src="/img/Django/MongoDB/delete.PNG" class="lozad"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;NoSQL&quot;&gt;&lt;a href=&quot;#NoSQL&quot; class=&quot;headerlink&quot; title=&quot;NoSQL??&quot;&gt;&lt;/a&gt;NoSQL??&lt;/h1&gt;&lt;p&gt;Not Only SQL’이라고 해석하는 게 더 적절하다.&lt;br&gt;그리고 NoSQL은 “관계형 데이터
      
    
    </summary>
    
    
      <category term="Django" scheme="https://khs9628.github.io/categories/Django/"/>
    
    
      <category term="Django" scheme="https://khs9628.github.io/tags/Django/"/>
    
  </entry>
  
  <entry>
    <title>CodeTest 연습 (Sort)</title>
    <link href="https://khs9628.github.io/2020/10/19/201019-codeTest/"/>
    <id>https://khs9628.github.io/2020/10/19/201019-codeTest/</id>
    <published>2020-10-19T04:54:30.000Z</published>
    <updated>2020-10-20T05:37:44.021Z</updated>
    
    <content type="html"><![CDATA[<h1 id="정렬"><a href="#정렬" class="headerlink" title="정렬"></a>정렬</h1><h1 id="K번째수"><a href="#K번째수" class="headerlink" title="K번째수"></a>K번째수</h1><h2 id="1차-답안"><a href="#1차-답안" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(array, commands)</span>:</span></span><br><span class="line">    answer = []</span><br><span class="line">    tmp = []</span><br><span class="line">    <span class="keyword">for</span> command <span class="keyword">in</span> commands:</span><br><span class="line">        tmp = array[command[<span class="number">0</span>]<span class="number">-1</span>:command[<span class="number">1</span>]]</span><br><span class="line">        tmp.sort()</span><br><span class="line">        <span class="comment"># 정렬된 배열에서 answer 삽입</span></span><br><span class="line">        answer.append(tmp[command[<span class="number">2</span>]<span class="number">-1</span>])</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><h2 id="다른사람-답안-1"><a href="#다른사람-답안-1" class="headerlink" title="다른사람 답안 1"></a>다른사람 답안 1</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(array, commands)</span>:</span></span><br><span class="line">    answer = []</span><br><span class="line">    <span class="keyword">for</span> command <span class="keyword">in</span> commands:</span><br><span class="line">        i,j,k = command</span><br><span class="line">        answer.append(list(sorted(array[i<span class="number">-1</span>:j]))[k<span class="number">-1</span>])</span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p><code>i,j,k = command</code><br>원소를 3가지 변수로 저장한다는 아이디어 생각하기</p><h2 id="다른사람-답안-2"><a href="#다른사람-답안-2" class="headerlink" title="다른사람 답안 2"></a>다른사람 답안 2</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(array, commands)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> list(map(<span class="keyword">lambda</span> x:sorted(array[x[<span class="number">0</span>]<span class="number">-1</span>:x[<span class="number">1</span>]])[x[<span class="number">2</span>]<span class="number">-1</span>], commands))</span><br></pre></td></tr></table></figure><p><code>map(적용시킬함수, 적용할 요소)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add_1</span><span class="params">(n)</span>:</span></span><br><span class="line">      <span class="keyword">return</span> n + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">target = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">result = map(add_1, target)</span><br><span class="line">print(result)</span><br><span class="line"><span class="comment"># [2,3,4,5,6]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># use lamda</span></span><br><span class="line">result = map(<span class="keyword">lambda</span> x : x+<span class="number">1</span>, target)</span><br><span class="line">print(result)</span><br><span class="line"><span class="comment"># [2,3,4,5,6]</span></span><br></pre></td></tr></table></figure><p><code>filter(적용시킬 함수, 적용할 요소들)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">target = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_even</span><span class="params">(n)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span> <span class="keyword">if</span> n % <span class="number">2</span> == <span class="number">0</span> <span class="keyword">else</span> <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">result = filter(is_even, target)</span><br><span class="line">print(list(result))  </span><br><span class="line"><span class="comment"># [2, 4, 6, 8, 10]</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># use lamda</span></span><br><span class="line">result = filter(<span class="keyword">lambda</span> x : x%<span class="number">2</span>==<span class="number">0</span>, target)</span><br><span class="line">print(list(result))</span><br><span class="line"><span class="comment"># [2, 4, 6, 8, 10]</span></span><br></pre></td></tr></table></figure><p>람다 공부는 꼭해야할 것 같다.</p><h1 id="가장-큰-수"><a href="#가장-큰-수" class="headerlink" title="가장 큰 수"></a>가장 큰 수</h1><h2 id="1차-답안-1"><a href="#1차-답안-1" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(numbers)</span>:</span></span><br><span class="line">    answer = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">    number_str = list(map(<span class="keyword">lambda</span> x : str(x), numbers))</span><br><span class="line">    number_str.sort(reverse = <span class="literal">True</span>)</span><br><span class="line">    answer = answer.join(number_str)</span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p>6 / 60을 비교했을 때 60이 상위에 리스트되어 최대값이 출력되지 않습니다.</p><h2 id="2차답안"><a href="#2차답안" class="headerlink" title="2차답안"></a>2차답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(numbers)</span>:</span></span><br><span class="line">    answer = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">    numbers = list(map(str, numbers))</span><br><span class="line">    numbers.sort(key = <span class="keyword">lambda</span> x: x*<span class="number">3</span>, reverse = <span class="literal">True</span>)</span><br><span class="line">    answer = answer.join(numbers)</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p><code>numbers.sort(key = lambda x: x*3, reverse = True)</code></p><p>핵심적인 것은 list는 str이기 때문에 1000이하의 수를 비교하기 위해서는 x3을 해 해당 문자열을 비교하면 된다는 점이 였다.</p><p>lambda를 이용해 x*3을 sort()의 키로 잡아 배열을 하게 된다며 문제가 해결 된다.</p><p><del>테스트 11 통과 실패</del></p><h2 id="3차-답안"><a href="#3차-답안" class="headerlink" title="3차 답안"></a>3차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(numbers)</span>:</span></span><br><span class="line">    answer = <span class="string">''</span></span><br><span class="line"></span><br><span class="line">    numbers = list(map(str, numbers))</span><br><span class="line">    numbers.sort(key = <span class="keyword">lambda</span> x: x*<span class="number">3</span>, reverse = <span class="literal">True</span>)</span><br><span class="line">    answer = str(int(answer.join(numbers)))</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p><code>answer = str(int(answer.join(numbers)))</code></p><p>테스트 11 통과 실패는 [0,0,0,0,0,0] 이렇게 있을 때 “0” 하나만 나와야 하는 케이스였습니다.</p><p>그렇기 때문에 join할때 int 타입으로 변환 후 join을 해줘야 해당 케이스에 통과할 수 있습니다.</p><h2 id="다른사람-풀이"><a href="#다른사람-풀이" class="headerlink" title="다른사람 풀이"></a>다른사람 풀이</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">import</span> functools</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">comparator</span><span class="params">(a,b)</span>:</span></span><br><span class="line">    t1 = a+b</span><br><span class="line">    t2 = b+a</span><br><span class="line">    <span class="keyword">return</span> (int(t1) &gt; int(t2)) - (int(t1) &lt; int(t2)) <span class="comment">#  t1이 크다면 1  // t2가 크다면 -1  //  같으면 0</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(numbers)</span>:</span></span><br><span class="line">    numbers = [str(x) <span class="keyword">for</span> x <span class="keyword">in</span> numbers]</span><br><span class="line">    numbers = sorted(numbers, key=functools.cmp_to_key(comparator),reverse=<span class="literal">True</span>)</span><br><span class="line">    answer = str(int(<span class="string">''</span>.join(numbers)))</span><br><span class="line">    <span class="keyword">return</span> answer</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># use lambda</span></span><br><span class="line">    <span class="comment"># numbers = sorted(numbers, key = cmp_to_key(lambda x,y:int(x+y)-int(y+x)), reverse = True)</span></span><br></pre></td></tr></table></figure><h4 id="sorted-의-시간복잡도는-n-logn-이다"><a href="#sorted-의-시간복잡도는-n-logn-이다" class="headerlink" title="sorted()의 시간복잡도는 n * logn 이다"></a>sorted()의 시간복잡도는 n * logn 이다</h4><p><code>functools.cmp_to_key()</code></p><p>0 , 1 ,-1 3가지로 비교하는 비교문 0일경우 유지 1일경우 왼쪽요소가 앞으로 -1일경우 오른쪽요소가 앞으로 가도록 지정한다.</p><p>ex) 330, 303 비교시<br>(330&gt; 303 #1) -(330&lt;303 #0) -&gt; 값은 1이므로 [3,30]으로 배열된다.</p><h1 id="H-Index"><a href="#H-Index" class="headerlink" title="H-Index"></a>H-Index</h1><h2 id="1차-답안-2"><a href="#1차-답안-2" class="headerlink" title="1차 답안"></a>1차 답안</h2><p>문제가 너무어려워 이해하는데 시간이 오래걸렸다<br>중요한 점은 <code>h회 이상 인용된 논문의 개수가 h개이상</code> 이점을 코드로 구현하는 점이였다.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(citations)</span>:</span></span><br><span class="line"></span><br><span class="line">    citations.sort(reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate(citations,<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> i &lt;= j:</span><br><span class="line">            max = i</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">if</span> max &gt; len(citations):</span><br><span class="line">        <span class="keyword">return</span> len(citations)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> max</span><br></pre></td></tr></table></figure><ol><li>먼저 citations 배열을 역순으로 한 뒤 enumerate를 통해 해당 원소보다 몇개 이상인 논문의 수를 구한다. (최대 H-Index를 구해야 하기 때문에)</li><li>citations = [22,24]인 경우 해당 H-index의 값은 배열의 개수인 2가 되므로 해당 케이스를 수정한다.</li><li>Case16번 통과실패 -&gt; 모든 원소가 0 인경우</li></ol><h2 id="2차-답안"><a href="#2차-답안" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(citations)</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="comment"># 모든 원소가 0일 경우</span></span><br><span class="line">    <span class="keyword">if</span> sum(citations) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    citations.sort(reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i,j <span class="keyword">in</span> enumerate(citations,<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> i &lt;= j:</span><br><span class="line">            max = i</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> max &gt; len(citations):</span><br><span class="line">        <span class="keyword">return</span> len(citations)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> max</span><br></pre></td></tr></table></figure><h2 id="다른사람풀이"><a href="#다른사람풀이" class="headerlink" title="다른사람풀이"></a>다른사람풀이</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(citations)</span>:</span></span><br><span class="line">    citations.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">    answer = max(map(min, enumerate(citations, start=<span class="number">1</span>)))</span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p><code>enumerate</code> 된 배열을 통해 두 요소중 작은 것을 가져오는 코드 풀이가 인상적이 였다.<br>내가 짠 코드와 비슷한 로직으로 구현했지만 훨씬 간편한 코드인 것 같다.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;정렬&quot;&gt;&lt;a href=&quot;#정렬&quot; class=&quot;headerlink&quot; title=&quot;정렬&quot;&gt;&lt;/a&gt;정렬&lt;/h1&gt;&lt;h1 id=&quot;K번째수&quot;&gt;&lt;a href=&quot;#K번째수&quot; class=&quot;headerlink&quot; title=&quot;K번째수&quot;&gt;&lt;/a&gt;K번째수&lt;/h
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>CodeTest 연습 (Heap)</title>
    <link href="https://khs9628.github.io/2020/10/16/201016-codeTest/"/>
    <id>https://khs9628.github.io/2020/10/16/201016-codeTest/</id>
    <published>2020-10-16T05:50:26.000Z</published>
    <updated>2020-10-19T04:54:10.828Z</updated>
    
    <content type="html"><![CDATA[<h1 id="힙-HEAP"><a href="#힙-HEAP" class="headerlink" title="힙(HEAP)"></a>힙(HEAP)</h1><table><thead><tr><th align="center">자료구조</th><th align="center">삭제되는 요소</th></tr></thead><tbody><tr><td align="center">스택(Stack)</td><td align="center">가장 최근에 들어온 데이터</td></tr><tr><td align="center">큐(Quene)</td><td align="center">가정 먼저들어온 데이터</td></tr><tr><td align="center">우선순위 큐(Priority Quene)</td><td align="center">가장 우선순위가 높은 데이터</td></tr></tbody></table><p><code>자료구조 ‘힙(heap)’이란?</code></p><ul><li><p><code>완전 이진 트리</code>의 일종으로 우선순위 큐를 위하여 만들어진 자료구조이다.</p></li><li><p>여러 개의 값들 중에서 <code>최댓값</code>이나 <code>최솟값</code>을 빠르게 찾아내도록 만들어진 자료구조이다.</p></li><li><p>힙은 일종의 반정렬 상태(느슨한 정렬 상태) 를 유지한다.</p><ul><li>큰 값이 상위 레벨에 있고 작은 값이 하위 레벨에 있다</li><li>간단히 말하면 부모 노드의 키 값이 자식 노드의 키 값보다 항상 큰(작은) 이진 트리를 말한다.</li></ul></li><li><p>힙 트리에서는 중복된 값을 허용한다. (이진 탐색 트리에서는 중복된 값을 허용하지 않는다.)</p></li><li><p>ex) <img alt="img" data-src="/img/codingtest/heap.PNG" class="lozad"></p><h1 id="더-맵게"><a href="#더-맵게" class="headerlink" title="더 맵게"></a>더 맵게</h1></li></ul><h2 id="1차-답안"><a href="#1차-답안" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(scoville, k)</span>:</span></span><br><span class="line">    total = <span class="number">0</span> </span><br><span class="line">    cnt = <span class="number">0</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(k &gt; total):</span><br><span class="line">        cnt = cnt + <span class="number">1</span></span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> len(scoville) == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        </span><br><span class="line">        scoville.sort()</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">if</span> total &gt;= k:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            total = scoville.pop(<span class="number">0</span>) + (scoville.pop(<span class="number">0</span>) * <span class="number">2</span>)</span><br><span class="line">            scoville.append(total)</span><br><span class="line">    <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><p>결과 오류</p><h2 id="2차-답안"><a href="#2차-답안" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(scoville, k)</span>:</span></span><br><span class="line">    cnt = <span class="number">0</span> </span><br><span class="line">    <span class="keyword">while</span> min(scoville) &lt; k:</span><br><span class="line">        scoville.sort()</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            scoville.append(scoville.pop(<span class="number">0</span>) + (scoville.pop(<span class="number">0</span>) * <span class="number">2</span>))</span><br><span class="line">        <span class="keyword">except</span> IndexError:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><p>효율성 테스트 통과 x</p><p><code>min(iterable1, iterable2, ...)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] </span><br><span class="line">print(min(a)) </span><br><span class="line"><span class="comment"># 반환 : 1 </span></span><br><span class="line">b = <span class="string">'BlockDMask'</span> </span><br><span class="line">print(min(b)) </span><br><span class="line"><span class="comment"># 반환 : 'B'</span></span><br><span class="line">c = <span class="number">1</span> </span><br><span class="line">print(min(c)) </span><br><span class="line"><span class="comment"># error : 'int' object is not iterable </span></span><br><span class="line">d = (<span class="number">6</span>, <span class="number">5</span>, <span class="number">4</span>, <span class="number">2</span>) </span><br><span class="line">print(min(d)) </span><br><span class="line"><span class="comment"># 반환 : 2 </span></span><br><span class="line">e = [<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>] </span><br><span class="line">print(min(e)) </span><br><span class="line"><span class="comment"># error : str 타입과 int 타입은 비교할 수 없기 때문</span></span><br></pre></td></tr></table></figure><h2 id="3차답안"><a href="#3차답안" class="headerlink" title="3차답안"></a>3차답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(scoville, k)</span>:</span></span><br><span class="line">    heap = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> scoville:</span><br><span class="line">        heapq.heappush(heap,i)</span><br><span class="line">        </span><br><span class="line">    cnt = <span class="number">0</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> heap[<span class="number">0</span>] &lt; k:</span><br><span class="line">        <span class="keyword">try</span>:</span><br><span class="line">            heapq.heappush(heap, heapq.heappop(heap) + (heapq.heappop(heap) * <span class="number">2</span>))</span><br><span class="line">        <span class="keyword">except</span> IndexError:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">-1</span></span><br><span class="line">        cnt += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><p><code>heapq</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">heapq.heappush(heap, item)</span><br><span class="line">힙 불변성을 유지하면서, item 값을 heap으로 푸시합니다.</span><br><span class="line"></span><br><span class="line">heapq.heappop(heap)</span><br><span class="line">힙 불변성을 유지하면서, heap에서 가장 작은 항목을 팝하고 반환합니다. 힙이 비어 있으면, IndexError가 발생합니다. 팝 하지 않고 가장 작은 항목에 액세스하려면, heap[<span class="number">0</span>]을 사용하십시오.</span><br></pre></td></tr></table></figure><h1 id="디스크-컨트롤러"><a href="#디스크-컨트롤러" class="headerlink" title="디스크 컨트롤러"></a>디스크 컨트롤러</h1><h2 id="1차답안"><a href="#1차답안" class="headerlink" title="1차답안"></a>1차답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(jobs)</span>:</span></span><br><span class="line">    answer = <span class="number">0</span></span><br><span class="line">    start = <span class="number">0</span></span><br><span class="line">    length = len(jobs)</span><br><span class="line"></span><br><span class="line">    jobs = sorted(jobs, key=<span class="keyword">lambda</span> x: x[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> len(jobs) != <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> range(len(jobs)):</span><br><span class="line">            <span class="keyword">if</span> jobs[i][<span class="number">0</span>] &lt;= start:</span><br><span class="line">                start += jobs[i][<span class="number">1</span>]</span><br><span class="line">                answer += start - jobs[i][<span class="number">0</span>]</span><br><span class="line">                jobs.pop(i)</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> i == len(jobs) - <span class="number">1</span>:</span><br><span class="line">                start += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> answer//length</span><br></pre></td></tr></table></figure><p><code>list.sort() vs sorted()</code></p><table><thead><tr><th align="center">list.sort()</th><th align="center">sorted()</th></tr></thead><tbody><tr><td align="center">리스트 내부에서 정렬</td><td align="center">리스트 외부에서 정렬</td></tr><tr><td align="center">None 리턴</td><td align="center">정렬된 값 리턴</td></tr><tr><td align="center">List</td><td align="center">iterable(dictionary/list/tuple)</td></tr></tbody></table><h2 id="2차답안"><a href="#2차답안" class="headerlink" title="2차답안"></a>2차답안</h2><p>heapq로 다시풀기</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(jobs)</span>:</span></span><br><span class="line">    n = len(jobs)</span><br><span class="line">    time, end , quene = <span class="number">0</span>, <span class="number">-1</span> , []</span><br><span class="line">    count = <span class="number">0</span></span><br><span class="line">    answer = <span class="number">0</span> </span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> count &lt; n:</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> job <span class="keyword">in</span> jobs:</span><br><span class="line">            <span class="keyword">if</span> end &lt; job[<span class="number">0</span>] &lt;= time:</span><br><span class="line">                answer += (time - job[<span class="number">0</span>])</span><br><span class="line">                heapq.heappush(quene, job[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> len(quene) &gt; <span class="number">0</span>:</span><br><span class="line">            answer += len(quene) * quene[<span class="number">0</span>]</span><br><span class="line">            end = time</span><br><span class="line">            time += heapq.heappop(quene)</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line">            </span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            time += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> answer//n</span><br></pre></td></tr></table></figure><h1 id="이중우선순위큐"><a href="#이중우선순위큐" class="headerlink" title="이중우선순위큐"></a>이중우선순위큐</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> heapq</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(operations)</span>:</span></span><br><span class="line">    answer = []</span><br><span class="line">    <span class="keyword">for</span> operation <span class="keyword">in</span> operations:</span><br><span class="line">        oper = operation.split(<span class="string">" "</span>)</span><br><span class="line">        <span class="keyword">if</span> oper[<span class="number">0</span>] == <span class="string">"D"</span>:</span><br><span class="line">            <span class="keyword">if</span> len(answer) == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> oper[<span class="number">1</span>] == <span class="string">"1"</span>:</span><br><span class="line">                    <span class="comment"># heapq._heappop_max(answer)</span></span><br><span class="line">                    answer.remove(max(answer))</span><br><span class="line">                <span class="keyword">elif</span> oper[<span class="number">1</span>] == <span class="string">"-1"</span>:</span><br><span class="line">                    heapq.heappop(answer)</span><br><span class="line">        <span class="keyword">elif</span> oper[<span class="number">0</span>] == <span class="string">"I"</span>:</span><br><span class="line">            heapq.heappush(answer, int(oper[<span class="number">1</span>]))</span><br><span class="line">            </span><br><span class="line">    <span class="keyword">if</span> len(answer) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> [<span class="number">0</span>,<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> [max(answer), min(answer)]</span><br></pre></td></tr></table></figure><p><code>_heappop_max</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;힙-HEAP&quot;&gt;&lt;a href=&quot;#힙-HEAP&quot; class=&quot;headerlink&quot; title=&quot;힙(HEAP)&quot;&gt;&lt;/a&gt;힙(HEAP)&lt;/h1&gt;&lt;table&gt;
&lt;thead&gt;
&lt;tr&gt;
&lt;th align=&quot;center&quot;&gt;자료구조&lt;/th&gt;
&lt;th a
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>CodeTest 연습 (스택/큐)</title>
    <link href="https://khs9628.github.io/2020/10/13/201013-codeTest/"/>
    <id>https://khs9628.github.io/2020/10/13/201013-codeTest/</id>
    <published>2020-10-13T05:13:38.000Z</published>
    <updated>2020-10-16T06:39:04.762Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Stack-amp-Quene"><a href="#Stack-amp-Quene" class="headerlink" title="Stack &amp; Quene"></a>Stack &amp; Quene</h1><h1 id="주식가격"><a href="#주식가격" class="headerlink" title="주식가격"></a>주식가격</h1><h2 id="1차-답안"><a href="#1차-답안" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(prices)</span>:</span></span><br><span class="line">    answer = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(prices)):</span><br><span class="line">        cnt = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, len(prices)):</span><br><span class="line">            <span class="keyword">if</span> prices[i] &lt;= prices[j]:</span><br><span class="line">                cnt= cnt+<span class="number">1</span></span><br><span class="line">        answer.append(cnt)</span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p>비 효율성 문제로 통과 x</p><h2 id="2차-답안"><a href="#2차-답안" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(prices)</span>:</span></span><br><span class="line">    answer = [<span class="number">0</span>] * len(prices)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(prices)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, len(prices)):</span><br><span class="line">            answer[i] += <span class="number">1</span></span><br><span class="line">            <span class="keyword">if</span> prices[i] &gt; prices[j]:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><h1 id="기능개발"><a href="#기능개발" class="headerlink" title="기능개발"></a>기능개발</h1><h2 id="1차-답안-1"><a href="#1차-답안-1" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(progresses, speeds)</span>:</span></span><br><span class="line">    answer = []</span><br><span class="line">    days = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(progresses)):</span><br><span class="line">        days.append((<span class="number">100</span> - progresses[i]) / speeds[i])</span><br><span class="line">    <span class="keyword">for</span> j,k <span class="keyword">in</span> enumerate(days):</span><br><span class="line">        <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">            max = k</span><br><span class="line">            answer.append(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> k &lt;= max:</span><br><span class="line">            answer[<span class="number">-1</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            max = k</span><br><span class="line">            answer.append(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p>케이스 2통과 불가..?</p><h2 id="2차답안"><a href="#2차답안" class="headerlink" title="2차답안"></a>2차답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(progresses, speeds)</span>:</span></span><br><span class="line">    answer = []</span><br><span class="line">    days = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> p,s <span class="keyword">in</span> zip(progresses,speeds):</span><br><span class="line">        <span class="keyword">if</span> (<span class="number">100</span>-p) % s &gt; <span class="number">0</span>:</span><br><span class="line">            days.append((<span class="number">100</span>-p) // s + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            days.append((<span class="number">100</span>-p) // s)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> j,k <span class="keyword">in</span> enumerate(days):</span><br><span class="line">        <span class="keyword">if</span> j == <span class="number">0</span>:</span><br><span class="line">            max = k</span><br><span class="line">            answer.append(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line">        <span class="keyword">if</span> k &lt;= max:</span><br><span class="line">            answer[<span class="number">-1</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            max = k</span><br><span class="line">            answer.append(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p>소수점 관련 요소 수정 후 통과</p><h1 id="다리를-지나는-트럭"><a href="#다리를-지나는-트럭" class="headerlink" title="다리를 지나는 트럭"></a>다리를 지나는 트럭</h1><h2 id="1차-답안-2"><a href="#1차-답안-2" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(bridge_length, weight, truck_weights)</span>:</span>  </span><br><span class="line">    truck_in = []</span><br><span class="line">    truck_out = []</span><br><span class="line">    cnt = <span class="number">0</span></span><br><span class="line">    trucks_weight = <span class="number">0</span></span><br><span class="line">    n = len(truck_weights)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span>(len(truck_out) &lt; n):</span><br><span class="line">        idx = <span class="number">0</span></span><br><span class="line">        cnt = cnt + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> len(truck_in) == <span class="number">0</span>:</span><br><span class="line">            truck_in.append([<span class="number">1</span>, truck_weights[<span class="number">0</span>]])</span><br><span class="line">            trucks_weight += truck_weights.pop(<span class="number">0</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> len(truck_weights) == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">for</span> i <span class="keyword">in</span> range(len(truck_in)):</span><br><span class="line">                    truck_in[i][<span class="number">0</span>] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> truck_in[i][<span class="number">0</span>] &gt; bridge_length:</span><br><span class="line">                        idx = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> idx == <span class="number">1</span> <span class="keyword">and</span> i == (len(truck_in) <span class="number">-1</span>):</span><br><span class="line">                        truck_out.append(truck_in.pop(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">for</span> j <span class="keyword">in</span> range(len(truck_in)):</span><br><span class="line">                    truck_in[j][<span class="number">0</span>] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> truck_in[j][<span class="number">0</span>] &gt; bridge_length:</span><br><span class="line">                        trucks_weight -= truck_in[j][<span class="number">1</span>]</span><br><span class="line">                        idx = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> idx == <span class="number">1</span> <span class="keyword">and</span> j == (len(truck_in) <span class="number">-1</span>):</span><br><span class="line">                        truck_out.append(truck_in.pop(<span class="number">0</span>))</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">if</span> len(truck_weights) == <span class="number">0</span>:</span><br><span class="line">                        <span class="keyword">pass</span></span><br><span class="line"></span><br><span class="line">                    <span class="keyword">elif</span> (trucks_weight + truck_weights[<span class="number">0</span>]) &lt;= weight:</span><br><span class="line">                        truck_in.append([<span class="number">1</span>,truck_weights[<span class="number">0</span>]])</span><br><span class="line">                        trucks_weight += truck_weights.pop(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> cnt</span><br></pre></td></tr></table></figure><p>비효율 적인 코드여서 통과 불가</p><h2 id="2차-답안-1"><a href="#2차-답안-1" class="headerlink" title="2차 답안"></a>2차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(bridge_length, weight, truck_weights)</span>:</span></span><br><span class="line">    bridge = [<span class="number">0</span>] * bridge_length</span><br><span class="line">    sec = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> bridge :</span><br><span class="line">        bridge.pop(<span class="number">0</span>)</span><br><span class="line">        sec += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> truck_weights :</span><br><span class="line">            <span class="keyword">if</span> (sum(bridge) + truck_weights[<span class="number">0</span>]) &lt;= weight :</span><br><span class="line">                bridge.append(truck_weights.pop(<span class="number">0</span>))</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                bridge.append(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">return</span> sec</span><br></pre></td></tr></table></figure><p><code>sum(List)</code><br>List 요소의 합을 구하는 함수</p><h1 id="프린터"><a href="#프린터" class="headerlink" title="프린터"></a>프린터</h1><h1 id="1차-답안-3"><a href="#1차-답안-3" class="headerlink" title="1차 답안"></a>1차 답안</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(priorities, location)</span>:</span></span><br><span class="line"></span><br><span class="line">    pi_list = [(p, i) <span class="keyword">for</span> i, p <span class="keyword">in</span> enumerate(priorities)]</span><br><span class="line">    waiting_q = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> pi_list:</span><br><span class="line">        pi = pi_list.pop(<span class="number">0</span>)</span><br><span class="line">        priority = pi[<span class="number">0</span>]</span><br><span class="line">        p_list = [priority <span class="keyword">for</span> priority, idx <span class="keyword">in</span> pi_list]</span><br><span class="line">        <span class="keyword">if</span> p_list:</span><br><span class="line">            max_p = max(p_list)</span><br><span class="line">        <span class="keyword">if</span> priority &gt;= max_p:</span><br><span class="line">            waiting_q.append(pi)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            pi_list.append(pi)</span><br><span class="line">    <span class="keyword">for</span> i, item <span class="keyword">in</span> enumerate(waiting_q):</span><br><span class="line">        <span class="keyword">if</span> item[<span class="number">1</span>] == location:</span><br><span class="line">            <span class="keyword">return</span> i + <span class="number">1</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Stack-amp-Quene&quot;&gt;&lt;a href=&quot;#Stack-amp-Quene&quot; class=&quot;headerlink&quot; title=&quot;Stack &amp;amp; Quene&quot;&gt;&lt;/a&gt;Stack &amp;amp; Quene&lt;/h1&gt;&lt;h1 id=&quot;주식가격&quot;&gt;&lt;a 
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>CodeTest 연습 (Hash)</title>
    <link href="https://khs9628.github.io/2020/10/12/201012-codeTest/"/>
    <id>https://khs9628.github.io/2020/10/12/201012-codeTest/</id>
    <published>2020-10-12T07:36:54.000Z</published>
    <updated>2020-10-16T06:43:24.767Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Hash"><a href="#Hash" class="headerlink" title="Hash"></a>Hash</h1><ul><li>데이터를 다루는 기법 중에 하나</li><li>검색과 저장이 아주 빠르게 진행 </li><li>데이터를 검색할 때 사용할 key와 실제 데이터의 값이 (value가)  한 쌍으로 존재하고, key값이 배열의 인덱스로 변환</li><li>검색과 저장의 평균적인 시간 복잡도가 O(1)에 수렴 </li></ul><h1 id="완주하지-못한-선수"><a href="#완주하지-못한-선수" class="headerlink" title="완주하지 못한 선수"></a>완주하지 못한 선수</h1><h2 id="1차-답안"><a href="#1차-답안" class="headerlink" title="1차 답안"></a>1차 답안</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(participant, completion)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> member <span class="keyword">in</span> participant:</span><br><span class="line">        <span class="keyword">if</span> member <span class="keyword">in</span> completion:</span><br><span class="line">            completion.remove(member)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> member</span><br></pre></td></tr></table></figure><p>비효율적인 코드여서 효율성 통과 X</p><h2 id="2차-답안"><a href="#2차-답안" class="headerlink" title="2차 답안"></a>2차 답안</h2><p><code>sort()</code> : 정렬, 기본값은 오름차순 정렬, reverse옵션 True는 내림차순 정렬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>]</span><br><span class="line">a.sort()</span><br><span class="line">a</span><br><span class="line"><span class="comment"># [1, 5, 6, 7, 10]</span></span><br><span class="line">a.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># [10, 7, 6, 5, 1]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(participant, completion)</span>:</span> </span><br><span class="line">    participant.sort() </span><br><span class="line">    completion.sort() </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(completion)): </span><br><span class="line">        <span class="keyword">if</span> participant[i] != completion[i]: </span><br><span class="line">            <span class="keyword">return</span> participant[i] </span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> participant[i+<span class="number">1</span>]</span><br></pre></td></tr></table></figure><h1 id="전화번호-부"><a href="#전화번호-부" class="headerlink" title="전화번호 부"></a>전화번호 부</h1><p><code>find(찾을문자, 찾기시작할위치)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(phone_book)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(phone_book)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, len(phone_book)):</span><br><span class="line">            <span class="keyword">if</span> phone_book[i].find(phone_book[j]) == <span class="number">0</span> <span class="keyword">or</span> phone_book[j].find(phone_book[i]) == <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><p><code>startswith(시작하는문자, 시작지점)</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(phone_book)</span>:</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(phone_book)):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> range(i+<span class="number">1</span>, len(phone_book)):</span><br><span class="line">            <span class="keyword">if</span> phone_book[i].startswith(phone_book[j]) == <span class="literal">True</span> <span class="keyword">or</span> phone_book[j].startswith(phone_book[i]) == <span class="literal">True</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><p><code>다른사람 풀이</code></p><p><code>sort()</code> : 정렬, 기본값은 오름차순 정렬, reverse옵션 True는 내림차순 정렬</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">10</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">6</span>]</span><br><span class="line">a.sort()</span><br><span class="line">a</span><br><span class="line"><span class="comment"># [1, 5, 6, 7, 10]</span></span><br><span class="line">a.sort(reverse=<span class="literal">True</span>)</span><br><span class="line">a</span><br><span class="line"><span class="comment"># [10, 7, 6, 5, 1]</span></span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(phone_book)</span>:</span></span><br><span class="line">    phone_book.sort() </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(phone_book)<span class="number">-1</span>): </span><br><span class="line">        <span class="keyword">if</span> phone_book[i] <span class="keyword">in</span> phone_book[i+<span class="number">1</span>]: </span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span> </span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure><h1 id="위장"><a href="#위장" class="headerlink" title="위장"></a>위장</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(clothes)</span>:</span></span><br><span class="line">    closet = &#123;&#125;</span><br><span class="line">    result = <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> clothes:</span><br><span class="line">        key = element[<span class="number">1</span>]</span><br><span class="line">        value = element[<span class="number">0</span>]</span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">in</span> closet:</span><br><span class="line">            closet[key].append(value)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            closet[key] = [value]</span><br><span class="line">            </span><br><span class="line">     <span class="comment"># &#123;'headgear': ['yellow_hat', 'green_turban'], 'eyewear': ['blue_sunglasses']&#125;</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> closet.keys():</span><br><span class="line">        result = result * (len(closet[key]) + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> result - <span class="number">1</span></span><br></pre></td></tr></table></figure><p><code>다른사람 풀이</code></p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(clothes)</span>:</span></span><br><span class="line">    <span class="keyword">from</span> collections <span class="keyword">import</span> Counter</span><br><span class="line">    <span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">    cnt = Counter([kind <span class="keyword">for</span> name, kind <span class="keyword">in</span> clothes])</span><br><span class="line">    answer = reduce(<span class="keyword">lambda</span> x, y: x*(y+<span class="number">1</span>), cnt.values(), <span class="number">1</span>) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> answer</span><br></pre></td></tr></table></figure><p><code>Counter</code><br>컨테이너에 동일한 값의 자료가 몇개인지를 파악하는데 사용하는 객체이다.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> collections</span><br><span class="line">lst = [<span class="string">'aa'</span>, <span class="string">'cc'</span>, <span class="string">'dd'</span>, <span class="string">'aa'</span>, <span class="string">'bb'</span>, <span class="string">'ee'</span>]</span><br><span class="line">print(collections.Counter(lst))</span><br><span class="line"></span><br><span class="line"><span class="comment"># Counter(&#123;'aa': 2, 'cc': 1, 'dd': 1, 'bb': 1, 'ee': 1&#125;)</span></span><br></pre></td></tr></table></figure><p><code>reduce</code><br>reduce(집계 함수, 순회 가능한 데이터[, 초기값])</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">reduce(lambda x, y: x+y, [1, 2, 3, 4, 5]) </span><br><span class="line"># 15</span><br><span class="line"></span><br><span class="line">reduce(lambda x, y: x+y, [1, 2, 3, 4, 5], 10) </span><br><span class="line"># 25</span><br><span class="line"></span><br><span class="line">reduce(lambda x, y: x*y, range(1, 6)) </span><br><span class="line"># 120</span><br></pre></td></tr></table></figure><h1 id="베스트-앨범"><a href="#베스트-앨범" class="headerlink" title="베스트 앨범"></a>베스트 앨범</h1><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(genres, plays)</span>:</span></span><br><span class="line"></span><br><span class="line">    list_dict = &#123;&#125;</span><br><span class="line">    music = &#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> range(len(genres)):</span><br><span class="line">        <span class="keyword">if</span> genres[i] <span class="keyword">in</span> music.keys():</span><br><span class="line">            music[genres[i]] += plays[i]</span><br><span class="line">            list_data = [i, plays[i]]</span><br><span class="line">            list_dict[genres[i]].append(list_data)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            music[genres[i]] = plays[i]</span><br><span class="line">            list_data = [[i, plays[i]]]</span><br><span class="line">            list_dict[genres[i]] = list_data</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    res = sorted(music.items(), key=(<span class="keyword">lambda</span> x: x[<span class="number">1</span>]), reverse = <span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">    first_genres = []</span><br><span class="line">    second_genres = []</span><br><span class="line"></span><br><span class="line">    max = <span class="number">0</span></span><br><span class="line">    second_value = <span class="number">0</span></span><br><span class="line">    first = <span class="number">0</span></span><br><span class="line">    second = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> list_dict[res[<span class="number">0</span>][<span class="number">0</span>]]:</span><br><span class="line">        print(idx)</span><br><span class="line">        <span class="keyword">if</span> max &lt; idx[<span class="number">1</span>]:</span><br><span class="line">            <span class="keyword">if</span> max !=<span class="number">0</span>:</span><br><span class="line">                second_value = max</span><br><span class="line">                second = first</span><br><span class="line">            first = idx[<span class="number">0</span>]</span><br><span class="line">            max = idx[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">elif</span> second_value &lt; idx[<span class="number">1</span>]:</span><br><span class="line">            second = idx[<span class="number">0</span>]</span><br><span class="line">            second_value = idx[<span class="number">1</span>]</span><br><span class="line">        first_genres = [first, second]</span><br><span class="line"></span><br><span class="line">    max = <span class="number">0</span></span><br><span class="line">    second_value = <span class="number">0</span></span><br><span class="line">    first = <span class="number">0</span></span><br><span class="line">    second = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> idx <span class="keyword">in</span> list_dict[res[<span class="number">1</span>][<span class="number">0</span>]]:</span><br><span class="line">        <span class="keyword">if</span> max &lt; idx[<span class="number">1</span>]:</span><br><span class="line">            <span class="keyword">if</span> max !=<span class="number">0</span>:</span><br><span class="line">                second_value = max</span><br><span class="line">                second = first</span><br><span class="line">            first = idx[<span class="number">0</span>]</span><br><span class="line">            max = idx[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">elif</span> second_value &lt; idx[<span class="number">1</span>]:</span><br><span class="line">            second = idx[<span class="number">0</span>]</span><br><span class="line">            second_value = idx[<span class="number">1</span>]</span><br><span class="line">        second_genres = [first, second]</span><br><span class="line">    <span class="keyword">return</span> first_genres + second_genres</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span><span class="params">(genres, plays)</span>:</span></span><br><span class="line">    genre_cnt_dict = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> genre, play <span class="keyword">in</span> zip(genres, plays):</span><br><span class="line">        <span class="keyword">if</span> genre <span class="keyword">in</span> genre_cnt_dict.keys():</span><br><span class="line">            genre_cnt_dict[genre] += play</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            genre_cnt_dict[genre] = play</span><br><span class="line">    print(genre_cnt_dict)</span><br><span class="line"></span><br><span class="line">    info_dict = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> idx, info <span class="keyword">in</span> enumerate(zip(genres, plays)):</span><br><span class="line">        genre, play_cnt = info[<span class="number">0</span>], info[<span class="number">1</span>]</span><br><span class="line">        genre_cnt = genre_cnt_dict[genre]</span><br><span class="line">        <span class="keyword">if</span> genre <span class="keyword">in</span> info_dict.keys():</span><br><span class="line">            <span class="keyword">if</span> len(info_dict[genre]) &gt;= <span class="number">2</span>:</span><br><span class="line">                info_dict[genre].append([genre_cnt, play_cnt, idx])</span><br><span class="line">                info_dict[genre] = sorted(info_dict[genre], key=<span class="keyword">lambda</span> x: -x[<span class="number">1</span>])[:<span class="number">2</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                info_dict[genre].append([genre_cnt, play_cnt, idx])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            info_dict[genre] = [[genre_cnt, play_cnt, idx]]</span><br><span class="line"></span><br><span class="line">    final_list = sum(info_dict.values(), [])</span><br><span class="line">    ffinal_list = sorted(final_list, key=<span class="keyword">lambda</span> x: (-x[<span class="number">0</span>], -x[<span class="number">1</span>], x[<span class="number">2</span>]))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> [i[<span class="number">2</span>] <span class="keyword">for</span> i <span class="keyword">in</span> ffinal_list]</span><br><span class="line"></span><br><span class="line">    answer = <span class="number">0</span></span><br></pre></td></tr></table></figure><p><code>zip()</code></p><p>시퀸스 자료형을 튜플로 묶어 리스트로 만든다.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>]</span><br><span class="line">b = <span class="string">"123"</span></span><br><span class="line">c = (<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>)</span><br><span class="line">zip(a,b,c)</span><br><span class="line"><span class="comment"># [(1,'1','a'), (2,'2','b'), (3,'3','c')]</span></span><br></pre></td></tr></table></figure><p><code>enumerate()</code><br>인덱스 번호와 컬렉션의 원소를 tuple형태로 반환합니다.</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">t = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">33</span>, <span class="number">39</span>, <span class="number">52</span>]</span><br><span class="line"><span class="keyword">for</span> p <span class="keyword">in</span> enumerate(t):</span><br><span class="line">    print(p)</span><br><span class="line"><span class="comment">#(0, 1)</span></span><br><span class="line"><span class="comment">#(1, 5)</span></span><br><span class="line"><span class="comment">#(2, 7)</span></span><br><span class="line"><span class="comment">#(3, 33)</span></span><br><span class="line"><span class="comment">#(4, 39)</span></span><br><span class="line"><span class="comment">#(5, 52)</span></span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Hash&quot;&gt;&lt;a href=&quot;#Hash&quot; class=&quot;headerlink&quot; title=&quot;Hash&quot;&gt;&lt;/a&gt;Hash&lt;/h1&gt;&lt;ul&gt;
&lt;li&gt;데이터를 다루는 기법 중에 하나&lt;/li&gt;
&lt;li&gt;검색과 저장이 아주 빠르게 진행 &lt;/li&gt;
&lt;li&gt;데
      
    
    </summary>
    
    
    
  </entry>
  
  <entry>
    <title>201012_SQL</title>
    <link href="https://khs9628.github.io/2020/10/12/201012-SQL/"/>
    <id>https://khs9628.github.io/2020/10/12/201012-SQL/</id>
    <published>2020-10-12T05:18:27.000Z</published>
    <updated>2020-10-19T07:32:28.583Z</updated>
    
    <content type="html"><![CDATA[<h2 id="SQL-하루-문제"><a href="#SQL-하루-문제" class="headerlink" title="SQL 하루 문제"></a>SQL 하루 문제</h2><h2 id="2020-10-12"><a href="#2020-10-12" class="headerlink" title="2020-10-12"></a>2020-10-12</h2><h2 id="SELECT"><a href="#SELECT" class="headerlink" title="SELECT"></a>SELECT</h2><p><img alt="1" data-src="/img/SQL/SQL1.PNG" class="lozad"><br><img alt="2" data-src="/img/SQL/SQL2.PNG" class="lozad"><br><img alt="3" data-src="/img/SQL/SQL3.PNG" class="lozad"><br><img alt="4" data-src="/img/SQL/SQL4.PNG" class="lozad"><br><img alt="5" data-src="/img/SQL/SQL5.PNG" class="lozad"><br><img alt="6" data-src="/img/SQL/SQL6.PNG" class="lozad"><br><img alt="7" data-src="/img/SQL/SQL7.PNG" class="lozad"></p><h2 id="SUM-MAX-MIN"><a href="#SUM-MAX-MIN" class="headerlink" title="SUM, MAX, MIN"></a>SUM, MAX, MIN</h2><p><img alt="1" data-src="/img/SQL/SQL8.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL9.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL10.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL11.PNG" class="lozad"></p><h2 id="GROUP-BY"><a href="#GROUP-BY" class="headerlink" title="GROUP BY"></a>GROUP BY</h2><p><img alt="1" data-src="/img/SQL/SQL12.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL13.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL14.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL15.PNG" class="lozad"></p><h2 id="2020-10-13"><a href="#2020-10-13" class="headerlink" title="2020-10-13"></a>2020-10-13</h2><h2 id="IS-NULL"><a href="#IS-NULL" class="headerlink" title="IS NULL"></a>IS NULL</h2><p><img alt="1" data-src="/img/SQL/SQL16.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL17.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL18.PNG" class="lozad"></p><h2 id="JOIN"><a href="#JOIN" class="headerlink" title="JOIN"></a>JOIN</h2><p><img alt="1" data-src="/img/SQL/SQL19.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL20.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL21.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL22.PNG" class="lozad"></p><h2 id="STRING-DATE"><a href="#STRING-DATE" class="headerlink" title="STRING, DATE"></a>STRING, DATE</h2><p><img alt="1" data-src="/img/SQL/SQL23.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL24.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL25.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL26.PNG" class="lozad"><br><img alt="1" data-src="/img/SQL/SQL27.PNG" class="lozad"></p><h2 id="주요-개념"><a href="#주요-개념" class="headerlink" title="주요 개념"></a>주요 개념</h2><p><code>LIMIT</code><br><code>LIKE</code><br><code>REGEXP</code></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;SQL-하루-문제&quot;&gt;&lt;a href=&quot;#SQL-하루-문제&quot; class=&quot;headerlink&quot; title=&quot;SQL 하루 문제&quot;&gt;&lt;/a&gt;SQL 하루 문제&lt;/h2&gt;&lt;h2 id=&quot;2020-10-12&quot;&gt;&lt;a href=&quot;#2020-10-12&quot; cla
      
    
    </summary>
    
    
    
      <category term="sql" scheme="https://khs9628.github.io/tags/sql/"/>
    
  </entry>
  
  <entry>
    <title>WAF</title>
    <link href="https://khs9628.github.io/2020/10/07/201007_WAF/"/>
    <id>https://khs9628.github.io/2020/10/07/201007_WAF/</id>
    <published>2020-10-07T03:50:27.000Z</published>
    <updated>2020-10-08T07:14:49.219Z</updated>
    
    <content type="html"><![CDATA[<h2 id="AWS-Structure-API-서버-구성도"><a href="#AWS-Structure-API-서버-구성도" class="headerlink" title="AWS Structure (API 서버 구성도)"></a>AWS Structure (API 서버 구성도)</h2><p><code>Route53</code> &gt; <code>WAF</code> &gt; <code>ALB</code> &gt; <code>AutoScalingGroup</code> &gt; <code>EC2</code> &gt; <code>Nginx</code> &gt; <code>Django</code></p><h3 id="Route53"><a href="#Route53" class="headerlink" title="Route53"></a>Route53</h3><p>DNS (Domain Name System) </p><p>www.도메인.com과 같이 도메인을 통해 컴퓨터 간 연결에 사용되는 숫자 IP 주소와 연결하줍니다.</p><h3 id="WAF"><a href="#WAF" class="headerlink" title="WAF"></a>WAF</h3><p>WAF (Web Application Firewall)<br>방화벽 ELB에 요청을 보내기 전 비상적 요청에 대한 사항을 차단합니다.</p><h3 id="ALB-ELB"><a href="#ALB-ELB" class="headerlink" title="ALB(ELB)"></a>ALB(ELB)</h3><p>ALB (Application LoadBalancer)</p><p>API 통신만 허용하기 때문에 Load Balancer 중 <code>http/https</code>만 허용하는 ALB를 사용합니다.</p><h3 id="AutoScaling-Group"><a href="#AutoScaling-Group" class="headerlink" title="AutoScaling Group"></a>AutoScaling Group</h3><p>ALB에서 오는 요청들을 처리하는 EC2의 갯수를 관리합니다.<br>CPU 사용량에 따라 트래픽이 증가하면 AutoScaling 규칙에 따라 EC2를 새로 증설하고 트래픽이 감소하면 규칙에 따라 자동적으로 감소하는 역할을 수행합니다.</p><ul><li>cf1) 통상적으로 Cpu Utilization이 50%가 넘는다<br>면 증가 20%이하면 감소 하는 규칙을 구성했습니다.</li></ul><p>기존 유지하는 ec2에 개수에 따라 달라질 수 있습니다.</p><ul><li><p>cf2) 서버의 cpu 사용량은 40~60퍼로 유지하는것이 안정적입니다.</p></li><li><p>cf3) AutoScaling된 EC2의 DOCKER 서버 초기화 및 재기동이 필요하다면 인스턴스 세부 정보 구성에 이르면 사용자 데이터(User data) 필드에 아래의 명령어를 기입한다.</p></li></ul><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">#!/bin/bash</span><br><span class="line">docker-compose build</span><br><span class="line">docker-compose up -d</span><br></pre></td></tr></table></figure><h3 id="EC2"><a href="#EC2" class="headerlink" title="EC2"></a>EC2</h3><p>EC2의 보안규칙은 같은 VPC에 존재하는 로드밸런서에서 오는 요청만 처리하게 구성하고 iptables로 리눅스 자체의 방화벽을 강화해 DDoS요청을 방지합니다.</p><h3 id="Nginx"><a href="#Nginx" class="headerlink" title="Nginx"></a>Nginx</h3><p>Http_REFERER, USER_AGENT, GEO_IP 등 인가된 사용자가 아니면 해당 요청을 수행하지 못하게 구성합니다.</p><h3 id="Django"><a href="#Django" class="headerlink" title="Django"></a>Django</h3><p>jwt token을 통해서 로그인을 관리하고<br>Api_key를 통해 해당 API를 실행할 때 Authorization 부분에 해당되는 key가 존재하지 않는다면 API 접근 에러를 발생하게 구성합니다.<br>또한 CORS 설정을 통해 WHITE_LIST를 관리해 해당되는 사이트가 아니면 CORS POLICY를 위반해 접근 불가능하게 구성합니다.</p><h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><p>nginx / Django(Gunicorn) / Celery / RabbitMQ 모두 Docker로 구동됩니다.</p><h2 id="WAF-설정"><a href="#WAF-설정" class="headerlink" title="WAF 설정"></a>WAF 설정</h2><p>AWS WAF는 CloudFront(CDN)/ALB/API Gateway 3가지 서비스에 연동가능하며 저는 위에 구성되어 있는 alb와 연동했습니다.</p><p>WAF 는 ACL 과 Rule로 구성되어 있고 <code>ACL</code>은 <code>Rule</code>들의 집합이라고 생각하면 편합니다.</p><p>HTTP_REFERER / User-Agent / GEO_IP에 대해서는 내부서버(EC2)에서 처리하므로 초반 비정상적 트래픽을 관리하기 위해 Rule Based 규칙에 있는 5분동안 Source IP(IP주소)에서 N번의 요청을 보낼 시 차단하는 방화벽을 구성합니다.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h2 id=&quot;AWS-Structure-API-서버-구성도&quot;&gt;&lt;a href=&quot;#AWS-Structure-API-서버-구성도&quot; class=&quot;headerlink&quot; title=&quot;AWS Structure (API 서버 구성도)&quot;&gt;&lt;/a&gt;AWS Structur
      
    
    </summary>
    
    
      <category term="aws" scheme="https://khs9628.github.io/categories/aws/"/>
    
    
      <category term="aws" scheme="https://khs9628.github.io/tags/aws/"/>
    
  </entry>
  
  <entry>
    <title>GITLAB CI &amp; CodeDeploy 설정</title>
    <link href="https://khs9628.github.io/2020/10/06/201007_CICD/"/>
    <id>https://khs9628.github.io/2020/10/06/201007_CICD/</id>
    <published>2020-10-06T08:11:02.000Z</published>
    <updated>2020-10-07T05:36:03.117Z</updated>
    
    <content type="html"><![CDATA[<h1 id="CICD란"><a href="#CICD란" class="headerlink" title="CICD란?"></a>CICD란?</h1><p><code>CI - Continuous Integration</code>  </p><ul><li><p>개발자를 위한 자동화 프로세스</p></li><li><p>개발자간의 코드 충돌을 방지하기 위한 목적</p></li><li><p>정기적인 빌드 및 테스트(유닛테스트 및 통합테스트)를 거쳐 공유 레포지터리에 병합되는 과정</p></li></ul><p><code>CD(1) - Continuous Delivery</code></p><ul><li><p>애플리케이션에 적용한 변경사항이 버그 테스트를 거쳐 레포지터리에 자동으로 업로드 되는 것</p></li><li><p>운영팀은 언제든 실시간으로 이 레포지터리에서 실시간으로 프로덕션 환경으로 배포 가능</p></li></ul><p><code>CD(2) - Continuous Deployment</code></p><ul><li><p>애플리케이션을 프로덕션 환경으로 배포하는 작업을 자동화 하는 것</p></li><li><p>Continuous Delivery로 통칭하여 언급하기도 함</p></li></ul><h2 id="GITLAB-CI"><a href="#GITLAB-CI" class="headerlink" title="GITLAB CI"></a>GITLAB CI</h2><p><code>gitlab-ci.yml</code> 파일을 통해 CI (Continuous Integration) 관리 및 테스트</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 기본 이미지를 docker 기반으로 설정</span></span><br><span class="line"><span class="attr">image:</span> <span class="attr">docker:latest</span></span><br><span class="line"></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"><span class="attr">  - docker:</span><span class="string">dind</span></span><br><span class="line"></span><br><span class="line"><span class="attr">stages:</span></span><br><span class="line"><span class="comment">#배포 단계 설정</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">build</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">deploy</span></span><br><span class="line"></span><br><span class="line"><span class="attr">before_script:</span></span><br><span class="line"><span class="comment"># 도커 관련 설정</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">docker</span> <span class="string">info</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">pip</span> <span class="string">install</span> <span class="string">docker-compose</span></span><br><span class="line"><span class="bullet">  -</span> <span class="string">docker-compose</span> <span class="bullet">--version</span></span><br><span class="line"></span><br><span class="line"><span class="attr">build:</span></span><br><span class="line"><span class="comment"># build stage 설정</span></span><br><span class="line"><span class="attr">  stage:</span> <span class="string">build</span>  </span><br><span class="line"><span class="attr">  only:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">master</span></span><br><span class="line"><span class="attr">  tags:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">docker</span></span><br><span class="line"><span class="attr">  script:</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">echo</span> <span class="string">"Building the app"</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">docker-compose</span> <span class="string">build</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">apk</span> <span class="string">install</span> <span class="string">zip</span></span><br><span class="line">    <span class="comment"># zip &#123;압축 파일명&#125;.zip &#123;압축할 파일 혹은 디렉토리1&#125; &#123;압축할 파일 혹은 디렉토리2&#125;</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">zip</span> <span class="string">deploy.zip</span> <span class="string">./*</span></span><br><span class="line"><span class="attr">  artifacts:</span></span><br><span class="line">  <span class="comment"># deploy.zip 파일을 다음 stage에도 유지</span></span><br><span class="line"><span class="attr">    expire_in:</span> <span class="number">1</span> <span class="string">hour</span></span><br><span class="line"><span class="attr">    paths:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">deploy.zip</span></span><br><span class="line"></span><br><span class="line"><span class="attr">deploy:</span></span><br><span class="line"><span class="attr">  image:</span> <span class="attr">python:latest</span></span><br><span class="line"><span class="attr">  stage:</span> <span class="string">deploy</span></span><br><span class="line"><span class="attr">  script:</span>    </span><br><span class="line"><span class="bullet">    -</span> <span class="string">echo</span> <span class="string">"Deploying the app"</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">pip</span> <span class="string">install</span> <span class="string">awscli</span></span><br><span class="line">    <span class="comment"># s3로 복사</span></span><br><span class="line">    <span class="comment"># aws s3 cp &lt;source&gt; &lt;target&gt; [--options]</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">aws</span> <span class="string">s3</span> <span class="string">cp</span> <span class="string">./deploy.zip</span> <span class="attr">s3://www.s3주소.com</span></span><br><span class="line">    <span class="comment"># codedeploy 배포 생성</span></span><br><span class="line"><span class="bullet">    -</span> <span class="string">aws</span> <span class="string">deploy</span> <span class="string">create-deployment</span> <span class="string">application-name</span> <span class="string">어플리케이션이름</span> <span class="bullet">--deployment-config-name</span> <span class="string">CodeDeployDefault.OneAtATime</span> <span class="bullet">--deployment-group-name</span> <span class="string">그룹이름</span> <span class="bullet">--s3-location</span> <span class="string">bucket=s3버킷,bundleType=zip,key=WordPressApp.zip</span></span><br></pre></td></tr></table></figure><h2 id="CodeDeploy-설정"><a href="#CodeDeploy-설정" class="headerlink" title="CodeDeploy 설정"></a>CodeDeploy 설정</h2><p>CodeDeploy는 <code>애플리케이션</code> &gt; <code>배포설정</code> &gt; <code>배포</code> 3단계로 구성되어있으며 어플리케이션과 배포설정 부분에서 배포에 관한 전반적인 설정을 해놓고 GitLab CI를 통해 배포 요청을 보내 CodeDeploy를 실행합니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">#/appspec.yml</span><br><span class="line">version: 0.0</span><br><span class="line">os: linux</span><br><span class="line"></span><br><span class="line"># 실행하는 권한 설정 (root)</span><br><span class="line">permissions:</span><br><span class="line">  - object: /</span><br><span class="line">    pattern: &quot;**&quot;</span><br><span class="line">    owner: root</span><br><span class="line">    group: root</span><br><span class="line"></span><br><span class="line">files:</span><br><span class="line">  - source: /</span><br><span class="line">    destination: /home/ubuntu/build</span><br><span class="line">hooks:</span><br><span class="line">  BeforeInstall:</span><br><span class="line">    - location: scripts/BeforeInstall.sh</span><br><span class="line">      runas: root</span><br><span class="line"># AfterInstall앞은 2칸이다.</span><br><span class="line">  AfterInstall:</span><br><span class="line">    - location: scripts/AfterInstall.sh</span><br><span class="line">      runas: root</span><br></pre></td></tr></table></figure><p>cf) CodeDeploy를 사용하기 위해서는 배포되는 EC2에 codedeploy Agent가 동작하고 있어야하며 EC2 IAM ROLE에 codedeploy에 관한 권한을 설정해두어야 합니다.</p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;CICD란&quot;&gt;&lt;a href=&quot;#CICD란&quot; class=&quot;headerlink&quot; title=&quot;CICD란?&quot;&gt;&lt;/a&gt;CICD란?&lt;/h1&gt;&lt;p&gt;&lt;code&gt;CI - Continuous Integration&lt;/code&gt;  &lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
      
    
    </summary>
    
    
      <category term="aws" scheme="https://khs9628.github.io/categories/aws/"/>
    
    
      <category term="cicd" scheme="https://khs9628.github.io/tags/cicd/"/>
    
  </entry>
  
  <entry>
    <title>Docker</title>
    <link href="https://khs9628.github.io/2020/10/06/201007_docker/"/>
    <id>https://khs9628.github.io/2020/10/06/201007_docker/</id>
    <published>2020-10-06T06:48:00.000Z</published>
    <updated>2020-10-20T06:33:26.309Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h1><h2 id="도커를-배워야-하는-이유"><a href="#도커를-배워야-하는-이유" class="headerlink" title="도커를 배워야 하는 이유?"></a>도커를 배워야 하는 이유?</h2><p>과거에는 애플리케이션 개발은 프로그래밍과 테스트 스킬을 가진 애플리케이션 엔진니어가<br>환경구축은 네트워크나 하드웨어를 잘아는 인프라 엔진니어가 담당했습니다.</p><p>그런데 데이터센터나 서버실을 두고 하는 온프레미스 방식에서 가상의 서버를 여러 대 띄우는 클라우드 방식으로 변화되었습니다.</p><p>이런 분산환경에서는 인프라 엔지니어가 수동으로 관리하는 대신 자동화된 툴을 사용해 오케스트레이션 합니다.<br>따라서 인프라 엔지니어도 자동화를 위해 코드를 작성하는 능력이 필요하게되었습니다.</p><h4 id="IT-Infrastructure"><a href="#IT-Infrastructure" class="headerlink" title="IT Infrastructure?"></a>IT Infrastructure?</h4><p><code>IT 인프라</code>란 애플리케이션을 가동시키기 위한 필요한 하드웨어, OS , 미들웨어, 네트워크 등 시스템의 기반을 말합니다.</p><h2 id="STEP-2-Docker"><a href="#STEP-2-Docker" class="headerlink" title="STEP 2. Docker"></a>STEP 2. Docker</h2><p>서비스 운영 환경을 묶어서 손쉽게 배포하고 실행하는 경량 컨테이너 기술로 인프라 구축을 손쉽게 할 수 있는 도구입니다.</p><h3 id="도커설치"><a href="#도커설치" class="headerlink" title="도커설치"></a>도커설치</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># 도커 설치</span><br><span class="line">$ curl -fsSL https://get.docker.com/ | sudo sh</span><br><span class="line"></span><br><span class="line"># 도커 설치 확인</span><br><span class="line">$ sudo docker version</span><br><span class="line"></span><br><span class="line"># 도커 방화벽(ufw) 설정</span><br><span class="line">$ sudo ufw allow 4243/tcp</span><br></pre></td></tr></table></figure><h3 id="권한-설정"><a href="#권한-설정" class="headerlink" title="권한 설정"></a>권한 설정</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># 도커라는 이름의 그룹 설정</span><br><span class="line">$ sudo groupadd docker</span><br><span class="line"></span><br><span class="line"># 도커그룹에 유저 등록 </span><br><span class="line">$ sudo gpasswd -a ubuntu docker</span><br><span class="line"></span><br><span class="line">#cf) gpasswd -a 는 그룹에 해당 멤버를 추가하는 명령어입니다.</span><br><span class="line"></span><br><span class="line"># 재시작</span><br><span class="line">$ sudo service docker restart</span><br></pre></td></tr></table></figure><h3 id="도커-이미지-Image-이해하기"><a href="#도커-이미지-Image-이해하기" class="headerlink" title="도커 이미지 (Image) 이해하기"></a>도커 이미지 (Image) 이해하기</h3><p><code>이미지</code>는 서비스 운영에 필요한 서버 프로그램, 소스 코드, 컴파일된 실행 파일을 묶은 형태</p><p><code>컨테이너</code>는 이미지를 실행한 상태</p><p>이미지 = 실행파일 /  컨테이너 = 프로세스</p><p>=&gt; apt-get install 라이브러리와 같이 해당 내용을 docker pull 라이브러리를 통해 받아올 수 있습니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># 다운 받았던 이미지 목록 확인</span><br><span class="line">$ docker images</span><br><span class="line"></span><br><span class="line"># 해당 이미지[] 다운로드</span><br><span class="line">$ docker pull [ubuntu]</span><br></pre></td></tr></table></figure><h3 id="docker-기초-실습"><a href="#docker-기초-실습" class="headerlink" title="docker 기초 실습!"></a>docker 기초 실습!</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"># 도커로 이미지 쉘 접근</span><br><span class="line">$ docker run -i -t ubuntu /bin/bash</span><br><span class="line"></span><br><span class="line"># 도커로 접근한 쉘 나가기</span><br><span class="line">$ exit </span><br><span class="line"></span><br><span class="line"># 컨테이너 목록 확인하기</span><br><span class="line">$ docker ps -a</span><br><span class="line"></span><br><span class="line"># 컨테이너[] 재시작 하기</span><br><span class="line">$ docker restart [e2af61348652]</span><br><span class="line"></span><br><span class="line"># 재시작한 컨테이너[] 접근하기</span><br><span class="line">$ docker attach [e2af61348652]</span><br><span class="line"></span><br><span class="line"># git download</span><br><span class="line">$ apt-get update</span><br><span class="line">$ apt-get install -y git</span><br><span class="line">$ git --version</span><br><span class="line"></span><br><span class="line"># 컨테이너[] 변경사항 확인하기</span><br><span class="line">$ docker diff [e2af61348652]</span><br><span class="line"></span><br><span class="line"># 해당 작업 컨테이너 이미지 저장</span><br><span class="line">$ docker commit [eb0b81046522] ubuntu:git</span><br><span class="line"></span><br><span class="line"># 저장된 이미지 확인</span><br><span class="line">sudo docker images | grep git</span><br><span class="line"></span><br><span class="line"># 저장된 이미지로 컨테이너 시작</span><br><span class="line">$ docker run -i -t ubuntu:git /bin/bash</span><br><span class="line"></span><br><span class="line"># 컨테이너[] 삭제</span><br><span class="line">$ docker rm [e2af61348652]</span><br><span class="line"></span><br><span class="line">cf) 컨테이너 모두삭제</span><br><span class="line">$ docker rm -f `docker ps -a -q`</span><br><span class="line"></span><br><span class="line"># 이미지[] 삭제</span><br><span class="line">$ docker rmi -f [ubuntu:git]</span><br><span class="line"></span><br><span class="line"># 이미지 모두 삭제</span><br><span class="line">$ docker rmi -f `docker images -a -q`</span><br></pre></td></tr></table></figure><h3 id="docker-compose"><a href="#docker-compose" class="headerlink" title="docker-compose"></a>docker-compose</h3><p><a href="https://soyoung-new-challenge.tistory.com/73" rel="external nofollow noopener noreferrer" target="_blank">참고 url</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># 도커 컴포즈 버전 설치</span><br><span class="line">$ sudo curl -L &quot;https://github.com/docker/compose/releases/download/1.24.1/docker-compose-$(uname -s)-$(uname -m)&quot; -o /usr/local/bin/docker-compose</span><br><span class="line"></span><br><span class="line"># 도커 컴포즈에 권한 설정</span><br><span class="line">$ sudo chmod +x /usr/local/bin/docker-compose</span><br><span class="line"></span><br><span class="line"># 심볼릭 링크 설정 -&gt; path오류 방지 </span><br><span class="line">$ sudo ln -s /usr/local/bin/docker-compose /usr/bin/docker-compose</span><br><span class="line"></span><br><span class="line"># 설치 확인 (버전확인)</span><br><span class="line">$ docker-compose -version</span><br></pre></td></tr></table></figure><h3 id="docker-Log-관리"><a href="#docker-Log-관리" class="headerlink" title="docker Log 관리"></a>docker Log 관리</h3><p>Docker는 /var/lib/docker 에서 이미지파일 / 컨테이너정보 / 로그 등을 관리합니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">$ cd /var/lib/docker </span><br><span class="line">$ ls</span><br><span class="line"></span><br><span class="line">builder   containers  networkplugins   swarm  trust</span><br><span class="line">buildkit  image       overlay2runtimes  tmp volumes</span><br><span class="line"></span><br><span class="line">$ cd containers</span><br><span class="line">$ ls</span><br><span class="line"></span><br><span class="line">454880959eaa231321eb71ff55189272696d74aa83fa0e82088a1726bd8616a4</span><br><span class="line">51484c4f637b7cb779208ae7ad111ce90ea8f9f1591ee39333fde0e8fac3add1</span><br><span class="line">814c65bb7700aad8b7b79421b2cec8e3929c973930d8b825db3d5bdbe4df5e97</span><br><span class="line">83adee6dd24cf36752760c9654a9f3668de772ad42ff99cba636f36c49ff0ef4</span><br><span class="line">ec50acb94e90f738c2fb85bf0782d64b5305c963819c4326529ca2b0b8142881</span><br><span class="line"></span><br><span class="line">$ cd [container_ID]</span><br><span class="line">$ ls</span><br><span class="line"></span><br><span class="line">51484c4f637b7cb779208ae7ad111ce90ea8f9f1591ee39333fde0e8fac3add1-json.log</span><br><span class="line">checkpoints</span><br><span class="line">config.v2.json</span><br><span class="line">hostconfig.json</span><br><span class="line">hostname</span><br><span class="line">hosts</span><br><span class="line">mounts</span><br><span class="line">resolv.conf</span><br><span class="line">resolv.conf.hash</span><br><span class="line"></span><br><span class="line"># 컨테이너 사용 용량 확인</span><br><span class="line">$ cd ..</span><br><span class="line">$ du -hsx * | sort -sh | head -n 10</span><br><span class="line">48K83adee6dd24cf36752760c9654a9f3668de772ad42ff99cba636f36c49ff0ef4</span><br><span class="line">48Kec50acb94e90f738c2fb85bf0782d64b5305c963819c4326529ca2b0b8142881</span><br><span class="line">68K454880959eaa231321eb71ff55189272696d74aa83fa0e82088a1726bd8616a4</span><br><span class="line">88K814c65bb7700aad8b7b79421b2cec8e3929c973930d8b825db3d5bdbe4df5e97</span><br><span class="line">112K51484c4f637b7cb779208ae7ad111ce90ea8f9f1591ee39333fde0e8fac3add1</span><br></pre></td></tr></table></figure><p>각 컨테이너에 발생한 log들은 [container_ID].log로 관리됩니다.</p><p><code>logrotate</code> ?</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">$ sudo apt install -y logrotate</span><br><span class="line"></span><br><span class="line">$ vim /etc/logrotate.conf</span><br><span class="line"></span><br><span class="line"># see &quot;man logrotate&quot; for details</span><br><span class="line"># rotate log files weekly</span><br><span class="line">weekly</span><br><span class="line"></span><br><span class="line"># use the syslog group by default, since this is the owning group</span><br><span class="line"># of /var/log/syslog.</span><br><span class="line">su root syslog</span><br><span class="line"></span><br><span class="line"># keep 4 weeks worth of backlogs</span><br><span class="line">rotate 4</span><br><span class="line"></span><br><span class="line"># create new (empty) log files after rotating old ones</span><br><span class="line">create</span><br><span class="line"></span><br><span class="line"># uncomment this if you want your log files compressed</span><br><span class="line">#compress</span><br><span class="line"></span><br><span class="line"># packages drop log rotation information into this directory</span><br><span class="line">include /etc/logrotate.d</span><br><span class="line"></span><br><span class="line"># no packages own wtmp, or btmp -- we&apos;ll rotate them here</span><br><span class="line">/var/log/wtmp &#123;</span><br><span class="line">    missingok</span><br><span class="line">    monthly</span><br><span class="line">    create 0664 root utmp</span><br><span class="line">    rotate 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">/var/log/btmp &#123;</span><br><span class="line">    missingok</span><br><span class="line">    monthly</span><br><span class="line">    create 0660 root utmp</span><br><span class="line">    rotate 1</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># system-specific logs may be configured here</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"># docker log 관리 설정파일 만들기</span><br><span class="line">$ vim /etc/logrotate.d/docker</span><br><span class="line">/var/lib/docker/containers/*/*.log &#123;</span><br><span class="line">    rotate 7</span><br><span class="line">    daily</span><br><span class="line">    compress</span><br><span class="line">    missingok</span><br><span class="line">    delaycompress</span><br><span class="line">    copytruncate</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">위의 명령어를 해석하면 다음과 같다</span><br><span class="line"></span><br><span class="line">- rotate: 회전주기 설정</span><br><span class="line">- daily: 일단위 실행 의미</span><br><span class="line">- missingok: 설정로그가 없는 경우 에러메세지 출력하지 않음</span><br><span class="line">- compress: 압축(원하지 않으면 nocompress 로 설정)</span><br><span class="line">- copytruncate: 대상이 되는 파일을 찾은 다음 설정에 맞게 날짜나 숫자를 붙여 rename</span><br><span class="line"></span><br><span class="line">$ logrotate -fv /etc/logrotate.d/docker</span><br></pre></td></tr></table></figure><h2 id="Docker-세부설정-및-구조"><a href="#Docker-세부설정-및-구조" class="headerlink" title="Docker 세부설정 및 구조"></a>Docker 세부설정 및 구조</h2><p><img alt="structure" data-src="/img/docker/structure.PNG" class="lozad"></p><h3 id="docker-compose-yml"><a href="#docker-compose-yml" class="headerlink" title="docker-compose.yml"></a>docker-compose.yml</h3><p><code>docker-compose.yml</code> 파일은 docker-compose 설정을 통해 컨테이너를 통합적으로 관리해주는 파일입니다.</p><p>아래의 구조에서는 웹서버를 구동하는 <code>Nginx</code> Django 웹애플리케이션을 구동하는 <code>Gunicorn</code>을 사용하고<br>비동기 통신을 위한 <code>celery</code> 혹은 스케쥴러를 위한 <code>celerybeat</code>를 사용하며 해당 요청을 큐구조로 관리해주는 <code>rabbitMq</code>를 사용합니다.</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">version:</span> <span class="string">'3'</span></span><br><span class="line"><span class="attr">services:</span></span><br><span class="line"><span class="attr">  app:</span></span><br><span class="line"><span class="attr">    build:</span>  </span><br><span class="line"><span class="attr">      context:</span> <span class="string">.</span></span><br><span class="line"><span class="attr">      dockerfile:</span> <span class="string">Dockerfile</span> </span><br><span class="line"></span><br><span class="line"><span class="attr">    container_name:</span> <span class="string">django</span></span><br><span class="line"><span class="attr">    restart:</span> <span class="string">always</span></span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"8000:8000"</span>    </span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">.:/srv/plugin</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">./log:/var/log</span></span><br><span class="line"><span class="attr">    command:</span> </span><br><span class="line">      <span class="string">gunicorn</span> <span class="bullet">--workers=3</span> <span class="bullet">--bind</span> <span class="number">0.0</span><span class="number">.0</span><span class="number">.0</span><span class="string">:8000</span> <span class="string">API.wsgi:application</span></span><br><span class="line">      </span><br><span class="line"><span class="attr">    expose:</span> </span><br><span class="line"><span class="bullet">      -</span> <span class="string">"8000"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  nginx:</span></span><br><span class="line"><span class="attr">    container_name:</span> <span class="string">nginx</span></span><br><span class="line"><span class="attr">    hostname:</span> <span class="string">nginx</span></span><br><span class="line"><span class="attr">    build:</span> </span><br><span class="line"><span class="attr">      context:</span> <span class="string">./nginx</span></span><br><span class="line"><span class="attr">      dockerfile:</span> <span class="string">Dockerfile</span> </span><br><span class="line"><span class="attr">    restart:</span> <span class="string">always</span></span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">.:/home/ubuntu</span></span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"80:80"</span></span><br><span class="line"><span class="attr">    depends_on:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">app</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="attr">  rabbit:</span></span><br><span class="line"><span class="attr">    container_name:</span> <span class="string">rabbit</span></span><br><span class="line"><span class="attr">    hostname:</span> <span class="string">rabbit</span></span><br><span class="line"><span class="attr">    image:</span> <span class="attr">rabbitmq:latest</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">RABBITMQ_DEFAULT_USER=admin</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">RABBITMQ_DEFAULT_PASS=1234</span></span><br><span class="line"><span class="attr">    ports:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">"5672:5672"</span></span><br><span class="line"></span><br><span class="line"><span class="attr">  worker:</span></span><br><span class="line"><span class="attr">    container_name:</span> <span class="string">celery</span></span><br><span class="line"><span class="attr">    hostname:</span> <span class="string">celery</span></span><br><span class="line"><span class="attr">    build:</span> <span class="string">.</span></span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">.:/home/ubuntu</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">C_FORCE_ROOT=true</span></span><br><span class="line"><span class="attr">    command:</span> </span><br><span class="line">      <span class="string">celery</span> <span class="bullet">-A</span> <span class="string">API</span> <span class="string">worker</span> <span class="bullet">-l</span> <span class="string">info</span></span><br><span class="line"><span class="attr">    links:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">rabbit</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">celery-beat</span></span><br><span class="line"><span class="attr">    depends_on:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">rabbit</span></span><br><span class="line">  </span><br><span class="line"><span class="attr">  celery-beat:</span></span><br><span class="line"><span class="attr">    container_name:</span> <span class="string">celery-beat</span></span><br><span class="line"><span class="attr">    hostname:</span> <span class="string">beat</span></span><br><span class="line"><span class="attr">    environment:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">C_FORCE_ROOT=true</span></span><br><span class="line"><span class="attr">    build:</span> <span class="string">.</span></span><br><span class="line"><span class="attr">    command:</span> <span class="string">celery</span> <span class="bullet">-A</span> <span class="string">API</span> <span class="string">beat</span> <span class="bullet">-l</span> <span class="string">debug</span> <span class="bullet">--pidfile=./celerybeat.pid</span></span><br><span class="line"><span class="attr">    volumes:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">.:/home/ubuntu</span></span><br><span class="line"><span class="attr">    links:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">rabbit</span></span><br><span class="line"><span class="attr">    depends_on:</span></span><br><span class="line"><span class="bullet">      -</span> <span class="string">rabbit</span></span><br></pre></td></tr></table></figure><h3 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h3><p><code>/nginx</code> 폴더에는 웹서버인 nginx에 대한 설정파일인이 위치하고 있으며 nginx에 대한 Docker 설정파일인 <code>Dockerfile</code> geo_ip 설정 파일인 <code>GeoIP.dat</code> <code>GeoIPv6.dat</code> nginx에 메인 설정파일인 <code>nginx.conf</code> 웹어플리케이션에 대한 설정파일인 <code>nginx-app.conf</code> 파일이 위치하고 있습니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"># /nginx/Dockerfile</span><br><span class="line">FROM nginx:latest  #docker 최신nginx 이미지 사용</span><br><span class="line"></span><br><span class="line"># geo_ip 설정관련 폴더 생성</span><br><span class="line">RUN mkdir /etc/nginx/geoip </span><br><span class="line"></span><br><span class="line"># nginx 설정 초기화</span><br><span class="line">RUN rm /etc/nginx/conf.d/default.conf</span><br><span class="line">RUN rm /etc/nginx/nginx.conf</span><br><span class="line"></span><br><span class="line"># /nginx에 위치한 설정파일 복사</span><br><span class="line">COPY nginx.conf /etc/nginx/</span><br><span class="line">COPY nginx-app.conf /etc/nginx/conf.d/</span><br><span class="line">COPY GeoIP.dat /etc/nginx/geoip/</span><br></pre></td></tr></table></figure><h3 id="Dockerfile"><a href="#Dockerfile" class="headerlink" title="Dockerfile"></a>Dockerfile</h3><p>root폴더의 Dockerfile은 도커 컨테이너가 실행되기전 초기화하는 역할을 합니다.</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">FROM python:3.7 #docker 파이썬 3.7 이미지 사용</span><br><span class="line"></span><br><span class="line">RUN apt-get -y update #api-get 업데이트</span><br><span class="line"></span><br><span class="line"># 컨테이너 세팅</span><br><span class="line">RUN mkdir /home/ubuntu</span><br><span class="line">COPY requirements.txt /home/ubuntu/</span><br><span class="line"></span><br><span class="line"># WORK디렉터리 지정</span><br><span class="line">WORKDIR /home/ubuntu</span><br><span class="line"></span><br><span class="line"># 필요 라이브러리 설정</span><br><span class="line">RUN pip install --upgrade pip</span><br><span class="line">RUN pip install -r requirements.txt</span><br><span class="line"></span><br><span class="line"># 파일 설정</span><br><span class="line">COPY . /home/ubuntu</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;Docker&quot;&gt;&lt;a href=&quot;#Docker&quot; class=&quot;headerlink&quot; title=&quot;Docker&quot;&gt;&lt;/a&gt;Docker&lt;/h1&gt;&lt;h2 id=&quot;도커를-배워야-하는-이유&quot;&gt;&lt;a href=&quot;#도커를-배워야-하는-이유&quot; class=&quot;he
      
    
    </summary>
    
    
      <category term="Docker" scheme="https://khs9628.github.io/categories/Docker/"/>
    
    
      <category term="Docker" scheme="https://khs9628.github.io/tags/Docker/"/>
    
  </entry>
  
  <entry>
    <title>퇴직후기술스팩 정리</title>
    <link href="https://khs9628.github.io/2020/10/05/201005_spec/"/>
    <id>https://khs9628.github.io/2020/10/05/201005_spec/</id>
    <published>2020-10-05T06:35:28.000Z</published>
    <updated>2020-10-08T06:02:54.379Z</updated>
    
    <content type="html"><![CDATA[<p>1년간 <code>YesNow</code>에서 근무하면서 습득한 기술 스팩에 대한 정리를 위해 정리한 파일입니다.</p><h1 id="목차"><a href="#목차" class="headerlink" title="목차"></a>목차</h1><ol><li>Docker</li><li>CICD (gitLAB/CodeDeploy)</li><li>WAF (Route53)</li><li>ALB(application LoadBalancer)</li><li>AutoScaling</li><li>iptables</li><li>Django 기본구조</li><li>Celery&amp;RabbitMQ</li><li>보안(Security)</li></ol>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;1년간 &lt;code&gt;YesNow&lt;/code&gt;에서 근무하면서 습득한 기술 스팩에 대한 정리를 위해 정리한 파일입니다.&lt;/p&gt;
&lt;h1 id=&quot;목차&quot;&gt;&lt;a href=&quot;#목차&quot; class=&quot;headerlink&quot; title=&quot;목차&quot;&gt;&lt;/a&gt;목차&lt;/h1&gt;&lt;o
      
    
    </summary>
    
    
      <category term="spec" scheme="https://khs9628.github.io/categories/spec/"/>
    
    
      <category term="spec" scheme="https://khs9628.github.io/tags/spec/"/>
    
  </entry>
  
  <entry>
    <title>(Web Crawling) - 파일 저장하기</title>
    <link href="https://khs9628.github.io/2019/10/05/Crawling4/"/>
    <id>https://khs9628.github.io/2019/10/05/Crawling4/</id>
    <published>2019-10-05T07:19:51.000Z</published>
    <updated>2019-10-05T09:11:24.052Z</updated>
    
    <content type="html"><![CDATA[<h1 id="파이썬-웹-크롤링-Web-Crawling-4-크롤링-심화"><a href="#파이썬-웹-크롤링-Web-Crawling-4-크롤링-심화" class="headerlink" title="파이썬 웹 크롤링(Web Crawling) - 4. 크롤링 심화"></a>파이썬 웹 크롤링(Web Crawling) - 4. 크롤링 심화</h1><h2 id="예제-1-네이버-블로그-검색결과-CSV-엑셀-파일로-저장하기"><a href="#예제-1-네이버-블로그-검색결과-CSV-엑셀-파일로-저장하기" class="headerlink" title="예제 1) 네이버 블로그 검색결과 CSV(엑셀) 파일로 저장하기"></a>예제 1) 네이버 블로그 검색결과 CSV(엑셀) 파일로 저장하기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote_plus</span><br><span class="line"></span><br><span class="line"><span class="comment"># class="api_txt_lines total_tit" </span></span><br><span class="line"><span class="comment"># - 네이버 모바일 VIEW탭에 제목 class</span></span><br><span class="line"></span><br><span class="line">search = input(<span class="string">'검색어를 입력하세요 : '</span>)</span><br><span class="line"></span><br><span class="line">url = <span class="string">f'https://m.search.naver.com/search.naver?where=m_view&amp;sm=mtb_jum&amp;query=<span class="subst">&#123;quote_plus(search)&#125;</span>'</span></span><br><span class="line"></span><br><span class="line">html = urlopen(url).read()</span><br><span class="line">soup = bs(html, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line">total = soup.select(<span class="string">'.api_txt_lines.total_tit'</span>)</span><br><span class="line">searchList = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> total:</span><br><span class="line">    temp = []</span><br><span class="line">    temp.append(i.text) <span class="comment"># 제목</span></span><br><span class="line">    temp.append(i.attrs[<span class="string">'href'</span>]) <span class="comment"># 링크</span></span><br><span class="line">    searchList.append(temp)</span><br><span class="line"><span class="comment"># 엑셀에서 열때 utf-8 표준이면 깨짐현상이 일어남</span></span><br><span class="line">f = open(<span class="string">f'<span class="subst">&#123;search&#125;</span>.csv'</span>, <span class="string">'w'</span>, encoding = <span class="string">'cp949'</span>, newline=<span class="string">''</span>)</span><br><span class="line">csvWriter = csv.writer(f)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> searchList:</span><br><span class="line">    <span class="comment"># 한줄씩 써 내려감</span></span><br><span class="line">    csvWriter.writerow(i)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">print(<span class="string">'완료 되었습니다.'</span>)</span><br></pre></td></tr></table></figure><h3 id="크롤링을-검색해서-나온-30개의-결과-값을-저장했습니다"><a href="#크롤링을-검색해서-나온-30개의-결과-값을-저장했습니다" class="headerlink" title="크롤링을 검색해서 나온 30개의 결과 값을 저장했습니다."></a>크롤링을 검색해서 나온 30개의 결과 값을 저장했습니다.</h3><p><img alt data-src="/img/Django/%ED%81%AC%EB%A1%A4%EB%A7%812.PNG" class="lozad"></p><h2 id="예제-2-구글-검색결과-CSV-엑셀-파일로-저장하기"><a href="#예제-2-구글-검색결과-CSV-엑셀-파일로-저장하기" class="headerlink" title="예제 2) 구글 검색결과 CSV(엑셀) 파일로 저장하기"></a>예제 2) 구글 검색결과 CSV(엑셀) 파일로 저장하기</h2><figure class="highlight py"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> csv</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote_plus</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">baseUrl = <span class="string">'https://www.google.co.kr/search?q='</span></span><br><span class="line">plusUrl = input(<span class="string">'검색어를 입력하세요 : '</span>)</span><br><span class="line"><span class="comment"># 한글 검색 자동 변환</span></span><br><span class="line">url = baseUrl + quote_plus(plusUrl)</span><br><span class="line"></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.get(url)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">html = driver.page_source</span><br><span class="line">soup = bs(html, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line">r = soup.select(<span class="string">'.r'</span>)</span><br><span class="line">searchList = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> r:</span><br><span class="line">    temp = []</span><br><span class="line">    temp.append(i.select_one(<span class="string">'.LC20lb'</span>).text) <span class="comment"># 제목</span></span><br><span class="line">    temp.append(i.a.attrs[<span class="string">'href'</span>]) <span class="comment"># 링크</span></span><br><span class="line">    print()</span><br><span class="line">    searchList.append(temp)</span><br><span class="line"></span><br><span class="line">driver.close()</span><br><span class="line"></span><br><span class="line">f = open(<span class="string">f'<span class="subst">&#123;plusUrl&#125;</span>.csv'</span>, <span class="string">'w'</span>, encoding = <span class="string">'cp949'</span>, newline=<span class="string">''</span>)</span><br><span class="line">csvWriter = csv.writer(f)</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> searchList:</span><br><span class="line">    <span class="comment"># 한줄씩 써 내려감</span></span><br><span class="line">    csvWriter.writerow(i)</span><br><span class="line">f.close()</span><br><span class="line"></span><br><span class="line">print(<span class="string">'완료 되었습니다.'</span>)</span><br></pre></td></tr></table></figure><h3 id="크롤링을-검색해서-나온-10개의-결과-값을-저장했습니다-구글"><a href="#크롤링을-검색해서-나온-10개의-결과-값을-저장했습니다-구글" class="headerlink" title="크롤링을 검색해서 나온 10개의 결과 값을 저장했습니다.(구글)"></a>크롤링을 검색해서 나온 10개의 결과 값을 저장했습니다.(구글)</h3><p><img alt data-src="/img/Django/%ED%81%AC%EB%A1%A4%EB%A7%813.PNG" class="lozad"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;h1 id=&quot;파이썬-웹-크롤링-Web-Crawling-4-크롤링-심화&quot;&gt;&lt;a href=&quot;#파이썬-웹-크롤링-Web-Crawling-4-크롤링-심화&quot; class=&quot;headerlink&quot; title=&quot;파이썬 웹 크롤링(Web Crawling) - 4. 크
      
    
    </summary>
    
    
      <category term="Crawling" scheme="https://khs9628.github.io/categories/Crawling/"/>
    
    
      <category term="Crawling" scheme="https://khs9628.github.io/tags/Crawling/"/>
    
  </entry>
  
  <entry>
    <title>(Web Crawling) - 검색결과에 따른 크롤링</title>
    <link href="https://khs9628.github.io/2019/09/29/Crawling3/"/>
    <id>https://khs9628.github.io/2019/09/29/Crawling3/</id>
    <published>2019-09-29T06:33:28.000Z</published>
    <updated>2019-10-05T08:19:32.986Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://www.youtube.com/watch?v=OEf_UESjRxo" rel="external nofollow noopener noreferrer" target="_blank">참고사이트</a></p><h1 id="파이썬-웹-크롤링-Web-Crawling-3-검색결과에-따른-페이지-크롤링"><a href="#파이썬-웹-크롤링-Web-Crawling-3-검색결과에-따른-페이지-크롤링" class="headerlink" title="파이썬 웹 크롤링(Web Crawling) - 3. 검색결과에 따른 페이지 크롤링"></a>파이썬 웹 크롤링(Web Crawling) - 3. 검색결과에 따른 페이지 크롤링</h1><h2 id="예제-1-네이버-블로그-검색결과-가져오기"><a href="#예제-1-네이버-블로그-검색결과-가져오기" class="headerlink" title="예제 1) 네이버 블로그 검색결과 가져오기"></a>예제 1) 네이버 블로그 검색결과 가져오기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"><span class="keyword">import</span> urllib.parse</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 네이버 검색 후 검색 결과</span></span><br><span class="line">baseUrl = <span class="string">'https://search.naver.com/search.naver?where=post&amp;sm=tab_jum&amp;query='</span></span><br><span class="line">plusUrl = input(<span class="string">'검색어를 입력하세요 : '</span>)</span><br><span class="line"><span class="comment"># 한글 검색 자동 변환</span></span><br><span class="line">url = baseUrl + urllib.parse.quote_plus(plusUrl)</span><br><span class="line">html = urlopen(url)</span><br><span class="line">bsObject = bs(html, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 조건에 맞는 파일을 다 출력해라</span></span><br><span class="line">title = bsObject.find_all(class_=<span class="string">'sh_blog_title'</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> title:</span><br><span class="line">    print(i.attrs[<span class="string">'title'</span>])</span><br><span class="line">    print(i.attrs[<span class="string">'href'</span>])</span><br><span class="line">    print()</span><br></pre></td></tr></table></figure><p><code>결과</code></p><blockquote><p>검색어를 입력하세요 : 크롤링<br>웹크롤링 [금통위의사록 파이썬으로 다운받기]<br><a href="https://blog.naver.com/jjys9047?Redirect=Log&amp;logNo=221584977592" rel="external nofollow noopener noreferrer" target="_blank">https://blog.naver.com/jjys9047?Redirect=Log&amp;logNo=221584977592</a></p></blockquote><blockquote><p>웹 구조를 이해한 자의 웹크롤링은 데이터를 다루는 디테일부터 다르다. By &gt;파이썬을 활용한 실전 웹크롤링과 자동화 CAMP 박두진 강사님<br><a href="http://blog.fastcampus.co.kr/221586197326" rel="external nofollow noopener noreferrer" target="_blank">http://blog.fastcampus.co.kr/221586197326</a></p></blockquote><blockquote><p>[Week 1] 데이터 사이언스 기초: 웹페이지에서 데이터 수집하기 (데이터 크롤링)<br><a href="https://piry777.blog.me/221662360000" rel="external nofollow noopener noreferrer" target="_blank">https://piry777.blog.me/221662360000</a></p></blockquote><blockquote><p>[파이썬 활용] 크롤링<br><a href="https://blog.naver.com/mathesis_time?Redirect=Log&amp;logNo=221525076829" rel="external nofollow noopener noreferrer" target="_blank">https://blog.naver.com/mathesis_time?Redirect=Log&amp;logNo=221525076829</a></p></blockquote><blockquote><p>▣ 웹크롤링 / 스크래핑 프로그램 OCTOPARSE 사용기<br><a href="https://blog.naver.com/no1_devicemart?Redirect=Log&amp;logNo=221539107537" rel="external nofollow noopener noreferrer" target="_blank">https://blog.naver.com/no1_devicemart?Redirect=Log&amp;logNo=221539107537</a></p></blockquote><blockquote><p>발리 여행, 길리 트라왕안, 파티섬, 펍 크롤링, Pub Crawling 후기<br><a href="https://blog.naver.com/grang353?Redirect=Log&amp;logNo=221576202119" rel="external nofollow noopener noreferrer" target="_blank">https://blog.naver.com/grang353?Redirect=Log&amp;logNo=221576202119</a></p></blockquote><blockquote><p>광고,홍보 위주로 활용이 가능한 웹크롤링 젠서버 컴퓨터 입니다.<br><a href="https://blog.naver.com/kukuri0_0?Redirect=Log&amp;logNo=221510474601" rel="external nofollow noopener noreferrer" target="_blank">https://blog.naver.com/kukuri0_0?Redirect=Log&amp;logNo=221510474601</a></p></blockquote><blockquote><p>[Python] 파이썬 웹 크롤링 #1. 네이버 실시간 검색어 가져오기<br><a href="https://dsz08082.blog.me/221587474567" rel="external nofollow noopener noreferrer" target="_blank">https://dsz08082.blog.me/221587474567</a></p></blockquote><blockquote><p>10.1 R로 다음(Daum) 네티즌 리뷰 크롤링하기<br><a href="https://blog.naver.com/pmw9440?Redirect=Log&amp;logNo=221590746010" rel="external nofollow noopener noreferrer" target="_blank">https://blog.naver.com/pmw9440?Redirect=Log&amp;logNo=221590746010</a></p></blockquote><blockquote><p>에브리타임 자동 크롤링 / 봇 시스템<br><a href="https://blog.naver.com/kbs4674?Redirect=Log&amp;logNo=221460241196" rel="external nofollow noopener noreferrer" target="_blank">https://blog.naver.com/kbs4674?Redirect=Log&amp;logNo=221460241196</a></p></blockquote><h2 id="cf-여러-페이지-블로그-게시물-가져오기"><a href="#cf-여러-페이지-블로그-게시물-가져오기" class="headerlink" title="cf) 여러 페이지 블로그 게시물 가져오기"></a>cf) 여러 페이지 블로그 게시물 가져오기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote_plus</span><br><span class="line"></span><br><span class="line">plusUrl = quote_plus(input(<span class="string">'검색어를 입력하세요 : '</span>))</span><br><span class="line">pageNum = <span class="number">1</span></span><br><span class="line">count = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">url = <span class="string">f'https://search.naver.com/search.naver?date_from=&amp;date_option=0&amp;date_to=&amp;dup_remove=1&amp;nso=&amp;post_blogurl=&amp;post_blogurl_without=&amp;query=<span class="subst">&#123;plusUrl&#125;</span>&amp;sm=tab_pge&amp;srchby=all&amp;st=sim&amp;where=post&amp;start=<span class="subst">&#123;pageNum&#125;</span>'</span></span><br><span class="line"></span><br><span class="line">i = input(<span class="string">'몇 페이지를 크롤링 할까요? : '</span>)</span><br><span class="line">lastPage = int(i) * <span class="number">10</span> - <span class="number">9</span></span><br><span class="line"><span class="keyword">while</span> pageNum &lt; lastPage + <span class="number">1</span>:</span><br><span class="line">    url = <span class="string">f'https://search.naver.com/search.naver?date_from=&amp;date_option=0&amp;date_to=&amp;dup_remove=1&amp;nso=&amp;post_blogurl=&amp;post_blogurl_without=&amp;query=<span class="subst">&#123;plusUrl&#125;</span>&amp;sm=tab_pge&amp;srchby=all&amp;st=sim&amp;where=post&amp;start=<span class="subst">&#123;pageNum&#125;</span>'</span></span><br><span class="line">    html = urlopen(url)</span><br><span class="line">    soup = bs(html, <span class="string">"html.parser"</span>)</span><br><span class="line">    </span><br><span class="line">    <span class="comment"># 조건에 맞는 파일을 다 출력해라</span></span><br><span class="line">    title = soup.find_all(class_=<span class="string">'sh_blog_title'</span>)</span><br><span class="line"></span><br><span class="line">    print(<span class="string">f'---<span class="subst">&#123;count&#125;</span>페이지 결과입니다 --------'</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> title:</span><br><span class="line">        print(i.attrs[<span class="string">'title'</span>])</span><br><span class="line">        print(i.attrs[<span class="string">'href'</span>])</span><br><span class="line">        print()</span><br><span class="line">    pageNum += <span class="number">10</span></span><br><span class="line">    count += <span class="number">1</span></span><br></pre></td></tr></table></figure><h2 id="예제-2-네이버-이미지-검색결과-저장하기"><a href="#예제-2-네이버-이미지-검색결과-저장하기" class="headerlink" title="예제 2) 네이버 이미지 검색결과 저장하기"></a>예제 2) 네이버 이미지 검색결과 저장하기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote_plus</span><br><span class="line"></span><br><span class="line">baseUrl = <span class="string">'https://search.naver.com/search.naver?where=image&amp;sm=tab_jum&amp;query='</span></span><br><span class="line">plusUrl = input(<span class="string">'검색어를 입력하세요 : '</span>)</span><br><span class="line"><span class="comment"># 한글 검색 자동 변환</span></span><br><span class="line">url = baseUrl + quote_plus(plusUrl)</span><br><span class="line">html = urlopen(url)</span><br><span class="line">soup = bs(html, <span class="string">"html.parser"</span>)</span><br><span class="line">img = soup.find_all(class_=<span class="string">'_img'</span>)</span><br><span class="line"></span><br><span class="line">n = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> img:</span><br><span class="line">    imgUrl = i[<span class="string">'data-source'</span>]</span><br><span class="line">    <span class="keyword">with</span> urlopen(imgUrl) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'./img/'</span> + plusUrl + str(n)+<span class="string">'.jpg'</span>,<span class="string">'wb'</span>) <span class="keyword">as</span> h: <span class="comment"># w - write b - binary</span></span><br><span class="line">            img = f.read()</span><br><span class="line">            h.write(img)</span><br><span class="line">    n += <span class="number">1</span></span><br><span class="line">print(<span class="string">'다운로드 완료'</span>)</span><br></pre></td></tr></table></figure><p><img alt data-src="/img/Django/%ED%81%AC%EB%A1%A4%EB%A7%81.PNG" class="lozad"></p><h2 id="예제-3-인스타그램-해시태그-검색-시-이미지-다운로드하기"><a href="#예제-3-인스타그램-해시태그-검색-시-이미지-다운로드하기" class="headerlink" title="예제 3) 인스타그램 해시태그 검색 시 이미지 다운로드하기"></a>예제 3) 인스타그램 해시태그 검색 시 이미지 다운로드하기</h2><p><code>Crome Driver 설치</code> <a href="https://chromedriver.chromium.org/downloads" rel="external nofollow noopener noreferrer" target="_blank">링크</a></p><blockquote><p>cf) Chrome 버전과 맞는 Crome Driver 설치를 해야합니다. (맞지 않으면 오류))</p></blockquote><p>instagram은 <code>javascript</code> 기반의 환경이므로 <code>BeautifulSoup</code>으로 크롤링이 불가합니다.</p><p>-&gt; <code>selenium</code> 사용</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install selenium</span><br></pre></td></tr></table></figure><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"><span class="keyword">from</span> selenium <span class="keyword">import</span> webdriver</span><br><span class="line"><span class="keyword">from</span> urllib.parse <span class="keyword">import</span> quote_plus</span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">baseUrl = <span class="string">'https://www.instagram.com/explore/tags/'</span></span><br><span class="line">plusUrl = input(<span class="string">'검색할 태그를 입력하세요 : '</span>)</span><br><span class="line"><span class="comment"># 한글 검색 자동 변환</span></span><br><span class="line">url = baseUrl + quote_plus(plusUrl)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Crome 드라이버 지정</span></span><br><span class="line">driver = webdriver.Chrome()</span><br><span class="line">driver.get(url)</span><br><span class="line"></span><br><span class="line"><span class="comment"># </span></span><br><span class="line">time.sleep(<span class="number">3</span>)</span><br><span class="line"></span><br><span class="line">html = driver.page_source</span><br><span class="line">soup = bs(html, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line">insta = soup.select(<span class="string">'.v1Nh3.kIKUG._bz0w'</span>) <span class="comment"># 태그</span></span><br><span class="line"><span class="comment"># print(insta[0]) # 한개 데이터만 가지고와라 </span></span><br><span class="line">n = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> insta:</span><br><span class="line">    print(<span class="string">'https://www.instagram.com'</span> + i.a[<span class="string">'href'</span>])</span><br><span class="line">    imgUrl = i.select_one(<span class="string">'.KL4Bh'</span>).img[<span class="string">'src'</span>]</span><br><span class="line">    <span class="keyword">with</span> urlopen(imgUrl) <span class="keyword">as</span> f:</span><br><span class="line">        <span class="keyword">with</span> open(<span class="string">'./img/'</span> + plusUrl + str(n)+<span class="string">'.jpg'</span>,<span class="string">'wb'</span>) <span class="keyword">as</span> h:</span><br><span class="line">            img = f.read()</span><br><span class="line">            h.write(img)</span><br><span class="line">    n += <span class="number">1</span></span><br><span class="line">    print(imgUrl)</span><br><span class="line">    print()</span><br><span class="line">driver.close()</span><br></pre></td></tr></table></figure><p><code>(저장된 이미지는 모자이크 처리 했습니다.)</code></p><h3 id="인스타그램에-해시태그로-현수쓰를-검색해서-나온-결과값입니다"><a href="#인스타그램에-해시태그로-현수쓰를-검색해서-나온-결과값입니다" class="headerlink" title="인스타그램에 해시태그로 #현수쓰를 검색해서 나온 결과값입니다"></a>인스타그램에 해시태그로 #현수쓰를 검색해서 나온 결과값입니다</h3><p><img alt data-src="/img/Django/%ED%81%AC%EB%A1%A4%EB%A7%811.PNG" class="lozad"></p>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://www.youtube.com/watch?v=OEf_UESjRxo&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;참고사이트&lt;/a&gt;&lt;/p&gt;
&lt;h1 id=&quot;파
      
    
    </summary>
    
    
      <category term="Crawling" scheme="https://khs9628.github.io/categories/Crawling/"/>
    
    
      <category term="Crawling" scheme="https://khs9628.github.io/tags/Crawling/"/>
    
  </entry>
  
  <entry>
    <title>(Web Crawling) - 웹페이지 긁어오기</title>
    <link href="https://khs9628.github.io/2019/09/29/Crawling2/"/>
    <id>https://khs9628.github.io/2019/09/29/Crawling2/</id>
    <published>2019-09-29T06:32:53.000Z</published>
    <updated>2019-09-29T11:57:55.730Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://webnautes.tistory.com/779?category=618796" rel="external nofollow noopener noreferrer" target="_blank">참고사이트</a></p><h1 id="파이썬-웹-크롤링-Web-Crawling-2-웹페이지-긁어오기"><a href="#파이썬-웹-크롤링-Web-Crawling-2-웹페이지-긁어오기" class="headerlink" title="파이썬 웹 크롤링(Web Crawling) - 2. 웹페이지 긁어오기"></a>파이썬 웹 크롤링(Web Crawling) - 2. 웹페이지 긁어오기</h1><h2 id="예제-1-웹-문서-전체-가져오기"><a href="#예제-1-웹-문서-전체-가져오기" class="headerlink" title="예제 1) 웹 문서 전체 가져오기"></a>예제 1) 웹 문서 전체 가져오기</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">$ pip install requests</span><br><span class="line">$ pip install beautifulsoup4</span><br></pre></td></tr></table></figure><p><code>request</code> : Requests를 사용하면 간단한 코드만으로 웹페이지의 html 소스를 가져올 수 있습니다.<br><code>beautifulsoup4</code> : 파이썬 웹 크롤링 라이브러리</p><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line">html = urlopen(<span class="string">"http://www.naver.com"</span>)  </span><br><span class="line">bsObject = BeautifulSoup(html, <span class="string">"html.parser"</span>) </span><br><span class="line">print(bsObject) <span class="comment"># 웹 문서 전체가 출력</span></span><br><span class="line"></span><br><span class="line">print(bsObject.head.title) <span class="comment"># &lt;title&gt;NAVER&lt;/title&gt; 출력</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> meta <span class="keyword">in</span> bsObject.head.find_all(<span class="string">'meta'</span>):</span><br><span class="line">    print(meta.get(<span class="string">'content'</span>)) <span class="comment"># 모든 메타 데이터의 내용 출력</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">print</span> (bsObject.head.find(<span class="string">"meta"</span>, &#123;<span class="string">"name"</span>:<span class="string">"description"</span>&#125;)) <span class="comment"># 원하는 태그의 내용 출력</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> link <span class="keyword">in</span> bsObject.find_all(<span class="string">'a'</span>):</span><br><span class="line">    print(link.text.strip(), link.get(<span class="string">'href'</span>)) <span class="comment">#a 태그로 둘러싸인 텍스트와 a 태그의 href 속성을 출력</span></span><br></pre></td></tr></table></figure><p><code>urlopen</code> 함수를 사용하여 원하는 주소로부터 웹페이지를 가져온 후,  <code>BeautifulSoup</code> 객체로 변환합니다. </p><p>BeautifulSoup 객체는 웹문서를 파싱한 상태입니다. 웹 문서가 태그 별로 분해되어 태그로 구성된 트리가 구성됩니다.<br>포함하는 태그가 부모가 되고 포함된 태그가 자식이 되어 트리를 구성하고 있습니다. </p><h2 id="예제-2-교보문고-베스트셀러-책이름-저자-가격-출력하기"><a href="#예제-2-교보문고-베스트셀러-책이름-저자-가격-출력하기" class="headerlink" title="예제 2) 교보문고 베스트셀러 책이름 , 저자 , 가격 출력하기"></a>예제 2) 교보문고 베스트셀러 책이름 , 저자 , 가격 출력하기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup <span class="keyword">as</span> bs</span><br><span class="line"></span><br><span class="line"><span class="comment"># 교보문고의 베스트셀러 웹페이지를 가져옵니다.</span></span><br><span class="line"></span><br><span class="line">html = urlopen(<span class="string">'http://www.kyobobook.co.kr/bestSellerNew/bestseller.laf'</span>)</span><br><span class="line">bsObject = bs(html, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 책의 상세 웹페이지 주소를 추출하여 리스트에 저장합니다.</span></span><br><span class="line">book_page_urls = []</span><br><span class="line"><span class="keyword">for</span> cover <span class="keyword">in</span> bsObject.find_all(<span class="string">'div'</span>, &#123;<span class="string">'class'</span>:<span class="string">'detail'</span>&#125;):</span><br><span class="line">    link = cover.select(<span class="string">'a'</span>)[<span class="number">0</span>].get(<span class="string">'href'</span>)</span><br><span class="line">    book_page_urls.append(link)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 메타 정보로부터 필요한 정보를 추출합니다.메타 정보에 없는 저자 정보만 따로 가져왔습니다.   </span></span><br><span class="line"><span class="keyword">for</span> index, book_page_url <span class="keyword">in</span> enumerate(book_page_urls):</span><br><span class="line">    html = urlopen(book_page_url)</span><br><span class="line">    bsObject = bs(html, <span class="string">"html.parser"</span>)</span><br><span class="line">    title = bsObject.find(<span class="string">'meta'</span>, &#123;<span class="string">'property'</span>:<span class="string">'rb:itemName'</span>&#125;).get(<span class="string">'content'</span>)</span><br><span class="line">    author = bsObject.select(<span class="string">'span.name a'</span>)[<span class="number">0</span>].text</span><br><span class="line">    image = bsObject.find(<span class="string">'meta'</span>, &#123;<span class="string">'property'</span>:<span class="string">'rb:itemImage'</span>&#125;).get(<span class="string">'content'</span>)</span><br><span class="line">    url = bsObject.find(<span class="string">'meta'</span>, &#123;<span class="string">'property'</span>:<span class="string">'rb:itemUrl'</span>&#125;).get(<span class="string">'content'</span>)</span><br><span class="line">    originalPrice = bsObject.find(<span class="string">'meta'</span>, &#123;<span class="string">'property'</span>: <span class="string">'rb:originalPrice'</span>&#125;).get(<span class="string">'content'</span>)</span><br><span class="line">    salePrice = bsObject.find(<span class="string">'meta'</span>, &#123;<span class="string">'property'</span>:<span class="string">'rb:salePrice'</span>&#125;).get(<span class="string">'content'</span>)</span><br><span class="line"></span><br><span class="line">    print(index+<span class="number">1</span>, title, author, image, url, originalPrice, salePrice)</span><br></pre></td></tr></table></figure><p><code>2019년 09월 29일 기준</code></p><blockquote><p>1 흔한남매. 2 흔한남매 (원작), 백난도 <a href="http://image.kyobobook.co.kr/images/book/large/454/l9791164132454.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/454/l9791164132454.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791164132454" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791164132454</a> 11000 9900<br>2 90년생이 온다 임홍택 <a href="http://image.kyobobook.co.kr/images/book/large/674/l9791188248674.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/674/l9791188248674.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791188248674" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791188248674</a> 14000 12600<br>3 여행의 이유 김영하 <a href="http://image.kyobobook.co.kr/images/book/large/972/l9788954655972.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/972/l9788954655972.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788954655972" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788954655972</a> 13500 12150<br>4 당신은 뇌를 고칠 수 있다 톰 오브라이언 <a href="http://image.kyobobook.co.kr/images/book/large/414/l9791135442414.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/414/l9791135442414.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791135442414" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791135442414</a> 19800 17820<br>5 혼자가 혼자에게 이병률 <a href="http://image.kyobobook.co.kr/images/book/large/026/l9791158161026.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/026/l9791158161026.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791158161026" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791158161026</a> 15500 13950<br>6 설민석의 삼국지. 1 설민석 <a href="http://image.kyobobook.co.kr/images/book/large/792/l9788933870792.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/792/l9788933870792.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788933870792" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788933870792</a> 22000 19800<br>7 베스트 셀프 마이크 베이어 <a href="http://image.kyobobook.co.kr/images/book/large/968/l9791135444968.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/968/l9791135444968.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791135444968" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791135444968</a> 18700 16830<br>8 추리 천재 엉덩이 탐정. 8: 괴도와 납치된 신부 사건 트롤 <a href="http://image.kyobobook.co.kr/images/book/large/914/l9791164131914.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/914/l9791164131914.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791164131914" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791164131914</a> 12000 10800<br>9 Go Go 카카오프렌즈. 10: 이집트 김미영 <a href="http://image.kyobobook.co.kr/images/book/large/369/l9788950983369.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/369/l9788950983369.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788950983369" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788950983369</a> 12000 10800<br>10 오늘은 이만 좀 쉴게요(한정판 스페셜 에디션) 손힘찬(오가타 마리토) <a href="http://image.kyobobook.co.kr/images/book/large/786/l9791162141786.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/786/l9791162141786.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791162141786" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791162141786</a> 13000 11700<br>11 지쳤거나 좋아하는 게 없거나 글배우 <a href="http://image.kyobobook.co.kr/images/book/large/706/l9791196797706.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/706/l9791196797706.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791196797706" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791196797706</a> 13500 12150<br>12 나는 나로 살기로 했다(200쇄 기념 스페셜 에디션) 김수현 <a href="http://image.kyobobook.co.kr/images/book/large/845/l9791187119845.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/845/l9791187119845.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791187119845" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791187119845</a> 13800 12420<br>13 빨강 머리 앤 루시 모드 몽고메리 <a href="http://image.kyobobook.co.kr/images/book/large/084/l9791164450084.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/084/l9791164450084.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791164450084" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791164450084</a> 16800 15120<br>14 직지. 1 김진명 <a href="http://image.kyobobook.co.kr/images/book/large/322/l9788965708322.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/322/l9788965708322.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788965708322" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788965708322</a> 14000 12600<br>15 어떻게 살아야 할지 막막한 너에게 우쥔 <a href="http://image.kyobobook.co.kr/images/book/large/901/l9791196756901.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/901/l9791196756901.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791196756901" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791196756901</a> 15500 13950<br>16 죽음의 에티켓 롤란트 슐츠 <a href="http://image.kyobobook.co.kr/images/book/large/741/l9791188331741.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/741/l9791188331741.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791188331741" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791188331741</a> 15800 14220<br>17 룬의 아이들 블러디드. 2 전민희 <a href="http://image.kyobobook.co.kr/images/book/large/556/l9788954657556.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/556/l9788954657556.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788954657556" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788954657556</a> 14500 13050<br>18 봉제인형 살인사건 다니엘 콜 <a href="http://image.kyobobook.co.kr/images/book/large/931/l9788998274931.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/931/l9788998274931.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788998274931" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9788998274931</a> 15000 13500<br>19 아주 작은 습관의 힘 제임스 클리어 <a href="http://image.kyobobook.co.kr/images/book/large/640/l9791162540640.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/640/l9791162540640.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791162540640" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791162540640</a> 16000 14400<br>20 돈의 감각 이명로(상승미소) <a href="http://image.kyobobook.co.kr/images/book/large/985/l9791162540985.jpg" rel="external nofollow noopener noreferrer" target="_blank">http://image.kyobobook.co.kr/images/book/large/985/l9791162540985.jpg</a> <a href="http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791162540985" rel="external nofollow noopener noreferrer" target="_blank">http://www.kyobobook.co.kr/product/detailViewKor.laf?mallGb=KOR&amp;ejkGb=KOR&amp;barcode=9791162540985</a> 16800 15120</p></blockquote><h2 id="예제-3-네이버-베스트셀러-책이름-저자-가격-출력하기"><a href="#예제-3-네이버-베스트셀러-책이름-저자-가격-출력하기" class="headerlink" title="예제 3) 네이버 베스트셀러 책이름, 저자, 가격 출력하기"></a>예제 3) 네이버 베스트셀러 책이름, 저자, 가격 출력하기</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> urllib.request <span class="keyword">import</span> urlopen</span><br><span class="line"><span class="keyword">from</span> bs4 <span class="keyword">import</span> BeautifulSoup</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 네이버의 베스트셀러 웹페이지를 가져옵니다.</span></span><br><span class="line">html = urlopen(<span class="string">'https://book.naver.com/bestsell/bestseller_list.nhn'</span>)</span><br><span class="line">bsObject = BeautifulSoup(html, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 책의 상세 웹페이지 주소를 추출하여 리스트에 저장합니다.</span></span><br><span class="line">book_page_urls = []</span><br><span class="line"><span class="keyword">for</span> index <span class="keyword">in</span> range(<span class="number">0</span>, <span class="number">25</span>):</span><br><span class="line">    dl_data = bsObject.find(<span class="string">'dt'</span>, &#123;<span class="string">'id'</span>:<span class="string">"book_title_"</span>+str(index)&#125;)</span><br><span class="line">    link = dl_data.select(<span class="string">'a'</span>)[<span class="number">0</span>].get(<span class="string">'href'</span>)</span><br><span class="line">    book_page_urls.append(link)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 메타 정보와 본문에서 필요한 정보를 추출합니다.  </span></span><br><span class="line"><span class="keyword">for</span> index, book_page_url <span class="keyword">in</span> enumerate(book_page_urls):</span><br><span class="line">    html = urlopen(book_page_url)</span><br><span class="line">    bsObject = BeautifulSoup(html, <span class="string">"html.parser"</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    title = bsObject.find(<span class="string">'meta'</span>, &#123;<span class="string">'property'</span>:<span class="string">'og:title'</span>&#125;).get(<span class="string">'content'</span>)</span><br><span class="line">    author = bsObject.find(<span class="string">'dt'</span>, text=<span class="string">'저자'</span>).find_next_siblings(<span class="string">'dd'</span>)[<span class="number">0</span>].text.strip()</span><br><span class="line">    image = bsObject.find(<span class="string">'meta'</span>, &#123;<span class="string">'property'</span>:<span class="string">'og:image'</span>&#125;).get(<span class="string">'content'</span>)</span><br><span class="line">    url = bsObject.find(<span class="string">'meta'</span>, &#123;<span class="string">'property'</span>:<span class="string">'og:url'</span>&#125;).get(<span class="string">'content'</span>)</span><br><span class="line"></span><br><span class="line">    dd = bsObject.find(<span class="string">'dt'</span>, text=<span class="string">'가격'</span>).find_next_siblings(<span class="string">'dd'</span>)[<span class="number">0</span>]</span><br><span class="line">    salePrice = dd.select(<span class="string">'div.lowest strong'</span>)[<span class="number">0</span>].text</span><br><span class="line">    originalPrice = dd.select(<span class="string">'div.lowest span.price'</span>)[<span class="number">0</span>].text</span><br><span class="line"></span><br><span class="line">    print(index+<span class="number">1</span>, title, author, image, url, originalPrice, salePrice)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://webnautes.tistory.com/779?category=618796&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;참고사이트&lt;/a&gt;&lt;/p&gt;
&lt;h1
      
    
    </summary>
    
    
      <category term="Crawling" scheme="https://khs9628.github.io/categories/Crawling/"/>
    
    
      <category term="Crawling" scheme="https://khs9628.github.io/tags/Crawling/"/>
    
  </entry>
  
  <entry>
    <title>(Web Crawling) - Basic</title>
    <link href="https://khs9628.github.io/2019/09/29/Crawling1/"/>
    <id>https://khs9628.github.io/2019/09/29/Crawling1/</id>
    <published>2019-09-29T06:32:52.000Z</published>
    <updated>2019-09-29T11:54:36.118Z</updated>
    
    <content type="html"><![CDATA[<p><a href="https://twpower.github.io/84-how-to-use-beautiful-soup" rel="external nofollow noopener noreferrer" target="_blank">참고사이트</a></p><h1 id="파이썬-웹-크롤링-Web-Crawling-Basic"><a href="#파이썬-웹-크롤링-Web-Crawling-Basic" class="headerlink" title="파이썬 웹 크롤링(Web Crawling) - Basic"></a>파이썬 웹 크롤링(Web Crawling) - Basic</h1><p><code>웹 크롤러(Web Crawler)</code>는 자동화된 방식으로 웹 페이지들을 탐색하는 컴퓨터 프로그램입니다.<br>웹 크롤러가 하는 작업을 <code>웹 크롤링(Web Crawling)</code>이라고 부릅니다. </p><h2 id="Beautiful-Soup"><a href="#Beautiful-Soup" class="headerlink" title="Beautiful Soup"></a>Beautiful Soup</h2><p><strong>기본 세팅</strong><br>기본적으로 패키지 import를 통해서 가져오며 html파일을 가져오거나 <code>urllib</code> 혹은 <code>requests</code> 모듈을 통해서 직접 웹에서 소스를 가져올 수도 있습니다.</p><h2 id="주요-함수"><a href="#주요-함수" class="headerlink" title="주요 함수"></a>주요 함수</h2><h3 id="find-및-find-all-함수"><a href="#find-및-find-all-함수" class="headerlink" title="find() 및 find_all()함수"></a>find() 및 find_all()함수</h3><ul><li><p>함수 인자로는 찾고자 하는 태그의 이름, 속성 기타 등등이 들어갑니다.</p></li><li><p>find_all(name, attrs, recursive, string, limit, **kwargs)<br>  find_all() : 해당 조건에 맞는 모든 태그들을 가져옵니다.</p>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">html = urlopen(<span class="string">'url 주소'</span>) </span><br><span class="line">soup = BeautifulSoup(html, <span class="string">'html.parser'</span>)</span><br><span class="line">all_divs = soup.find_all(<span class="string">"div"</span>)</span><br><span class="line">print(all_divs)</span><br><span class="line">------------------</span><br><span class="line"><span class="comment"># find_all('태그명', &#123;'속성명' : '값' ...&#125;)</span></span><br><span class="line">ex_id_divs = soup.find(<span class="string">'div'</span>, &#123;<span class="string">'id'</span> : <span class="string">'ex_id'</span>&#125;)</span><br><span class="line">print(ex_id_divs)</span><br></pre></td></tr></table></figure></li><li><p>find(name, attrs, recursive, string, **kwargs)<br>  find() : 해당 조건에 맞는 하나의 태그를 가져온다. 중복이면 가장 첫 번째 태그를 가져온다.</p>  <figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">html = urlopen(<span class="string">'url 주소'</span>) </span><br><span class="line">soup = BeautifulSoup(fp, <span class="string">'html.parser'</span>)</span><br><span class="line">ex_id_divs = soup.find(<span class="string">'div'</span>, &#123;<span class="string">'id'</span> : <span class="string">'ex_id'</span>&#125;)</span><br><span class="line">print(ex_id_divs)</span><br><span class="line">-----------------</span><br><span class="line"><span class="comment">#find('태그명', &#123;'속성명' : '값' ...&#125;)</span></span><br><span class="line">first_div = soup.find(<span class="string">"div"</span>)</span><br><span class="line">print(first_div)</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      
      
        &lt;p&gt;&lt;a href=&quot;https://twpower.github.io/84-how-to-use-beautiful-soup&quot; rel=&quot;external nofollow noopener noreferrer&quot; target=&quot;_blank&quot;&gt;참고사이트&lt;/a&gt;&lt;/p
      
    
    </summary>
    
    
      <category term="Crawling" scheme="https://khs9628.github.io/categories/Crawling/"/>
    
    
      <category term="Crawling" scheme="https://khs9628.github.io/tags/Crawling/"/>
    
  </entry>
  
</feed>
