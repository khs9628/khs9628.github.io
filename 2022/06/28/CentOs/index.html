<!DOCTYPE html><html lang="en" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no"><title>CentOs 설정 | 현수쓰</title><meta name="keywords" content="infra"><meta name="author" content="현수쓰"><meta name="copyright" content="현수쓰"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="CentOs 설정1. NAT 설정123456789101112131415161718# [root@localhost]$ sudo su# 네트워크설정확인 $ ip addr show # ens33 실행$ ifup ens33# 포트 확인$ ping 8.8.8.8# 설정 저장$ vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;">
<meta property="og:type" content="article">
<meta property="og:title" content="CentOs 설정">
<meta property="og:url" content="https://khs9628.github.io/2022/06/28/CentOs/index.html">
<meta property="og:site_name" content="현수쓰">
<meta property="og:description" content="CentOs 설정1. NAT 설정123456789101112131415161718# [root@localhost]$ sudo su# 네트워크설정확인 $ ip addr show # ens33 실행$ ifup ens33# 포트 확인$ ping 8.8.8.8# 설정 저장$ vi &#x2F;etc&#x2F;sysconfig&#x2F;network-scripts&#x2F;ifcfg-ens33&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://khs9628.github.io/img/logo/CentOs.png">
<meta property="article:published_time" content="2022-06-28T05:58:39.000Z">
<meta property="article:modified_time" content="2022-07-07T00:55:03.949Z">
<meta property="article:author" content="현수쓰">
<meta property="article:tag" content="infra">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://khs9628.github.io/img/logo/CentOs.png"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="https://khs9628.github.io/2022/06/28/CentOs/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: 'Copy successfully',
    error: 'Copy error',
    noSupport: 'The browser does not support'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: 'Just',
    min: 'minutes ago',
    hour: 'hours ago',
    day: 'days ago',
    month: 'months ago'
  },
  copyright: undefined,
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/flickr-justified-gallery@2/dist/fjGallery.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isAnchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: 'CentOs 설정',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2022-07-07 09:55:03'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if(/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 6.0.0"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.png" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data is-center"><div class="data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">118</div></a></div><div class="data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">24</div></a></div><div class="data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">19</div></a></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> PortPolio</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/logo/CentOs.png')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">현수쓰</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> Home</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> Archives</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> Tags</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> Categories</span></a></div><div class="menus_item"><a class="site-page" href="/links/"><i class="fa-fw fa fa-link"></i><span> PortPolio</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">CentOs 설정</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">Created</span><time class="post-meta-date-created" datetime="2022-06-28T05:58:39.000Z" title="Created 2022-06-28 14:58:39">2022-06-28</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">Updated</span><time class="post-meta-date-updated" datetime="2022-07-07T00:55:03.949Z" title="Updated 2022-07-07 09:55:03">2022-07-07</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/infra/">infra</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="CentOs 설정"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">Post View:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h1 id="CentOs-설정"><a href="#CentOs-설정" class="headerlink" title="CentOs 설정"></a>CentOs 설정</h1><h2 id="1-NAT-설정"><a href="#1-NAT-설정" class="headerlink" title="1. NAT 설정"></a>1. NAT 설정</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su</span><br><span class="line"></span><br><span class="line"><span class="comment"># 네트워크설정확인 </span></span><br><span class="line">$ ip addr show </span><br><span class="line"></span><br><span class="line"><span class="comment"># ens33 실행</span></span><br><span class="line">$ ifup ens33</span><br><span class="line"></span><br><span class="line"><span class="comment"># 포트 확인</span></span><br><span class="line">$ ping 8.8.8.8</span><br><span class="line"></span><br><span class="line"><span class="comment"># 설정 저장</span></span><br><span class="line">$ vi /etc/sysconfig/network-scripts/ifcfg-ens33</span><br><span class="line">==========================</span><br><span class="line">ONBOOT=yes</span><br><span class="line">==========================</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p><code>cf) yum(Yellodog Update Modified)이란?</code><br>yum이란 Yellodog Update Modified의 약자로 레드햇 계열의 리눅스 배포판에서 사용하는 프로그램(패키지) 설치 관리 도구 입니다. 명령어 이름으로만 봤을때는 전혀 기능과 관련이 없어보이기도 합니다. 그러나 yum은 rpm 명령어가 해결하지 못했던 패키지 의존성 문제를 해결한 똑똑한 패키지 관리 툴입니다. yum 명령어를 사용하면 패키지 의존성 문제를 자동으로 처리하면서 설치, 업데이트, 삭제를 진행할 수 있습니다.</p>
<h1 id="GitLab-설치-및-설정"><a href="#GitLab-설치-및-설정" class="headerlink" title="GitLab 설치 및 설정"></a>GitLab 설치 및 설정</h1><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># [root@localhost]$</span></span><br><span class="line">$ sudo su</span><br><span class="line"></span><br><span class="line">$ yum update</span><br><span class="line"></span><br><span class="line"><span class="comment"># 공용 라이브러리 다운로드 및 방화벽 오픈</span></span><br><span class="line">$ yum install curl policycoreutils openssh-server openssh-clients </span><br><span class="line">$ systemctl <span class="built_in">enable</span> sshd </span><br><span class="line">$ systemctl start sshd </span><br><span class="line">$ yum install postfix </span><br><span class="line">$ systemctl <span class="built_in">enable</span> postfix </span><br><span class="line">$ systemctl start postfix </span><br><span class="line">$ firewall-cmd --permanent --add-service=http </span><br><span class="line">$ systemctl reload firewalld</span><br><span class="line"></span><br><span class="line"><span class="comment"># gitlab 다운로드</span></span><br><span class="line">$ curl -sS https://packages.gitlab.com/install/repositories/gitlab/gitlab-ce/script.rpm.sh | sudo bash</span><br><span class="line">$ yum install gitlab-ce</span><br><span class="line"></span><br><span class="line"><span class="comment"># 포트 개방</span></span><br><span class="line">$ firewall-cmd --permanent --add-port=71/tcp </span><br><span class="line">$ firewall-cmd --reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># 설정정보 변경</span></span><br><span class="line">$  vi /etc/gitlab/gitlab.rb</span><br><span class="line"></span><br><span class="line"><span class="comment"># /etc/gitlab/gitlab.rb</span></span><br><span class="line">=================================================</span><br><span class="line">external_url <span class="string">&#x27;http://127.0.0.1:71&#x27;</span></span><br><span class="line">=================================================</span><br><span class="line"></span><br><span class="line"><span class="comment"># gitlab configure</span></span><br><span class="line">$ gitlab-ctl reconfigure</span><br><span class="line">$ gitlab-ctl restart </span><br><span class="line">$ gitlab-ctl status</span><br></pre></td></tr></table></figure>

<h2 id="ROOT-계정-가져오기"><a href="#ROOT-계정-가져오기" class="headerlink" title="ROOT 계정 가져오기"></a>ROOT 계정 가져오기</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ gitlab-rails console -e production</span><br><span class="line"></span><br><span class="line">==================================================</span><br><span class="line">irb(main):001:0&gt; user = User.where(id:1).first</span><br><span class="line">=&gt; #&lt;User id:1 @root&gt;</span><br><span class="line">irb(main):002:0&gt;</span><br><span class="line">irb(main):003:0&gt; user.password=&#x27;qwer1234&#x27;</span><br><span class="line">=&gt; &quot;qwer1234&quot;</span><br><span class="line">irb(main):004:0&gt; user.password_confirmation=&#x27;qwer1234&#x27;</span><br><span class="line">=&gt; &quot;qwer1234&quot;</span><br><span class="line">irb(main):005:0&gt; user.save</span><br><span class="line">=&gt; true</span><br><span class="line">=======================================================</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h1 id="Jenkins-설치-및-설정"><a href="#Jenkins-설치-및-설정" class="headerlink" title="Jenkins 설치 및 설정"></a>Jenkins 설치 및 설정</h1><h2 id="1-JDK-설치"><a href="#1-JDK-설치" class="headerlink" title="1. JDK 설치"></a>1. JDK 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># [root@localhost]$</span></span><br><span class="line">$ sudo su</span><br><span class="line"></span><br><span class="line">$ yum install java-1.8.0-openjdk-devel.x86_64</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">which</span> javac <span class="comment">#/usr/bin/javac</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 해당 링크 위치 가져오기</span></span><br><span class="line">$ readlink -f /usr/bin/javac <span class="comment"># /usr/lib/jvm/java-1.8.0-openjdk-1.8.0.252.b09-2.el7_8.x86_64/bin/javac</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># JAVA_HOME 설정</span></span><br><span class="line">$ vi /etc/profile</span><br><span class="line"></span><br><span class="line">=================================================================================</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.332.b09-1.el7_9.x86_64</span><br><span class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH </span><br><span class="line">=================================================================================</span><br><span class="line"></span><br><span class="line"><span class="comment"># 적용</span></span><br><span class="line">$ <span class="built_in">source</span> /etc/profile</span><br><span class="line"></span><br><span class="line"><span class="comment"># 환경변수 확인</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$JAVA_HOME</span> <span class="comment">#/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.332.b09-1.el7_9.x86_64</span></span><br></pre></td></tr></table></figure>

<h2 id="2-Maven-설치"><a href="#2-Maven-설치" class="headerlink" title="2. Maven 설치"></a>2. Maven 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## [root@localhost]$</span></span><br><span class="line">$ sudo su</span><br><span class="line"></span><br><span class="line"><span class="comment"># mavan 설치</span></span><br><span class="line">$ yum install maven</span><br><span class="line"></span><br><span class="line"><span class="comment"># 버전확인</span></span><br><span class="line">$ mvn -version</span><br><span class="line"></span><br><span class="line"><span class="comment"># maven 위치확인</span></span><br><span class="line">$ whereis maven <span class="comment">#maven: /etc/maven /usr/share/maven</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># MAVEN_HOME 설정</span></span><br><span class="line">$ vi /etc/profile</span><br><span class="line"></span><br><span class="line">=================================================================================</span><br><span class="line"><span class="built_in">export</span> JAVA_HOME=/usr/lib/jvm/java-1.8.0-openjdk-1.8.0.332.b09-1.el7_9.x86_64</span><br><span class="line">PATH=<span class="variable">$PATH</span>:<span class="variable">$JAVA_HOME</span>/bin:<span class="variable">$MAVEN_HOME</span>/bin</span><br><span class="line"><span class="built_in">export</span> PATH USER LOGNAME MAIL HOSTNAME HISTSIZE HISTCONTROL</span><br><span class="line"><span class="built_in">export</span> MAVEN_HOME=/usr/share/maven</span><br><span class="line">=================================================================================</span><br><span class="line"></span><br><span class="line"><span class="comment"># 환경변수 확인</span></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$MAVEN_HOME</span> <span class="comment">#/usr/share/maven</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>


<h2 id="3-Jenkins-설치"><a href="#3-Jenkins-설치" class="headerlink" title="3. Jenkins 설치"></a>3. Jenkins 설치</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]$</span></span><br><span class="line">$ sudo su</span><br><span class="line"></span><br><span class="line"><span class="comment"># get 설치</span></span><br><span class="line">$ yum install wget</span><br><span class="line"></span><br><span class="line"><span class="comment"># 라이브러리 가져오기</span></span><br><span class="line">$ wget -O /etc/yum.repos.d/jenkins.repo https://pkg.jenkins.io/redhat-stable/jenkins.repo</span><br><span class="line">$ rpm --import https://pkg.jenkins.io/redhat-stable/jenkins.io.key</span><br><span class="line"></span><br><span class="line"><span class="comment"># 젠킨스 설치</span></span><br><span class="line">$ yum install jenkins</span><br><span class="line"></span><br><span class="line"><span class="comment"># 포트설정</span></span><br><span class="line">$ vi /etc/sysconfig/jenkins </span><br><span class="line"></span><br><span class="line">========================</span><br><span class="line">JENKINS_PORT=<span class="string">&quot;7072&quot;</span></span><br><span class="line">========================</span><br><span class="line"></span><br><span class="line"><span class="comment"># 방화벽 오픈</span></span><br><span class="line">$ firewall-cmd --permanent --add-port=7072/tcp </span><br><span class="line">$ firewall-cmd --reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># jenkins 시작</span></span><br><span class="line">$ sudo systemctl start jenkins</span><br><span class="line"></span><br><span class="line"><span class="comment"># 만약 오류가 난다면</span></span><br><span class="line">$ reboot</span><br><span class="line"></span><br><span class="line"><span class="comment"># 만약 포트가 안바뀌면 해당위치에 파일을 우선적을 보기 때문에 해당 파일 수정</span></span><br><span class="line">$ vi /usr/lib/systemd/system/jenkins.service</span><br><span class="line">========================</span><br><span class="line">JENKINS_PORT=<span class="string">&quot;7072&quot;</span></span><br><span class="line">========================</span><br><span class="line"></span><br><span class="line"><span class="comment"># 재시작</span></span><br><span class="line">$ systemctl restart jenkins</span><br><span class="line"></span><br><span class="line"><span class="comment"># 시작 한다면 자동실행 적용</span></span><br><span class="line">$ systemctl <span class="built_in">enable</span> </span><br></pre></td></tr></table></figure>


<h2 id="4-Jenkins-세부설정"><a href="#4-Jenkins-세부설정" class="headerlink" title="4. Jenkins 세부설정"></a>4. Jenkins 세부설정</h2><h3 id="4-1-해당-포트의-url-접속"><a href="#4-1-해당-포트의-url-접속" class="headerlink" title="4-1. 해당 포트의 url 접속"></a>4-1. 해당 포트의 url 접속</h3><p>http://${ip}:7072/</p>
<h3 id="4-2-계정-pw-입력"><a href="#4-2-계정-pw-입력" class="headerlink" title="4-2. 계정 pw 입력"></a>4-2. 계정 pw 입력</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># admin계정 접속</span></span><br><span class="line">$ cat /var/lib/jenkins/secrets/initialAdminPassword</span><br></pre></td></tr></table></figure>

<h3 id="4-3-라이브러리-다운로드"><a href="#4-3-라이브러리-다운로드" class="headerlink" title="4-3. 라이브러리 다운로드"></a>4-3. 라이브러리 다운로드</h3><h3 id="4-4-Create-First-Admin-User"><a href="#4-4-Create-First-Admin-User" class="headerlink" title="4-4. Create First Admin User"></a>4-4. Create First Admin User</h3><h2 id="5-Nexus-구축"><a href="#5-Nexus-구축" class="headerlink" title="5. Nexus 구축"></a>5. Nexus 구축</h2><h3 id="5-1-설치"><a href="#5-1-설치" class="headerlink" title="5-1. 설치"></a>5-1. 설치</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]$</span></span><br><span class="line">$ sudo su</span><br><span class="line"></span><br><span class="line"><span class="comment"># nexus 계정 설정</span></span><br><span class="line">$ useradd nexus</span><br><span class="line"></span><br><span class="line"><span class="comment"># 넥서스 계정의 비밀번호 추가</span></span><br><span class="line">$ <span class="built_in">exit</span>              <span class="comment">#nexus계정 나오기</span></span><br><span class="line">$ passwd nexus      <span class="comment">#passwd변경</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># [nexus@localhost]$</span></span><br><span class="line">$ su nexus</span><br><span class="line"></span><br><span class="line"><span class="comment"># 라이브러리파일 가져오기 (nexus3 버전)</span></span><br><span class="line">$ wget https://download.sonatype.com/nexus/3/latest-unix.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 압축해제</span></span><br><span class="line">$ tar -zxvf ./latest-unix.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># 설정변경1 사용 user 변경(version은 알아서 바꾸시면 됩니다.)</span></span><br><span class="line">$ vi /home/nexus/nexus-<span class="variable">$&#123;version&#125;</span>/bin/nexus.rc</span><br><span class="line"></span><br><span class="line">==========================</span><br><span class="line">run_as_user=<span class="string">&quot;nexus&quot;</span> <span class="comment">#nexus user가 실행하기 떄문에 해당사항 변경</span></span><br><span class="line">==========================</span><br><span class="line"></span><br><span class="line"><span class="comment"># 설정변경2</span></span><br><span class="line">$ vi /home/nexus/nexus-<span class="variable">$&#123;version&#125;</span>/etc/nexus-default.properties</span><br><span class="line"></span><br><span class="line">=======================</span><br><span class="line">application-port=7071   <span class="comment">#7071포트로 변경</span></span><br><span class="line">=======================</span><br><span class="line"></span><br><span class="line"><span class="comment"># nexus 시작</span></span><br><span class="line">$ /home/nexus/nexus-<span class="variable">$&#123;version&#125;</span>/bin/nexus start</span><br><span class="line"></span><br><span class="line"><span class="comment"># log 확인방법</span></span><br><span class="line">$ tail -f /home/nexus/sonatype-work/nexus3/<span class="built_in">log</span>/nexus.log</span><br><span class="line"></span><br><span class="line"><span class="comment"># 방화벽 오픈</span></span><br><span class="line">$ firewall-cmd --permanent --add-port=7072/tcp </span><br><span class="line">$ firewall-cmd --reload</span><br><span class="line"></span><br><span class="line"><span class="comment"># 초기비밀번호 catch!</span></span><br><span class="line">$ cat /home/nexus/sonatype-work/nexus3/admin.password</span><br></pre></td></tr></table></figure>


<p><code>cf) alias로 Nexus Start 하는 법</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># [nexus@localhost]$</span></span><br><span class="line">$ su nexus</span><br><span class="line"></span><br><span class="line"><span class="comment"># 사용자 디렉터리로 이동</span></span><br><span class="line">$ <span class="built_in">cd</span> ~      </span><br><span class="line"></span><br><span class="line"><span class="comment"># bashrc에 alias 추가      </span></span><br><span class="line">$ vi ./.bashrc            </span><br><span class="line"></span><br><span class="line">===============</span><br><span class="line"><span class="comment"># User specific aliases and functions</span></span><br><span class="line"><span class="built_in">alias</span> nexusStart=<span class="string">&#x27;/home/nexus/nexus-3.40.1-01/bin/nexus start&#x27;</span></span><br><span class="line">=================</span><br><span class="line"></span><br><span class="line"><span class="comment"># 적용</span></span><br><span class="line">$ <span class="built_in">source</span> ./.bashrc</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">alias</span>  <span class="comment"># 확인</span></span><br><span class="line"></span><br><span class="line">$ nexusStart              <span class="comment"># nexus 실행</span></span><br></pre></td></tr></table></figure>


<h2 id="6-Sample-프로젝트-서버-이동-및-gitlab에-push"><a href="#6-Sample-프로젝트-서버-이동-및-gitlab에-push" class="headerlink" title="6. Sample 프로젝트 서버 이동 및 gitlab에 push"></a>6. Sample 프로젝트 서버 이동 및 gitlab에 push</h2><h3 id="참고사항"><a href="#참고사항" class="headerlink" title="참고사항"></a>참고사항</h3><h3 id="참고-project"><a href="#참고-project" class="headerlink" title="참고 project"></a><a target="_blank" rel="noopener" href="https://github.com/khs9628/git-jenkins-sample">참고 project</a></h3><ul>
<li>위 참고 프로젝트를 이용해 배포 테스트를 진행하겟슴당</li>
<li>해당 프로젝트를 받고 구축한 서버의 GitLab에 올려보겟슴다.</li>
</ul>
<h3 id="6-1-위-참고-URL을-다운로드-후-FTP를-통해-해당-서버에-위치에-저장시킨다"><a href="#6-1-위-참고-URL을-다운로드-후-FTP를-통해-해당-서버에-위치에-저장시킨다" class="headerlink" title="6-1. 위 참고 URL을 다운로드 후 FTP를 통해 해당 서버에 위치에 저장시킨다."></a>6-1. 위 참고 URL을 다운로드 후 FTP를 통해 해당 서버에 위치에 저장시킨다.</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="comment"># [khs9628@localhost]$</span></span><br><span class="line">$ su khs9628 <span class="comment">#사용자계정</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> ~                 <span class="comment"># 사용자의 home diretory로 이동</span></span><br><span class="line">$ mkdir workspace      <span class="comment"># workspace라는 폴더생성</span></span><br><span class="line">$ <span class="built_in">cd</span> workspace         <span class="comment"># workspace폴더로 이동</span></span><br></pre></td></tr></table></figure>
<h3 id="6-2-FTP를-통해-해당-서버에-위치에-프로젝트-copy"><a href="#6-2-FTP를-통해-해당-서버에-위치에-프로젝트-copy" class="headerlink" title="6-2. FTP를 통해 해당 서버에 위치에 프로젝트 copy"></a>6-2. FTP를 통해 해당 서버에 위치에 프로젝트 copy</h3><h3 id="6-3-깃-설치-후-해당-파일-gitlab-서버에-업로드"><a href="#6-3-깃-설치-후-해당-파일-gitlab-서버에-업로드" class="headerlink" title="6-3 깃 설치 후 해당 파일 gitlab 서버에 업로드"></a>6-3 깃 설치 후 해당 파일 gitlab 서버에 업로드</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">$ sudo yum install git <span class="comment"># git 설치</span></span><br><span class="line">$ <span class="built_in">cd</span> gitlab-sample-project <span class="comment"># 프로젝트 경로로 이동</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 깃 repo 생성 및 업로드</span></span><br><span class="line">$ rm -rf ./.git</span><br><span class="line"></span><br><span class="line">$ git init</span><br><span class="line">$ git remote add origin <span class="string">&quot;<span class="variable">$&#123;gitlab_clone_url&#125;</span>&quot;</span></span><br><span class="line">$ git add .</span><br><span class="line">$ git commit -m <span class="string">&quot;sample_project_upload&quot;</span></span><br><span class="line">$ git push origin</span><br></pre></td></tr></table></figure>

<h3 id="7-Nexus에-Repo-생성-후-Maven-라이브러리-업로드"><a href="#7-Nexus에-Repo-생성-후-Maven-라이브러리-업로드" class="headerlink" title="7. Nexus에 Repo 생성 후 Maven 라이브러리 업로드"></a>7. Nexus에 Repo 생성 후 Maven 라이브러리 업로드</h3><p><a target="_blank" rel="noopener" href="https://m.blog.naver.com/PostView.naver?blogId=kimdongy1000&logNo=222611687621&navType=by">참고블로그-SH놀이터</a></p>
<h3 id="7-1-참고-Maven-Repository-다운로드-및-압축"><a href="#7-1-참고-Maven-Repository-다운로드-및-압축" class="headerlink" title="7-1. 참고 Maven Repository 다운로드 및 압축"></a>7-1. 참고 Maven Repository 다운로드 및 압축</h3><h3 id="참고-Maven-Repository"><a href="#참고-Maven-Repository" class="headerlink" title="참고 Maven Repository"></a><a target="_blank" rel="noopener" href="https://github.com/khs9628/Maven-Repository">참고 Maven Repository</a></h3><ul>
<li>위 참고 Maven Repository는 위 참고 project에서 사용하고 있는 라이브러리가 모여 있는 폴더입니다.</li>
<li>참고 프로젝트를 이용하지 않고 개개인 프로젝트를 사용한다면 Maven Setting을 따로 하지 않은 경우 <code>C:\Users\$&#123;사용자&#125;\.m2\repository</code> 위치에 저장되는 파일을 압축해서 올려주시면 되겠슴다.</li>
</ul>
<h3 id="7-2-서버에-nexus-repository-디렉터리-생성-gt-파일-이동-gt-unzip"><a href="#7-2-서버에-nexus-repository-디렉터리-생성-gt-파일-이동-gt-unzip" class="headerlink" title="7-2. 서버에 nexus repository 디렉터리 생성 &gt; 파일 이동 &gt; unzip"></a>7-2. 서버에 nexus repository 디렉터리 생성 &gt; 파일 이동 &gt; unzip</h3><h4 id="repo-생성-디렉터리-생성"><a href="#repo-생성-디렉터리-생성" class="headerlink" title="repo 생성 (디렉터리 생성)"></a>repo 생성 (디렉터리 생성)</h4><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [nexus@localhost]$</span></span><br><span class="line">$ su nexus <span class="comment">#user 변경</span></span><br><span class="line">$ <span class="built_in">cd</span> /home/nexus/sonatype-work/nexus3  <span class="comment">#nexus 경로로 이동</span></span><br><span class="line">$ mkdir repository <span class="comment">#임시 maven repository 디렉터리 생성</span></span><br><span class="line">$ <span class="built_in">cd</span> repository</span><br></pre></td></tr></table></figure>

<h4 id="파일-복사-FTP를-이용해서"><a href="#파일-복사-FTP를-이용해서" class="headerlink" title="파일 복사 (FTP를 이용해서)"></a>파일 복사 (FTP를 이용해서)</h4><h3 id="7-3-nexus-repository-디렉터리에-압축해제"><a href="#7-3-nexus-repository-디렉터리에-압축해제" class="headerlink" title="7-3. nexus repository 디렉터리에 압축해제"></a>7-3. nexus repository 디렉터리에 압축해제</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su</span><br><span class="line"></span><br><span class="line">$ yum install unzip</span><br><span class="line"></span><br><span class="line"><span class="comment"># /home/nexus/sonatype-work/nexus3/repository</span></span><br><span class="line">$ unzip ./repository.zip</span><br></pre></td></tr></table></figure>

<h3 id="7-4-Nexus에-custom-repository-설정"><a href="#7-4-Nexus에-custom-repository-설정" class="headerlink" title="7-4. Nexus에 custom repository 설정"></a>7-4. Nexus에 custom repository 설정</h3><ul>
<li>관리자 계정으로 접속해서 create repository 설치 </li>
<li>maven2 (hosted) 를 클릭 &gt; 이름설정 (custom) </li>
<li>Deployment policy 에서 Allow readploy 로 선택 </li>
<li>create repository 를 클릭</li>
</ul>
<p><img src="/img/infra/Nexus_Repo.PNG" alt="img"></p>
<h3 id="7-5-maven-repository-upload-script-생성-및-custom-repository-업로드"><a href="#7-5-maven-repository-upload-script-생성-및-custom-repository-업로드" class="headerlink" title="7-5. maven repository upload script 생성 및 custom repository 업로드"></a>7-5. maven repository upload script 생성 및 custom repository 업로드</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> /home/nexus/sonatype-work/nexus3/repository</span><br><span class="line">$ vi mavenimport.sh</span><br><span class="line"></span><br><span class="line">===================================================</span><br><span class="line">REPO_URL=<span class="string">&quot;http://<span class="variable">$&#123;IP&#125;</span>&#125;/repository/<span class="variable">$&#123;repo&#125;</span>/&quot;</span></span><br><span class="line">USERNAME=<span class="string">&quot;admin&quot;</span>        <span class="comment"># nexus id</span></span><br><span class="line">PASSWORD=<span class="string">&quot;qwer1234&quot;</span>     <span class="comment"># nexus pw</span></span><br><span class="line"></span><br><span class="line">find . -<span class="built_in">type</span> f -not -path <span class="string">&#x27;./mavenimport\.sh*&#x27;</span> -not -path <span class="string">&#x27;*/\.*&#x27;</span> -not -path <span class="string">&#x27;*/\^archetype\-catalog\.xml*&#x27;</span> -not -path <span class="string">&#x27;*/\^maven\-metadata\-local*\.xml&#x27;</span> -not -path <span class="string">&#x27;*/\^maven\-metadata\-deployment*\.xml&#x27;</span> | sed <span class="string">&quot;s|^\./||&quot;</span> | xargs -I <span class="string">&#x27;&#123;&#125;&#x27;</span> curl -u <span class="string">&quot;<span class="variable">$USERNAME</span>:<span class="variable">$PASSWORD</span>&quot;</span> -X PUT -v -T &#123;&#125; <span class="variable">$&#123;REPO_URL&#125;</span>/&#123;&#125; ;</span><br><span class="line">====================================================</span><br><span class="line"></span><br><span class="line">$ chmod 755 mavenimport.sh  <span class="comment"># 권한 변경</span></span><br><span class="line">$ ./mavenimport.sh     <span class="comment"># 스크립트 실행</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="7-6-Maven-환경설정-파일-변경"><a href="#7-6-Maven-환경설정-파일-변경" class="headerlink" title="7-6. Maven 환경설정 파일 변경"></a>7-6. Maven 환경설정 파일 변경</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su</span><br><span class="line"></span><br><span class="line">$ <span class="built_in">echo</span> <span class="variable">$&#123;MAVEN_HOME&#125;</span>            <span class="comment"># 환경변수로 등록된 MAVEN_HOME(/usr/share/maven)</span></span><br><span class="line">$ <span class="built_in">cd</span> /usr/share/maven/conf      <span class="comment"># 원래는 이경로에 있는 settings.xml 기준으로 세팅되야하지만 새로 생성해서 repo 구축</span></span><br><span class="line"></span><br><span class="line">$ <span class="built_in">cd</span> ~                          </span><br><span class="line">$ mkdir maven</span><br><span class="line">$ <span class="built_in">cd</span> maven</span><br><span class="line">$ vi settings.xml</span><br><span class="line"></span><br><span class="line">===========================================</span><br><span class="line">&lt;settings xmlns=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0&quot;</span></span><br><span class="line">          xmlns:xsi=<span class="string">&quot;http://www.w3.org/2001/XMLSchema-instance&quot;</span></span><br><span class="line">          xsi:schemaLocation=<span class="string">&quot;http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd&quot;</span>&gt;</span><br><span class="line"></span><br><span class="line">  &lt;localRepository&gt;/var/lib/jenkins/.m2/repository&lt;/localRepository&gt;</span><br><span class="line">  --&gt;</span><br><span class="line">        &lt;mirrors&gt;</span><br><span class="line">                &lt;mirror&gt;</span><br><span class="line">                        &lt;!--This sends everything <span class="keyword">else</span> to /public --&gt;</span><br><span class="line">                        &lt;id&gt;nexus&lt;/id&gt;</span><br><span class="line">                        &lt;mirrorOf&gt;*&lt;/mirrorOf&gt;</span><br><span class="line">                        &lt;url&gt;http://192.168.86.128:7071/repository/custom/&lt;/url&gt;</span><br><span class="line">                &lt;/mirror&gt;</span><br><span class="line">        &lt;/mirrors&gt;</span><br><span class="line"></span><br><span class="line">        &lt;servers&gt;</span><br><span class="line">                &lt;server&gt;</span><br><span class="line">                        &lt;id&gt;nexus&lt;/id&gt;</span><br><span class="line">                        &lt;username&gt;admin&lt;/username&gt;</span><br><span class="line">                        &lt;password&gt;qwer1234&lt;/password&gt; &lt;!--nexus 계정 입력 --&gt;</span><br><span class="line">                &lt;/server&gt;</span><br><span class="line">        &lt;/servers&gt;</span><br><span class="line">&lt;/settings&gt;</span><br><span class="line">===========================================</span><br></pre></td></tr></table></figure>


<h2 id="8-Jenkins-배포환경-만들기"><a href="#8-Jenkins-배포환경-만들기" class="headerlink" title="8. Jenkins 배포환경 만들기"></a>8. Jenkins 배포환경 만들기</h2><p>Jenkins를 빌드하기 위해서는 앞서 세팅했던 아래 4가지의 설정이 필요함다.</p>
<ul>
<li>(1) java 컴파일러  (필수)</li>
<li>(2) Maven  (필수)</li>
<li>(3) git (필수)</li>
<li>(4) nexus (폐쇄망일때는 필수로 구축 외부망이 가능한 경우 선택) </li>
</ul>
<h3 id="8-1-jenkins-환경변수-설정"><a href="#8-1-jenkins-환경변수-설정" class="headerlink" title="8-1. jenkins 환경변수 설정"></a>8-1. jenkins 환경변수 설정</h3><p><img src="/img/infra/jenkins_setting.png" alt="settings"></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su </span><br><span class="line"></span><br><span class="line"><span class="comment"># 1. Java 경로 (jdk로 해야함)</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;JAVA_HOME&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 2. Maven 경로</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$&#123;MAVEN_HOME&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="1-2-4-세팅"><a href="#1-2-4-세팅" class="headerlink" title="(1) / (2) / (4) 세팅"></a>(1) / (2) / (4) 세팅</h3><p><img src="/img/infra/jenkins_settings.png" alt="settings"></p>
<h3 id="8-2-GitLab-Jenkins-키-생성"><a href="#8-2-GitLab-Jenkins-키-생성" class="headerlink" title="8-2 GitLab - Jenkins 키 생성"></a>8-2 GitLab - Jenkins 키 생성</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su </span><br><span class="line"></span><br><span class="line">$ ssh-keygen -t rsa</span><br><span class="line">$ <span class="built_in">cd</span> /root/.ssh</span><br><span class="line">$ ll</span><br><span class="line"></span><br><span class="line">-rw-------. 1 root root 1679 Jul  5 01:04 id_rsa</span><br><span class="line">-rw-r--r--. 1 root root  408 Jul  5 01:04 id_rsa.pub</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<ul>
<li>id_rsa : jenkins 에 설정하는 keygen이고 비밀키</li>
<li>id_rsa.pub : gitlab 에서 설정하는 keygen 공개키 </li>
</ul>
<h3 id="8-3-키확인-후-깃-Jenkis-Credentials-설정"><a href="#8-3-키확인-후-깃-Jenkis-Credentials-설정" class="headerlink" title="8-3 키확인 후 깃 Jenkis_Credentials 설정"></a>8-3 키확인 후 깃 Jenkis_Credentials 설정</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su </span><br><span class="line">$ vi id_rsa</span><br></pre></td></tr></table></figure>

<h4 id="id-rsa"><a href="#id-rsa" class="headerlink" title="id_rsa"></a>id_rsa</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">-----BEGIN RSA PRIVATE KEY-----</span><br><span class="line">MIIEpAIBAAKCAQEA7DWqD5vynjYCB6OW0Zy0LWiV9NRWU6PSdqR65veyItO4YEHN</span><br><span class="line">BTIZEZe/jV0LczTxIUOdt2ewPqD8vgqj3kcp2lvEQ7eoByV6erYCCPELR4R/Uq6F</span><br><span class="line">scP53cHs9TnCHKMpvkyplfp3PY3cgZcW2+fahSbWqOZRe6VFJiaK0zNKpPstM2ag</span><br><span class="line">MZ2GHRbw8Y2PcaEwJiF/Iw48eQeriDxxUvIUlx8Uz1r4Rcqy2v7FdmJLRuF5Uiah</span><br><span class="line">OxRR96dvEv/YyXigXqcWBJVCMfN41m/12DnfMtU3H3NU1DeJ2yNbezCeZloKkOYV</span><br><span class="line">+5CPFohGnC7RxP/ius2Jk3fjBXRdV3Yjhz+yqwIDAQABAoIBAQCqbOm/i2AY4JTE</span><br><span class="line">WDa4FB036g7P7+g9PqTab0AxpyOC10lfQfqftg66T8eoQirBu8ACpRuFOa3C8jqJ</span><br><span class="line">D3o+JRBAeRd5WGhGh7cAFJQRSYE+341R5ZOWt/RvGL1UDZFNQjgbEosFKAqigdlI</span><br><span class="line">MvAOSBG1Ilmc0ViXIp5qsUJWsdo4f5Kba5oSg86AUlIF5SkvXuyxcZkVWGo+e+b9</span><br><span class="line">ehrm6utkMoQHGkDuLCgabOO/4bH/FP+LsUmfhyJetWjlr+SiPwLgm52oVJkljDOj</span><br><span class="line">itfdZHgGqvmmEtCskTneiNjZwnpsrSzSqYE8yfnHwLmqwDAtBxxrGiY/LHAfZyMI</span><br><span class="line">NNjp78CRAoGBAPyBDSSP9b2iYCISe/QTxAerDAhqXA2Q9TJ1bi+W68Jxxl8RfrKb</span><br><span class="line">yiLcLHBgkfFpN9A0VySEN2cZuzAHUBWxtDunCIU8/5C6L1CGaORJGXf7ed2ceniN</span><br><span class="line">RfeAe2CHW2V6zYqfEYt4IKY6LyUf+IAO163uW3oSc6F7smAKgltWLSbzAoGBAO96</span><br><span class="line">3ExZvf8gmtOn+aIkX0yL9oqquEgWZhbbPdN0/odLVkAyBXCZm7LUyZqlLziJ4wjZ</span><br><span class="line">HQkI6cKMwfW2eL+4HAdh4CNikyKf51H8Qon4WdJTXmbDx8SSmWAoMaqgnOOOm/Wb</span><br><span class="line">h5ZaKkyLXPYtG/xpw6ZmI9I+OH0Mp9JDVRCs2qNpAoGBAPunEpYx89R/lBfhHDBx</span><br><span class="line">0plh26g3eG783aLgbmR3oZg1FGODaCZSJe8ASDnnxQw4tSuIPqFiNGVIu8puP16f</span><br><span class="line">sOUS3+cKmBqBtM4oZzm9sOhndVlsrpKfGfBF2LCntms5LMjPKAk8PC3vJzV025Gl</span><br><span class="line">OUdbm0faQ+vZADm/v5OQG4gJAoGARiIsDCwoCWSKEzxZTlPqmOdQf5G5wFrW8RCq</span><br><span class="line">DZhwxjyY+NntX+mMgJXyqNiBeMRg+gFjkHbMxs4kK4qR2EvZ4YuXcaV3w6civo7r</span><br><span class="line">Ca7y1zbVKbFier4YLuH2karR546nPAmdbrnfM2WJBwt067opszysdvED6BNhvqE7</span><br><span class="line">c1O8ACkCgYBkaiV94n0gcXp0DXjVhBEMupN4hJuaYDuZ/HdVASAaBorIYeqTikza</span><br><span class="line">n5dWWSd/Fn2qODkPrm7DQVx/jTQruGwM9gH1dox2WIVe6fwD6QO/0XirpBcn9gH0</span><br><span class="line">qe1besFemXQ7rffe0423eJwUptx1fr6bpZUbjmoTq2lpPgK+wODL/g==</span><br><span class="line">-----END RSA PRIVATE KEY-----</span><br></pre></td></tr></table></figure>

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su </span><br><span class="line">$ vi id_rsa.pub</span><br></pre></td></tr></table></figure>

<h4 id="id-rsa-pub"><a href="#id-rsa-pub" class="headerlink" title="id_rsa.pub"></a>id_rsa.pub</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQDsNaoPm/KeNgIHo5bRnLQtaJX01FZTo9J2pHrm97Ii07hgQc0FMhkRl7+NXQtzNPEhQ523Z7A+oPy+CqPeRynaW8RDt6gHJXp6tgII8QtHhH9SroWxw/ndwez1OcIcoym+TKmV+nc9jdyBlxbb59qFJtao5lF7pUUmJorTM0qk+y0zZqAxnYYdFvDxjY9xoTAmIX8jDjx5B6uIPHFS8hSXHxTPWvhFyrLa/sV2YktG4XlSJqE7FFH3p28S/9jJeKBepxYElUIx83jWb/XYOd8y1Tcfc1TUN4nbI1t7MJ5mWgqQ5hX7kI8WiEacLtHE/+K6zYmTd+MFdF1XdiOHP7Kr root@localhost.localdomain</span><br></pre></td></tr></table></figure>


<p><img src="/img/infra/ex1.PNG" alt="settings"></p>
<p><img src="/img/infra/ex2.png" alt="settings"></p>
<p><img src="/img/infra/ex3.png" alt="settings"></p>
<p><img src="/img/infra/ex4.png" alt="settings"></p>
<h3 id="cf-아래-사진과-같이-Maven-Version으로-인한-문제가-발생시"><a href="#cf-아래-사진과-같이-Maven-Version으로-인한-문제가-발생시" class="headerlink" title="cf) 아래 사진과 같이 Maven Version으로 인한 문제가 발생시.."></a>cf) 아래 사진과 같이 Maven Version으로 인한 문제가 발생시..</h3><p><img src="/img/infra/problem1.PNG" alt="settings"></p>
<p><code>Maven 버전이 낮아서 생기는 문제</code></p>
<ol>
<li><a target="_blank" rel="noopener" href="https://maven.apache.org/">MAVEN</a> 홈페이지 이동 후 최신 버전 다운로드</li>
</ol>
<ol start="2">
<li><p>기존 버전 삭제</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su </span><br><span class="line"></span><br><span class="line">$ yum list installed | grep maven </span><br><span class="line"></span><br><span class="line">============================</span><br><span class="line">$ maven.noarch </span><br><span class="line">$ maven-wagon.noarch</span><br><span class="line">============================</span><br><span class="line"></span><br><span class="line">$ yum remove maven.noarch </span><br><span class="line">$ yum remove maven-wagon.noarch </span><br><span class="line"></span><br></pre></td></tr></table></figure></li>
<li><p>다운로드 한 파일 새 위치에 이동</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># [root@localhost]</span></span><br><span class="line">$ sudo su </span><br><span class="line"></span><br><span class="line">$ tar -zxvf ./apache-maven-3.8.6-bin.tar.gz</span><br><span class="line"></span><br><span class="line"><span class="comment"># maven home path 다시변경</span></span><br><span class="line">$ vi /etc/profile</span><br><span class="line">===================================================</span><br><span class="line"><span class="built_in">export</span> MAVEN_HOME=/usr/lib/apache-maven-3.8.6</span><br><span class="line">===================================================</span><br><span class="line"></span><br><span class="line">$ sudo ln -s <span class="variable">$MAVEN_HOME</span>/bin/mvn /usr/bin/mvn</span><br><span class="line"></span><br><span class="line">$ mvn -v  <span class="comment"># Apache Maven 3.8.6</span></span><br></pre></td></tr></table></figure></li>
<li><p>Jenkins <code>MAVEN_HOME</code> 변경 </p>
</li>
</ol>
</article><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/infra/">infra</a></div><div class="post_share"><div class="social-share" data-image="/img/logo/CentOs.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="next-post pull-full"><a href="/2022/06/17/20220617-codeTest-j/"><img class="next-cover" src="/img/codingtest/logo/1.png" onerror="onerror=null;src='/img/404.jpg'" alt="cover of next post"><div class="pagination-info"><div class="label">Next Post</div><div class="next_info">LV1. 예산</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>Related Articles</span></div><div class="relatedPosts-list"><div><a href="/2022/01/17/2201-jenkins-gitlab/" title="Jenkins에서 GitLab프로젝트 배포"><img class="cover" src="/img/infra/logo/GitLab-Jenkins.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-17</div><div class="title">Jenkins에서 GitLab프로젝트 배포</div></div></a></div><div><a href="/2022/01/06/2201_Jenkins/" title="Ubuntu에서 Jenkins 사용하기"><img class="cover" src="/img/infra/logo/Jenkins.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-06</div><div class="title">Ubuntu에서 Jenkins 사용하기</div></div></a></div><div><a href="/2022/01/05/2201_GitLab/" title="Ubuntu에서 GitLab 사용하기"><img class="cover" src="/img/infra/logo/GitLab.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-05</div><div class="title">Ubuntu에서 GitLab 사용하기</div></div></a></div><div><a href="/2022/01/07/2201_Nexus/" title="Ubuntu에서 Nexus 사용하기"><img class="cover" src="/img/infra/logo/nexus.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-07</div><div class="title">Ubuntu에서 Nexus 사용하기</div></div></a></div><div><a href="/2022/01/04/2201_Ubuntu/" title="Ubuntu 환경 만들기"><img class="cover" src="/img/infra/logo/Ubuntu.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-04</div><div class="title">Ubuntu 환경 만들기</div></div></a></div><div><a href="/2022/01/03/2201_infra-struc/" title="내부 인프라 만들기 프로젝트[목차]"><img class="cover" src="/img/infra/logo/lnfra.PNG" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-01-03</div><div class="title">내부 인프라 만들기 프로젝트[목차]</div></div></a></div></div></div><hr/><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> Comment</span></div></div><div class="comment-wrap"><div><div id="disqus_thread"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.png" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">현수쓰</div><div class="author-info__description">기술블로그</div></div><div class="card-info-data is-center"><div class="card-info-data-item"><a href="/archives/"><div class="headline">Articles</div><div class="length-num">118</div></a></div><div class="card-info-data-item"><a href="/tags/"><div class="headline">Tags</div><div class="length-num">24</div></a></div><div class="card-info-data-item"><a href="/categories/"><div class="headline">Categories</div><div class="length-num">19</div></a></div></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/khs9628"><i class="fab fa-github"></i><span>Follow Me</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="https://github.com/khs9628" target="_blank" title=""><i class="fa fa-github"></i></a><a class="social-icon" href="https://www.instagram.com/khs9628" target="_blank" title=""><i class="fa fa-instagram"></i></a><a class="social-icon" href="https://www.facebook.com/profile.php?id=100002507953205" target="_blank" title=""><i class="fa fa-facebook"></i></a></div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>Catalog</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#CentOs-%EC%84%A4%EC%A0%95"><span class="toc-number">1.</span> <span class="toc-text">CentOs 설정</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-NAT-%EC%84%A4%EC%A0%95"><span class="toc-number">1.1.</span> <span class="toc-text">1. NAT 설정</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#GitLab-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%84%A4%EC%A0%95"><span class="toc-number">2.</span> <span class="toc-text">GitLab 설치 및 설정</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#ROOT-%EA%B3%84%EC%A0%95-%EA%B0%80%EC%A0%B8%EC%98%A4%EA%B8%B0"><span class="toc-number">2.1.</span> <span class="toc-text">ROOT 계정 가져오기</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#Jenkins-%EC%84%A4%EC%B9%98-%EB%B0%8F-%EC%84%A4%EC%A0%95"><span class="toc-number">3.</span> <span class="toc-text">Jenkins 설치 및 설정</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#1-JDK-%EC%84%A4%EC%B9%98"><span class="toc-number">3.1.</span> <span class="toc-text">1. JDK 설치</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#2-Maven-%EC%84%A4%EC%B9%98"><span class="toc-number">3.2.</span> <span class="toc-text">2. Maven 설치</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#3-Jenkins-%EC%84%A4%EC%B9%98"><span class="toc-number">3.3.</span> <span class="toc-text">3. Jenkins 설치</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#4-Jenkins-%EC%84%B8%EB%B6%80%EC%84%A4%EC%A0%95"><span class="toc-number">3.4.</span> <span class="toc-text">4. Jenkins 세부설정</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#4-1-%ED%95%B4%EB%8B%B9-%ED%8F%AC%ED%8A%B8%EC%9D%98-url-%EC%A0%91%EC%86%8D"><span class="toc-number">3.4.1.</span> <span class="toc-text">4-1. 해당 포트의 url 접속</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-2-%EA%B3%84%EC%A0%95-pw-%EC%9E%85%EB%A0%A5"><span class="toc-number">3.4.2.</span> <span class="toc-text">4-2. 계정 pw 입력</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-3-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C"><span class="toc-number">3.4.3.</span> <span class="toc-text">4-3. 라이브러리 다운로드</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#4-4-Create-First-Admin-User"><span class="toc-number">3.4.4.</span> <span class="toc-text">4-4. Create First Admin User</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#5-Nexus-%EA%B5%AC%EC%B6%95"><span class="toc-number">3.5.</span> <span class="toc-text">5. Nexus 구축</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#5-1-%EC%84%A4%EC%B9%98"><span class="toc-number">3.5.1.</span> <span class="toc-text">5-1. 설치</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#6-Sample-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-%EC%84%9C%EB%B2%84-%EC%9D%B4%EB%8F%99-%EB%B0%8F-gitlab%EC%97%90-push"><span class="toc-number">3.6.</span> <span class="toc-text">6. Sample 프로젝트 서버 이동 및 gitlab에 push</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%B0%B8%EA%B3%A0%EC%82%AC%ED%95%AD"><span class="toc-number">3.6.1.</span> <span class="toc-text">참고사항</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%B0%B8%EA%B3%A0-project"><span class="toc-number">3.6.2.</span> <span class="toc-text">참고 project</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-1-%EC%9C%84-%EC%B0%B8%EA%B3%A0-URL%EC%9D%84-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C-%ED%9B%84-FTP%EB%A5%BC-%ED%86%B5%ED%95%B4-%ED%95%B4%EB%8B%B9-%EC%84%9C%EB%B2%84%EC%97%90-%EC%9C%84%EC%B9%98%EC%97%90-%EC%A0%80%EC%9E%A5%EC%8B%9C%ED%82%A8%EB%8B%A4"><span class="toc-number">3.6.3.</span> <span class="toc-text">6-1. 위 참고 URL을 다운로드 후 FTP를 통해 해당 서버에 위치에 저장시킨다.</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-2-FTP%EB%A5%BC-%ED%86%B5%ED%95%B4-%ED%95%B4%EB%8B%B9-%EC%84%9C%EB%B2%84%EC%97%90-%EC%9C%84%EC%B9%98%EC%97%90-%ED%94%84%EB%A1%9C%EC%A0%9D%ED%8A%B8-copy"><span class="toc-number">3.6.4.</span> <span class="toc-text">6-2. FTP를 통해 해당 서버에 위치에 프로젝트 copy</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#6-3-%EA%B9%83-%EC%84%A4%EC%B9%98-%ED%9B%84-%ED%95%B4%EB%8B%B9-%ED%8C%8C%EC%9D%BC-gitlab-%EC%84%9C%EB%B2%84%EC%97%90-%EC%97%85%EB%A1%9C%EB%93%9C"><span class="toc-number">3.6.5.</span> <span class="toc-text">6-3 깃 설치 후 해당 파일 gitlab 서버에 업로드</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-Nexus%EC%97%90-Repo-%EC%83%9D%EC%84%B1-%ED%9B%84-Maven-%EB%9D%BC%EC%9D%B4%EB%B8%8C%EB%9F%AC%EB%A6%AC-%EC%97%85%EB%A1%9C%EB%93%9C"><span class="toc-number">3.6.6.</span> <span class="toc-text">7. Nexus에 Repo 생성 후 Maven 라이브러리 업로드</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-1-%EC%B0%B8%EA%B3%A0-Maven-Repository-%EB%8B%A4%EC%9A%B4%EB%A1%9C%EB%93%9C-%EB%B0%8F-%EC%95%95%EC%B6%95"><span class="toc-number">3.6.7.</span> <span class="toc-text">7-1. 참고 Maven Repository 다운로드 및 압축</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%EC%B0%B8%EA%B3%A0-Maven-Repository"><span class="toc-number">3.6.8.</span> <span class="toc-text">참고 Maven Repository</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-2-%EC%84%9C%EB%B2%84%EC%97%90-nexus-repository-%EB%94%94%EB%A0%89%ED%84%B0%EB%A6%AC-%EC%83%9D%EC%84%B1-gt-%ED%8C%8C%EC%9D%BC-%EC%9D%B4%EB%8F%99-gt-unzip"><span class="toc-number">3.6.9.</span> <span class="toc-text">7-2. 서버에 nexus repository 디렉터리 생성 &gt; 파일 이동 &gt; unzip</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#repo-%EC%83%9D%EC%84%B1-%EB%94%94%EB%A0%89%ED%84%B0%EB%A6%AC-%EC%83%9D%EC%84%B1"><span class="toc-number">3.6.9.1.</span> <span class="toc-text">repo 생성 (디렉터리 생성)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%ED%8C%8C%EC%9D%BC-%EB%B3%B5%EC%82%AC-FTP%EB%A5%BC-%EC%9D%B4%EC%9A%A9%ED%95%B4%EC%84%9C"><span class="toc-number">3.6.9.2.</span> <span class="toc-text">파일 복사 (FTP를 이용해서)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-3-nexus-repository-%EB%94%94%EB%A0%89%ED%84%B0%EB%A6%AC%EC%97%90-%EC%95%95%EC%B6%95%ED%95%B4%EC%A0%9C"><span class="toc-number">3.6.10.</span> <span class="toc-text">7-3. nexus repository 디렉터리에 압축해제</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-4-Nexus%EC%97%90-custom-repository-%EC%84%A4%EC%A0%95"><span class="toc-number">3.6.11.</span> <span class="toc-text">7-4. Nexus에 custom repository 설정</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-5-maven-repository-upload-script-%EC%83%9D%EC%84%B1-%EB%B0%8F-custom-repository-%EC%97%85%EB%A1%9C%EB%93%9C"><span class="toc-number">3.6.12.</span> <span class="toc-text">7-5. maven repository upload script 생성 및 custom repository 업로드</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#7-6-Maven-%ED%99%98%EA%B2%BD%EC%84%A4%EC%A0%95-%ED%8C%8C%EC%9D%BC-%EB%B3%80%EA%B2%BD"><span class="toc-number">3.6.13.</span> <span class="toc-text">7-6. Maven 환경설정 파일 변경</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#8-Jenkins-%EB%B0%B0%ED%8F%AC%ED%99%98%EA%B2%BD-%EB%A7%8C%EB%93%A4%EA%B8%B0"><span class="toc-number">3.7.</span> <span class="toc-text">8. Jenkins 배포환경 만들기</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#8-1-jenkins-%ED%99%98%EA%B2%BD%EB%B3%80%EC%88%98-%EC%84%A4%EC%A0%95"><span class="toc-number">3.7.1.</span> <span class="toc-text">8-1. jenkins 환경변수 설정</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#1-2-4-%EC%84%B8%ED%8C%85"><span class="toc-number">3.7.2.</span> <span class="toc-text">(1) &#x2F; (2) &#x2F; (4) 세팅</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-2-GitLab-Jenkins-%ED%82%A4-%EC%83%9D%EC%84%B1"><span class="toc-number">3.7.3.</span> <span class="toc-text">8-2 GitLab - Jenkins 키 생성</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#8-3-%ED%82%A4%ED%99%95%EC%9D%B8-%ED%9B%84-%EA%B9%83-Jenkis-Credentials-%EC%84%A4%EC%A0%95"><span class="toc-number">3.7.4.</span> <span class="toc-text">8-3 키확인 후 깃 Jenkis_Credentials 설정</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#id-rsa"><span class="toc-number">3.7.4.1.</span> <span class="toc-text">id_rsa</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#id-rsa-pub"><span class="toc-number">3.7.4.2.</span> <span class="toc-text">id_rsa.pub</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#cf-%EC%95%84%EB%9E%98-%EC%82%AC%EC%A7%84%EA%B3%BC-%EA%B0%99%EC%9D%B4-Maven-Version%EC%9C%BC%EB%A1%9C-%EC%9D%B8%ED%95%9C-%EB%AC%B8%EC%A0%9C%EA%B0%80-%EB%B0%9C%EC%83%9D%EC%8B%9C"><span class="toc-number">3.7.5.</span> <span class="toc-text">cf) 아래 사진과 같이 Maven Version으로 인한 문제가 발생시..</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>Recent Post</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2022/06/28/CentOs/" title="CentOs 설정"><img src="/img/logo/CentOs.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="CentOs 설정"/></a><div class="content"><a class="title" href="/2022/06/28/CentOs/" title="CentOs 설정">CentOs 설정</a><time datetime="2022-06-28T05:58:39.000Z" title="Created 2022-06-28 14:58:39">2022-06-28</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/17/20220617-codeTest-j/" title="LV1. 예산"><img src="/img/codingtest/logo/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LV1. 예산"/></a><div class="content"><a class="title" href="/2022/06/17/20220617-codeTest-j/" title="LV1. 예산">LV1. 예산</a><time datetime="2022-06-17T02:41:58.000Z" title="Created 2022-06-17 11:41:58">2022-06-17</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/16/20220616-codeTest/" title="우유와 요거트가 담긴 장바구니 | 헤비 유저가 소유한 장소"><img src="/img/DB/logo/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="우유와 요거트가 담긴 장바구니 | 헤비 유저가 소유한 장소"/></a><div class="content"><a class="title" href="/2022/06/16/20220616-codeTest/" title="우유와 요거트가 담긴 장바구니 | 헤비 유저가 소유한 장소">우유와 요거트가 담긴 장바구니 | 헤비 유저가 소유한 장소</a><time datetime="2022-06-16T01:12:50.000Z" title="Created 2022-06-16 10:12:50">2022-06-16</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/10/20220610-codeTest-j2/" title="LV2. 튜플"><img src="/img/codingtest/logo/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LV2. 튜플"/></a><div class="content"><a class="title" href="/2022/06/10/20220610-codeTest-j2/" title="LV2. 튜플">LV2. 튜플</a><time datetime="2022-06-10T05:27:10.000Z" title="Created 2022-06-10 14:27:10">2022-06-10</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2022/06/10/20220610-codeTest-j/" title="LV1. 약수의 개수와 덧셈"><img src="/img/codingtest/logo/1.png" onerror="this.onerror=null;this.src='/img/404.jpg'" alt="LV1. 약수의 개수와 덧셈"/></a><div class="content"><a class="title" href="/2022/06/10/20220610-codeTest-j/" title="LV1. 약수의 개수와 덧셈">LV1. 약수의 개수와 덧셈</a><time datetime="2022-06-10T02:50:50.000Z" title="Created 2022-06-10 11:50:50">2022-06-10</time></div></div></div></div></div></div></main><footer id="footer" style="background: black"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2022 By 현수쓰</div><div class="footer_custom_text">Code Your Life</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="Read Mode"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="Switch Between Light And Dark Mode"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="Toggle between single-column and double-column"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="Setting"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="Table Of Contents"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="Scroll To Comments"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="Back To Top"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script src="https://cdn.jsdelivr.net/npm/@fancyapps/ui/dist/fancybox.umd.js"></script><div class="js-pjax"><script>function loadDisqus () {
  var disqus_config = function () {
    this.page.url = 'https://khs9628.github.io/2022/06/28/CentOs/'
    this.page.identifier = '2022/06/28/CentOs/'
    this.page.title = 'CentOs 설정'
  };

  window.disqusReset = () => {
    DISQUS.reset({
      reload: true,
      config: disqus_config
    })
  }

  if (window.DISQUS) disqusReset()
  else {
    (function() { 
      var d = document, s = d.createElement('script');
      s.src = 'https://khs9628.disqus.com/embed.js';
      s.setAttribute('data-timestamp', +new Date());
      (d.head || d.body).appendChild(s);
    })();
  }
}

if ('Disqus' === 'Disqus' || !false) {
  if (false) btf.loadComment(document.getElementById('disqus_thread'), loadDisqus)
  else loadDisqus()
} else {
  function loadOtherComment () {
    loadDisqus()
  }
}
</script></div><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>